<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.10.0" />
<title>aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event API documentation</title>
<meta name="description" content="" />
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/sanitize.min.css" integrity="sha256-PK9q560IAAa6WVRRh76LtCaI8pjTJ2z11v0miyNNjrs=" crossorigin>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/typography.min.css" integrity="sha256-7l/o7C8jubJiy74VsKTidCy1yBkRtiUGbVkYBylBqUg=" crossorigin>
<link rel="stylesheet preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/github.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js" integrity="sha256-Uv3H6lx7dJmRfRvH8TH6kJD1TSK1aFcwgx+mdg3epi8=" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => hljs.initHighlighting())</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event</code></h1>
</header>
<section id="section-intro">
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">import enum
import re
from typing import Any, Dict, List, Optional

from aws_lambda_powertools.utilities.data_classes.common import (
    BaseRequestContext,
    BaseRequestContextV2,
    DictWrapper,
    get_header_value,
)


class APIGatewayRouteArn:
    &#34;&#34;&#34;A parsed route arn&#34;&#34;&#34;

    def __init__(
        self,
        region: str,
        aws_account_id: str,
        api_id: str,
        stage: str,
        http_method: str,
        resource: str,
        partition: str = &#34;aws&#34;,
    ):
        self.partition = partition
        self.region = region
        self.aws_account_id = aws_account_id
        self.api_id = api_id
        self.stage = stage
        self.http_method = http_method
        # Remove matching &#34;/&#34; from `resource`.
        self.resource = resource.lstrip(&#34;/&#34;)

    @property
    def arn(self) -&gt; str:
        &#34;&#34;&#34;Build an arn from its parts
        eg: arn:aws:execute-api:us-east-1:123456789012:abcdef123/test/GET/request&#34;&#34;&#34;
        return (
            f&#34;arn:{self.partition}:execute-api:{self.region}:{self.aws_account_id}:{self.api_id}/{self.stage}/&#34;
            f&#34;{self.http_method}/{self.resource}&#34;
        )


def parse_api_gateway_arn(arn: str) -&gt; APIGatewayRouteArn:
    &#34;&#34;&#34;Parses a gateway route arn as a APIGatewayRouteArn class

    Parameters
    ----------
    arn : str
        ARN string for a methodArn or a routeArn
    Returns
    -------
    APIGatewayRouteArn
    &#34;&#34;&#34;
    arn_parts = arn.split(&#34;:&#34;)
    api_gateway_arn_parts = arn_parts[5].split(&#34;/&#34;)
    return APIGatewayRouteArn(
        partition=arn_parts[1],
        region=arn_parts[3],
        aws_account_id=arn_parts[4],
        api_id=api_gateway_arn_parts[0],
        stage=api_gateway_arn_parts[1],
        http_method=api_gateway_arn_parts[2],
        # conditional allow us to handle /path/{proxy+} resources, as their length changes.
        resource=&#34;/&#34;.join(api_gateway_arn_parts[3:]) if len(api_gateway_arn_parts) &gt;= 4 else &#34;&#34;,
    )


class APIGatewayAuthorizerTokenEvent(DictWrapper):
    &#34;&#34;&#34;API Gateway Authorizer Token Event Format 1.0

    Documentation:
    -------------
    - https://docs.aws.amazon.com/apigateway/latest/developerguide/apigateway-use-lambda-authorizer.html
    &#34;&#34;&#34;

    @property
    def get_type(self) -&gt; str:
        return self[&#34;type&#34;]

    @property
    def authorization_token(self) -&gt; str:
        return self[&#34;authorizationToken&#34;]

    @property
    def method_arn(self) -&gt; str:
        &#34;&#34;&#34;ARN of the incoming method request and is populated by API Gateway in accordance with the Lambda authorizer
        configuration&#34;&#34;&#34;
        return self[&#34;methodArn&#34;]

    @property
    def parsed_arn(self) -&gt; APIGatewayRouteArn:
        &#34;&#34;&#34;Convenient property to return a parsed api gateway method arn&#34;&#34;&#34;
        return parse_api_gateway_arn(self.method_arn)


class APIGatewayAuthorizerRequestEvent(DictWrapper):
    &#34;&#34;&#34;API Gateway Authorizer Request Event Format 1.0

    Documentation:
    -------------
    - https://docs.aws.amazon.com/apigateway/latest/developerguide/apigateway-use-lambda-authorizer.html
    - https://docs.aws.amazon.com/apigateway/latest/developerguide/http-api-lambda-authorizer.html
    &#34;&#34;&#34;

    @property
    def version(self) -&gt; str:
        return self[&#34;version&#34;]

    @property
    def get_type(self) -&gt; str:
        return self[&#34;type&#34;]

    @property
    def method_arn(self) -&gt; str:
        return self[&#34;methodArn&#34;]

    @property
    def parsed_arn(self) -&gt; APIGatewayRouteArn:
        return parse_api_gateway_arn(self.method_arn)

    @property
    def identity_source(self) -&gt; str:
        return self[&#34;identitySource&#34;]

    @property
    def authorization_token(self) -&gt; str:
        return self[&#34;authorizationToken&#34;]

    @property
    def resource(self) -&gt; str:
        return self[&#34;resource&#34;]

    @property
    def path(self) -&gt; str:
        return self[&#34;path&#34;]

    @property
    def http_method(self) -&gt; str:
        return self[&#34;httpMethod&#34;]

    @property
    def headers(self) -&gt; Dict[str, str]:
        return self[&#34;headers&#34;]

    @property
    def query_string_parameters(self) -&gt; Dict[str, str]:
        return self[&#34;queryStringParameters&#34;]

    @property
    def path_parameters(self) -&gt; Dict[str, str]:
        return self[&#34;pathParameters&#34;]

    @property
    def stage_variables(self) -&gt; Dict[str, str]:
        return self[&#34;stageVariables&#34;]

    @property
    def request_context(self) -&gt; BaseRequestContext:
        return BaseRequestContext(self._data)

    def get_header_value(
        self, name: str, default_value: Optional[str] = None, case_sensitive: Optional[bool] = False
    ) -&gt; Optional[str]:
        &#34;&#34;&#34;Get header value by name

        Parameters
        ----------
        name: str
            Header name
        default_value: str, optional
            Default value if no value was found by name
        case_sensitive: bool
            Whether to use a case-sensitive look up
        Returns
        -------
        str, optional
            Header value
        &#34;&#34;&#34;
        return get_header_value(self.headers, name, default_value, case_sensitive)


class APIGatewayAuthorizerEventV2(DictWrapper):
    &#34;&#34;&#34;API Gateway Authorizer Event Format 2.0

    Documentation:
    -------------
    - https://docs.aws.amazon.com/apigateway/latest/developerguide/http-api-lambda-authorizer.html
    - https://aws.amazon.com/blogs/compute/introducing-iam-and-lambda-authorizers-for-amazon-api-gateway-http-apis/
    &#34;&#34;&#34;

    @property
    def version(self) -&gt; str:
        &#34;&#34;&#34;Event payload version should always be 2.0&#34;&#34;&#34;
        return self[&#34;version&#34;]

    @property
    def get_type(self) -&gt; str:
        &#34;&#34;&#34;Event type should always be request&#34;&#34;&#34;
        return self[&#34;type&#34;]

    @property
    def route_arn(self) -&gt; str:
        &#34;&#34;&#34;ARN of the route being called

        eg: arn:aws:execute-api:us-east-1:123456789012:abcdef123/test/GET/request&#34;&#34;&#34;
        return self[&#34;routeArn&#34;]

    @property
    def parsed_arn(self) -&gt; APIGatewayRouteArn:
        &#34;&#34;&#34;Convenient property to return a parsed api gateway route arn&#34;&#34;&#34;
        return parse_api_gateway_arn(self.route_arn)

    @property
    def identity_source(self) -&gt; Optional[List[str]]:
        &#34;&#34;&#34;The identity source for which authorization is requested.

        For a REQUEST authorizer, this is optional. The value is a set of one or more mapping expressions of the
        specified request parameters. The identity source can be headers, query string parameters, stage variables,
        and context parameters.
        &#34;&#34;&#34;
        return self.get(&#34;identitySource&#34;)

    @property
    def route_key(self) -&gt; str:
        &#34;&#34;&#34;The route key for the route. For HTTP APIs, the route key can be either $default,
        or a combination of an HTTP method and resource path, for example, GET /pets.&#34;&#34;&#34;
        return self[&#34;routeKey&#34;]

    @property
    def raw_path(self) -&gt; str:
        return self[&#34;rawPath&#34;]

    @property
    def raw_query_string(self) -&gt; str:
        return self[&#34;rawQueryString&#34;]

    @property
    def cookies(self) -&gt; List[str]:
        &#34;&#34;&#34;Cookies&#34;&#34;&#34;
        return self[&#34;cookies&#34;]

    @property
    def headers(self) -&gt; Dict[str, str]:
        &#34;&#34;&#34;Http headers&#34;&#34;&#34;
        return self[&#34;headers&#34;]

    @property
    def query_string_parameters(self) -&gt; Dict[str, str]:
        return self[&#34;queryStringParameters&#34;]

    @property
    def request_context(self) -&gt; BaseRequestContextV2:
        return BaseRequestContextV2(self._data)

    @property
    def path_parameters(self) -&gt; Optional[Dict[str, str]]:
        return self.get(&#34;pathParameters&#34;)

    @property
    def stage_variables(self) -&gt; Optional[Dict[str, str]]:
        return self.get(&#34;stageVariables&#34;)

    def get_header_value(
        self, name: str, default_value: Optional[str] = None, case_sensitive: Optional[bool] = False
    ) -&gt; Optional[str]:
        &#34;&#34;&#34;Get header value by name

        Parameters
        ----------
        name: str
            Header name
        default_value: str, optional
            Default value if no value was found by name
        case_sensitive: bool
            Whether to use a case-sensitive look up
        Returns
        -------
        str, optional
            Header value
        &#34;&#34;&#34;
        return get_header_value(self.headers, name, default_value, case_sensitive)


class APIGatewayAuthorizerResponseV2:
    &#34;&#34;&#34;Api Gateway HTTP API V2 payload authorizer simple response helper

    Parameters
    ----------
    authorize: bool
        authorize is a boolean value indicating if the value in authorizationToken
        is authorized to make calls to the GraphQL API. If this value is
        true, execution of the GraphQL API continues. If this value is false,
        an UnauthorizedException is raised
    context: Dict[str, Any], optional
        A JSON object visible as `event.requestContext.authorizer` lambda event

        The context object only supports key-value pairs. Nested keys are not supported.

        Warning: The total size of this JSON object must not exceed 5MB.
    &#34;&#34;&#34;

    def __init__(
        self,
        authorize: bool = False,
        context: Optional[Dict[str, Any]] = None,
    ):
        self.authorize = authorize
        self.context = context

    def asdict(self) -&gt; dict:
        &#34;&#34;&#34;Return the response as a dict&#34;&#34;&#34;
        response: Dict = {&#34;isAuthorized&#34;: self.authorize}

        if self.context:
            response[&#34;context&#34;] = self.context

        return response


class HttpVerb(enum.Enum):
    &#34;&#34;&#34;Enum of http methods / verbs&#34;&#34;&#34;

    GET = &#34;GET&#34;
    POST = &#34;POST&#34;
    PUT = &#34;PUT&#34;
    PATCH = &#34;PATCH&#34;
    HEAD = &#34;HEAD&#34;
    DELETE = &#34;DELETE&#34;
    OPTIONS = &#34;OPTIONS&#34;
    ALL = &#34;*&#34;


DENY_ALL_RESPONSE = {
    &#34;principalId&#34;: &#34;deny-all-user&#34;,
    &#34;policyDocument&#34;: {
        &#34;Version&#34;: &#34;2012-10-17&#34;,
        &#34;Statement&#34;: [
            {
                &#34;Action&#34;: &#34;execute-api:Invoke&#34;,
                &#34;Effect&#34;: &#34;Deny&#34;,
                &#34;Resource&#34;: [&#34;*&#34;],
            }
        ],
    },
}


class APIGatewayAuthorizerResponse:
    &#34;&#34;&#34;The IAM Policy Response required for API Gateway REST APIs and HTTP APIs.

    Based on: - https://github.com/awslabs/aws-apigateway-lambda-authorizer-blueprints/blob/\
    master/blueprints/python/api-gateway-authorizer-python.py

    Documentation:
    -------------
    - https://docs.aws.amazon.com/apigateway/latest/developerguide/http-api-lambda-authorizer.html
    - https://docs.aws.amazon.com/apigateway/latest/developerguide/api-gateway-lambda-authorizer-output.html
    &#34;&#34;&#34;

    path_regex = r&#34;^[/.a-zA-Z0-9-_\*]+$&#34;
    &#34;&#34;&#34;The regular expression used to validate resource paths for the policy&#34;&#34;&#34;

    def __init__(
        self,
        principal_id: str,
        region: str,
        aws_account_id: str,
        api_id: str,
        stage: str,
        context: Optional[Dict] = None,
        usage_identifier_key: Optional[str] = None,
        partition: str = &#34;aws&#34;,
    ):
        &#34;&#34;&#34;
        Parameters
        ----------
        principal_id : str
            The principal used for the policy, this should be a unique identifier for the end user
        region : str
            AWS Regions. Beware of using &#39;*&#39; since it will not simply mean any region, because stars will greedily
            expand over &#39;/&#39; or other separators.
            See https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_elements_resource.html for more
            details.
        aws_account_id : str
            The AWS account id the policy will be generated for. This is used to create the method ARNs.
        api_id : str
            The API Gateway API id to be used in the policy.
            Beware of using &#39;*&#39; since it will not simply mean any API Gateway API id, because stars will greedily
            expand over &#39;/&#39; or other separators.
            See https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_elements_resource.html for more
            details.
        stage : str
            The default stage to be used in the policy.
            Beware of using &#39;*&#39; since it will not simply mean any stage, because stars will
            greedily expand over &#39;/&#39; or other separators.
            See https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_elements_resource.html for more
            details.
        context : Dict, optional
            Optional, context.
            Note: only names of type string and values of type int, string or boolean are supported
        usage_identifier_key: str, optional
            If the API uses a usage plan (the apiKeySource is set to `AUTHORIZER`), the Lambda authorizer function
            must return one of the usage plan&#39;s API keys as the usageIdentifierKey property value.
            &gt; **Note:** This only applies for REST APIs.
        partition: str, optional
            Optional, arn partition.
            See https://docs.aws.amazon.com/IAM/latest/UserGuide/reference-arns.html
        &#34;&#34;&#34;
        self.principal_id = principal_id
        self.region = region
        self.aws_account_id = aws_account_id
        self.api_id = api_id
        self.stage = stage
        self.context = context
        self.usage_identifier_key = usage_identifier_key
        self._allow_routes: List[Dict] = []
        self._deny_routes: List[Dict] = []
        self._resource_pattern = re.compile(self.path_regex)
        self.partition = partition

    @staticmethod
    def from_route_arn(
        arn: str,
        principal_id: str,
        context: Optional[Dict] = None,
        usage_identifier_key: Optional[str] = None,
    ) -&gt; &#34;APIGatewayAuthorizerResponse&#34;:
        parsed_arn = parse_api_gateway_arn(arn)
        return APIGatewayAuthorizerResponse(
            principal_id,
            parsed_arn.region,
            parsed_arn.aws_account_id,
            parsed_arn.api_id,
            parsed_arn.stage,
            context,
            usage_identifier_key,
        )

    def _add_route(self, effect: str, http_method: str, resource: str, conditions: Optional[List[Dict]] = None):
        &#34;&#34;&#34;Adds a route to the internal lists of allowed or denied routes. Each object in
        the internal list contains a resource ARN and a condition statement. The condition
        statement can be null.&#34;&#34;&#34;
        if http_method != &#34;*&#34; and http_method not in HttpVerb.__members__:
            allowed_values = [verb.value for verb in HttpVerb]
            raise ValueError(f&#34;Invalid HTTP verb: &#39;{http_method}&#39;. Use either &#39;{allowed_values}&#39;&#34;)

        if not self._resource_pattern.match(resource):
            raise ValueError(f&#34;Invalid resource path: {resource}. Path should match {self.path_regex}&#34;)

        resource_arn = APIGatewayRouteArn(
            self.region, self.aws_account_id, self.api_id, self.stage, http_method, resource, self.partition
        ).arn

        route = {&#34;resourceArn&#34;: resource_arn, &#34;conditions&#34;: conditions}

        if effect.lower() == &#34;allow&#34;:
            self._allow_routes.append(route)
        else:  # deny
            self._deny_routes.append(route)

    @staticmethod
    def _get_empty_statement(effect: str) -&gt; Dict[str, Any]:
        &#34;&#34;&#34;Returns an empty statement object prepopulated with the correct action and the desired effect.&#34;&#34;&#34;
        return {&#34;Action&#34;: &#34;execute-api:Invoke&#34;, &#34;Effect&#34;: effect.capitalize(), &#34;Resource&#34;: []}

    def _get_statement_for_effect(self, effect: str, routes: List[Dict]) -&gt; List[Dict]:
        &#34;&#34;&#34;This function loops over an array of objects containing a `resourceArn` and
        `conditions` statement and generates the array of statements for the policy.&#34;&#34;&#34;
        if not routes:
            return []

        statements: List[Dict] = []
        statement = self._get_empty_statement(effect)

        for route in routes:
            resource_arn = route[&#34;resourceArn&#34;]
            conditions = route.get(&#34;conditions&#34;)
            if conditions is not None and len(conditions) &gt; 0:
                conditional_statement = self._get_empty_statement(effect)
                conditional_statement[&#34;Resource&#34;].append(resource_arn)
                conditional_statement[&#34;Condition&#34;] = conditions
                statements.append(conditional_statement)

            else:
                statement[&#34;Resource&#34;].append(resource_arn)

        if len(statement[&#34;Resource&#34;]) &gt; 0:
            statements.append(statement)

        return statements

    def allow_all_routes(self, http_method: str = HttpVerb.ALL.value):
        &#34;&#34;&#34;Adds a &#39;*&#39; allow to the policy to authorize access to all methods of an API

        Parameters
        ----------
        http_method: str
        &#34;&#34;&#34;
        self._add_route(effect=&#34;Allow&#34;, http_method=http_method, resource=&#34;*&#34;)

    def deny_all_routes(self, http_method: str = HttpVerb.ALL.value):
        &#34;&#34;&#34;Adds a &#39;*&#39; allow to the policy to deny access to all methods of an API

        Parameters
        ----------
        http_method: str
        &#34;&#34;&#34;

        self._add_route(effect=&#34;Deny&#34;, http_method=http_method, resource=&#34;*&#34;)

    def allow_route(self, http_method: str, resource: str, conditions: Optional[List[Dict]] = None):
        &#34;&#34;&#34;Adds an API Gateway method (Http verb + Resource path) to the list of allowed
        methods for the policy.

        Optionally includes a condition for the policy statement. More on AWS policy
        conditions here: https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_elements.html#Condition&#34;&#34;&#34;
        self._add_route(effect=&#34;Allow&#34;, http_method=http_method, resource=resource, conditions=conditions)

    def deny_route(self, http_method: str, resource: str, conditions: Optional[List[Dict]] = None):
        &#34;&#34;&#34;Adds an API Gateway method (Http verb + Resource path) to the list of denied
        methods for the policy.

        Optionally includes a condition for the policy statement. More on AWS policy
        conditions here: https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_elements.html#Condition&#34;&#34;&#34;
        self._add_route(effect=&#34;Deny&#34;, http_method=http_method, resource=resource, conditions=conditions)

    def asdict(self) -&gt; Dict[str, Any]:
        &#34;&#34;&#34;Generates the policy document based on the internal lists of allowed and denied
        conditions. This will generate a policy with two main statements for the effect:
        one statement for Allow and one statement for Deny.
        Methods that includes conditions will have their own statement in the policy.&#34;&#34;&#34;
        if len(self._allow_routes) == 0 and len(self._deny_routes) == 0:
            raise ValueError(&#34;No statements defined for the policy&#34;)

        response: Dict[str, Any] = {
            &#34;principalId&#34;: self.principal_id,
            &#34;policyDocument&#34;: {&#34;Version&#34;: &#34;2012-10-17&#34;, &#34;Statement&#34;: []},
        }

        response[&#34;policyDocument&#34;][&#34;Statement&#34;].extend(self._get_statement_for_effect(&#34;Allow&#34;, self._allow_routes))
        response[&#34;policyDocument&#34;][&#34;Statement&#34;].extend(self._get_statement_for_effect(&#34;Deny&#34;, self._deny_routes))

        if self.usage_identifier_key:
            response[&#34;usageIdentifierKey&#34;] = self.usage_identifier_key

        if self.context:
            response[&#34;context&#34;] = self.context

        return response</code></pre>
</details>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-functions">Functions</h2>
<dl>
<dt id="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.parse_api_gateway_arn"><code class="name flex">
<span>def <span class="ident">parse_api_gateway_arn</span></span>(<span>arn: str) ‑> <a title="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayRouteArn" href="#aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayRouteArn">APIGatewayRouteArn</a></span>
</code></dt>
<dd>
<div class="desc"><p>Parses a gateway route arn as a APIGatewayRouteArn class</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>arn</code></strong> :&ensp;<code>str</code></dt>
<dd>ARN string for a methodArn or a routeArn</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code><a title="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayRouteArn" href="#aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayRouteArn">APIGatewayRouteArn</a></code></dt>
<dd>&nbsp;</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def parse_api_gateway_arn(arn: str) -&gt; APIGatewayRouteArn:
    &#34;&#34;&#34;Parses a gateway route arn as a APIGatewayRouteArn class

    Parameters
    ----------
    arn : str
        ARN string for a methodArn or a routeArn
    Returns
    -------
    APIGatewayRouteArn
    &#34;&#34;&#34;
    arn_parts = arn.split(&#34;:&#34;)
    api_gateway_arn_parts = arn_parts[5].split(&#34;/&#34;)
    return APIGatewayRouteArn(
        partition=arn_parts[1],
        region=arn_parts[3],
        aws_account_id=arn_parts[4],
        api_id=api_gateway_arn_parts[0],
        stage=api_gateway_arn_parts[1],
        http_method=api_gateway_arn_parts[2],
        # conditional allow us to handle /path/{proxy+} resources, as their length changes.
        resource=&#34;/&#34;.join(api_gateway_arn_parts[3:]) if len(api_gateway_arn_parts) &gt;= 4 else &#34;&#34;,
    )</code></pre>
</details>
</dd>
</dl>
</section>
<section>
<h2 class="section-title" id="header-classes">Classes</h2>
<dl>
<dt id="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerEventV2"><code class="flex name class">
<span>class <span class="ident">APIGatewayAuthorizerEventV2</span></span>
<span>(</span><span>data: Dict[str, Any])</span>
</code></dt>
<dd>
<div class="desc"><p>API Gateway Authorizer Event Format 2.0</p>
<h2 id="documentation">Documentation:</h2>
<ul>
<li><a href="https://docs.aws.amazon.com/apigateway/latest/developerguide/http-api-lambda-authorizer.html">https://docs.aws.amazon.com/apigateway/latest/developerguide/http-api-lambda-authorizer.html</a></li>
<li><a href="https://aws.amazon.com/blogs/compute/introducing-iam-and-lambda-authorizers-for-amazon-api-gateway-http-apis/">https://aws.amazon.com/blogs/compute/introducing-iam-and-lambda-authorizers-for-amazon-api-gateway-http-apis/</a></li>
</ul></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class APIGatewayAuthorizerEventV2(DictWrapper):
    &#34;&#34;&#34;API Gateway Authorizer Event Format 2.0

    Documentation:
    -------------
    - https://docs.aws.amazon.com/apigateway/latest/developerguide/http-api-lambda-authorizer.html
    - https://aws.amazon.com/blogs/compute/introducing-iam-and-lambda-authorizers-for-amazon-api-gateway-http-apis/
    &#34;&#34;&#34;

    @property
    def version(self) -&gt; str:
        &#34;&#34;&#34;Event payload version should always be 2.0&#34;&#34;&#34;
        return self[&#34;version&#34;]

    @property
    def get_type(self) -&gt; str:
        &#34;&#34;&#34;Event type should always be request&#34;&#34;&#34;
        return self[&#34;type&#34;]

    @property
    def route_arn(self) -&gt; str:
        &#34;&#34;&#34;ARN of the route being called

        eg: arn:aws:execute-api:us-east-1:123456789012:abcdef123/test/GET/request&#34;&#34;&#34;
        return self[&#34;routeArn&#34;]

    @property
    def parsed_arn(self) -&gt; APIGatewayRouteArn:
        &#34;&#34;&#34;Convenient property to return a parsed api gateway route arn&#34;&#34;&#34;
        return parse_api_gateway_arn(self.route_arn)

    @property
    def identity_source(self) -&gt; Optional[List[str]]:
        &#34;&#34;&#34;The identity source for which authorization is requested.

        For a REQUEST authorizer, this is optional. The value is a set of one or more mapping expressions of the
        specified request parameters. The identity source can be headers, query string parameters, stage variables,
        and context parameters.
        &#34;&#34;&#34;
        return self.get(&#34;identitySource&#34;)

    @property
    def route_key(self) -&gt; str:
        &#34;&#34;&#34;The route key for the route. For HTTP APIs, the route key can be either $default,
        or a combination of an HTTP method and resource path, for example, GET /pets.&#34;&#34;&#34;
        return self[&#34;routeKey&#34;]

    @property
    def raw_path(self) -&gt; str:
        return self[&#34;rawPath&#34;]

    @property
    def raw_query_string(self) -&gt; str:
        return self[&#34;rawQueryString&#34;]

    @property
    def cookies(self) -&gt; List[str]:
        &#34;&#34;&#34;Cookies&#34;&#34;&#34;
        return self[&#34;cookies&#34;]

    @property
    def headers(self) -&gt; Dict[str, str]:
        &#34;&#34;&#34;Http headers&#34;&#34;&#34;
        return self[&#34;headers&#34;]

    @property
    def query_string_parameters(self) -&gt; Dict[str, str]:
        return self[&#34;queryStringParameters&#34;]

    @property
    def request_context(self) -&gt; BaseRequestContextV2:
        return BaseRequestContextV2(self._data)

    @property
    def path_parameters(self) -&gt; Optional[Dict[str, str]]:
        return self.get(&#34;pathParameters&#34;)

    @property
    def stage_variables(self) -&gt; Optional[Dict[str, str]]:
        return self.get(&#34;stageVariables&#34;)

    def get_header_value(
        self, name: str, default_value: Optional[str] = None, case_sensitive: Optional[bool] = False
    ) -&gt; Optional[str]:
        &#34;&#34;&#34;Get header value by name

        Parameters
        ----------
        name: str
            Header name
        default_value: str, optional
            Default value if no value was found by name
        case_sensitive: bool
            Whether to use a case-sensitive look up
        Returns
        -------
        str, optional
            Header value
        &#34;&#34;&#34;
        return get_header_value(self.headers, name, default_value, case_sensitive)</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="aws_lambda_powertools.utilities.data_classes.common.DictWrapper" href="common.html#aws_lambda_powertools.utilities.data_classes.common.DictWrapper">DictWrapper</a></li>
<li>collections.abc.Mapping</li>
<li>collections.abc.Collection</li>
<li>collections.abc.Sized</li>
<li>collections.abc.Iterable</li>
<li>collections.abc.Container</li>
</ul>
<h3>Instance variables</h3>
<dl>
<dt id="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerEventV2.cookies"><code class="name">var <span class="ident">cookies</span> : List[str]</code></dt>
<dd>
<div class="desc"><p>Cookies</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def cookies(self) -&gt; List[str]:
    &#34;&#34;&#34;Cookies&#34;&#34;&#34;
    return self[&#34;cookies&#34;]</code></pre>
</details>
</dd>
<dt id="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerEventV2.get_type"><code class="name">var <span class="ident">get_type</span> : str</code></dt>
<dd>
<div class="desc"><p>Event type should always be request</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def get_type(self) -&gt; str:
    &#34;&#34;&#34;Event type should always be request&#34;&#34;&#34;
    return self[&#34;type&#34;]</code></pre>
</details>
</dd>
<dt id="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerEventV2.headers"><code class="name">var <span class="ident">headers</span> : Dict[str, str]</code></dt>
<dd>
<div class="desc"><p>Http headers</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def headers(self) -&gt; Dict[str, str]:
    &#34;&#34;&#34;Http headers&#34;&#34;&#34;
    return self[&#34;headers&#34;]</code></pre>
</details>
</dd>
<dt id="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerEventV2.identity_source"><code class="name">var <span class="ident">identity_source</span> : Optional[List[str]]</code></dt>
<dd>
<div class="desc"><p>The identity source for which authorization is requested.</p>
<p>For a REQUEST authorizer, this is optional. The value is a set of one or more mapping expressions of the
specified request parameters. The identity source can be headers, query string parameters, stage variables,
and context parameters.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def identity_source(self) -&gt; Optional[List[str]]:
    &#34;&#34;&#34;The identity source for which authorization is requested.

    For a REQUEST authorizer, this is optional. The value is a set of one or more mapping expressions of the
    specified request parameters. The identity source can be headers, query string parameters, stage variables,
    and context parameters.
    &#34;&#34;&#34;
    return self.get(&#34;identitySource&#34;)</code></pre>
</details>
</dd>
<dt id="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerEventV2.parsed_arn"><code class="name">var <span class="ident">parsed_arn</span> : <a title="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayRouteArn" href="#aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayRouteArn">APIGatewayRouteArn</a></code></dt>
<dd>
<div class="desc"><p>Convenient property to return a parsed api gateway route arn</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def parsed_arn(self) -&gt; APIGatewayRouteArn:
    &#34;&#34;&#34;Convenient property to return a parsed api gateway route arn&#34;&#34;&#34;
    return parse_api_gateway_arn(self.route_arn)</code></pre>
</details>
</dd>
<dt id="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerEventV2.path_parameters"><code class="name">var <span class="ident">path_parameters</span> : Optional[Dict[str, str]]</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def path_parameters(self) -&gt; Optional[Dict[str, str]]:
    return self.get(&#34;pathParameters&#34;)</code></pre>
</details>
</dd>
<dt id="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerEventV2.query_string_parameters"><code class="name">var <span class="ident">query_string_parameters</span> : Dict[str, str]</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def query_string_parameters(self) -&gt; Dict[str, str]:
    return self[&#34;queryStringParameters&#34;]</code></pre>
</details>
</dd>
<dt id="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerEventV2.raw_path"><code class="name">var <span class="ident">raw_path</span> : str</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def raw_path(self) -&gt; str:
    return self[&#34;rawPath&#34;]</code></pre>
</details>
</dd>
<dt id="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerEventV2.raw_query_string"><code class="name">var <span class="ident">raw_query_string</span> : str</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def raw_query_string(self) -&gt; str:
    return self[&#34;rawQueryString&#34;]</code></pre>
</details>
</dd>
<dt id="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerEventV2.request_context"><code class="name">var <span class="ident">request_context</span> : <a title="aws_lambda_powertools.utilities.data_classes.common.BaseRequestContextV2" href="common.html#aws_lambda_powertools.utilities.data_classes.common.BaseRequestContextV2">BaseRequestContextV2</a></code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def request_context(self) -&gt; BaseRequestContextV2:
    return BaseRequestContextV2(self._data)</code></pre>
</details>
</dd>
<dt id="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerEventV2.route_arn"><code class="name">var <span class="ident">route_arn</span> : str</code></dt>
<dd>
<div class="desc"><p>ARN of the route being called</p>
<p>eg: arn:aws:execute-api:us-east-1:123456789012:abcdef123/test/GET/request</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def route_arn(self) -&gt; str:
    &#34;&#34;&#34;ARN of the route being called

    eg: arn:aws:execute-api:us-east-1:123456789012:abcdef123/test/GET/request&#34;&#34;&#34;
    return self[&#34;routeArn&#34;]</code></pre>
</details>
</dd>
<dt id="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerEventV2.route_key"><code class="name">var <span class="ident">route_key</span> : str</code></dt>
<dd>
<div class="desc"><p>The route key for the route. For HTTP APIs, the route key can be either $default,
or a combination of an HTTP method and resource path, for example, GET /pets.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def route_key(self) -&gt; str:
    &#34;&#34;&#34;The route key for the route. For HTTP APIs, the route key can be either $default,
    or a combination of an HTTP method and resource path, for example, GET /pets.&#34;&#34;&#34;
    return self[&#34;routeKey&#34;]</code></pre>
</details>
</dd>
<dt id="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerEventV2.stage_variables"><code class="name">var <span class="ident">stage_variables</span> : Optional[Dict[str, str]]</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def stage_variables(self) -&gt; Optional[Dict[str, str]]:
    return self.get(&#34;stageVariables&#34;)</code></pre>
</details>
</dd>
<dt id="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerEventV2.version"><code class="name">var <span class="ident">version</span> : str</code></dt>
<dd>
<div class="desc"><p>Event payload version should always be 2.0</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def version(self) -&gt; str:
    &#34;&#34;&#34;Event payload version should always be 2.0&#34;&#34;&#34;
    return self[&#34;version&#34;]</code></pre>
</details>
</dd>
</dl>
<h3>Methods</h3>
<dl>
<dt id="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerEventV2.get_header_value"><code class="name flex">
<span>def <span class="ident">get_header_value</span></span>(<span>self, name: str, default_value: Optional[str] = None, case_sensitive: Optional[bool] = False) ‑> Optional[str]</span>
</code></dt>
<dd>
<div class="desc"><p>Get header value by name</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>name</code></strong> :&ensp;<code>str</code></dt>
<dd>Header name</dd>
<dt><strong><code>default_value</code></strong> :&ensp;<code>str</code>, optional</dt>
<dd>Default value if no value was found by name</dd>
<dt><strong><code>case_sensitive</code></strong> :&ensp;<code>bool</code></dt>
<dd>Whether to use a case-sensitive look up</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>str</code>, optional</dt>
<dd>Header value</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def get_header_value(
    self, name: str, default_value: Optional[str] = None, case_sensitive: Optional[bool] = False
) -&gt; Optional[str]:
    &#34;&#34;&#34;Get header value by name

    Parameters
    ----------
    name: str
        Header name
    default_value: str, optional
        Default value if no value was found by name
    case_sensitive: bool
        Whether to use a case-sensitive look up
    Returns
    -------
    str, optional
        Header value
    &#34;&#34;&#34;
    return get_header_value(self.headers, name, default_value, case_sensitive)</code></pre>
</details>
</dd>
</dl>
<h3>Inherited members</h3>
<ul class="hlist">
<li><code><b><a title="aws_lambda_powertools.utilities.data_classes.common.DictWrapper" href="common.html#aws_lambda_powertools.utilities.data_classes.common.DictWrapper">DictWrapper</a></b></code>:
<ul class="hlist">
<li><code><a title="aws_lambda_powertools.utilities.data_classes.common.DictWrapper.get" href="common.html#aws_lambda_powertools.utilities.data_classes.common.DictWrapper.get">get</a></code></li>
<li><code><a title="aws_lambda_powertools.utilities.data_classes.common.DictWrapper.raw_event" href="common.html#aws_lambda_powertools.utilities.data_classes.common.DictWrapper.raw_event">raw_event</a></code></li>
</ul>
</li>
</ul>
</dd>
<dt id="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerRequestEvent"><code class="flex name class">
<span>class <span class="ident">APIGatewayAuthorizerRequestEvent</span></span>
<span>(</span><span>data: Dict[str, Any])</span>
</code></dt>
<dd>
<div class="desc"><p>API Gateway Authorizer Request Event Format 1.0</p>
<h2 id="documentation">Documentation:</h2>
<ul>
<li><a href="https://docs.aws.amazon.com/apigateway/latest/developerguide/apigateway-use-lambda-authorizer.html">https://docs.aws.amazon.com/apigateway/latest/developerguide/apigateway-use-lambda-authorizer.html</a></li>
<li><a href="https://docs.aws.amazon.com/apigateway/latest/developerguide/http-api-lambda-authorizer.html">https://docs.aws.amazon.com/apigateway/latest/developerguide/http-api-lambda-authorizer.html</a></li>
</ul></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class APIGatewayAuthorizerRequestEvent(DictWrapper):
    &#34;&#34;&#34;API Gateway Authorizer Request Event Format 1.0

    Documentation:
    -------------
    - https://docs.aws.amazon.com/apigateway/latest/developerguide/apigateway-use-lambda-authorizer.html
    - https://docs.aws.amazon.com/apigateway/latest/developerguide/http-api-lambda-authorizer.html
    &#34;&#34;&#34;

    @property
    def version(self) -&gt; str:
        return self[&#34;version&#34;]

    @property
    def get_type(self) -&gt; str:
        return self[&#34;type&#34;]

    @property
    def method_arn(self) -&gt; str:
        return self[&#34;methodArn&#34;]

    @property
    def parsed_arn(self) -&gt; APIGatewayRouteArn:
        return parse_api_gateway_arn(self.method_arn)

    @property
    def identity_source(self) -&gt; str:
        return self[&#34;identitySource&#34;]

    @property
    def authorization_token(self) -&gt; str:
        return self[&#34;authorizationToken&#34;]

    @property
    def resource(self) -&gt; str:
        return self[&#34;resource&#34;]

    @property
    def path(self) -&gt; str:
        return self[&#34;path&#34;]

    @property
    def http_method(self) -&gt; str:
        return self[&#34;httpMethod&#34;]

    @property
    def headers(self) -&gt; Dict[str, str]:
        return self[&#34;headers&#34;]

    @property
    def query_string_parameters(self) -&gt; Dict[str, str]:
        return self[&#34;queryStringParameters&#34;]

    @property
    def path_parameters(self) -&gt; Dict[str, str]:
        return self[&#34;pathParameters&#34;]

    @property
    def stage_variables(self) -&gt; Dict[str, str]:
        return self[&#34;stageVariables&#34;]

    @property
    def request_context(self) -&gt; BaseRequestContext:
        return BaseRequestContext(self._data)

    def get_header_value(
        self, name: str, default_value: Optional[str] = None, case_sensitive: Optional[bool] = False
    ) -&gt; Optional[str]:
        &#34;&#34;&#34;Get header value by name

        Parameters
        ----------
        name: str
            Header name
        default_value: str, optional
            Default value if no value was found by name
        case_sensitive: bool
            Whether to use a case-sensitive look up
        Returns
        -------
        str, optional
            Header value
        &#34;&#34;&#34;
        return get_header_value(self.headers, name, default_value, case_sensitive)</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="aws_lambda_powertools.utilities.data_classes.common.DictWrapper" href="common.html#aws_lambda_powertools.utilities.data_classes.common.DictWrapper">DictWrapper</a></li>
<li>collections.abc.Mapping</li>
<li>collections.abc.Collection</li>
<li>collections.abc.Sized</li>
<li>collections.abc.Iterable</li>
<li>collections.abc.Container</li>
</ul>
<h3>Instance variables</h3>
<dl>
<dt id="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerRequestEvent.authorization_token"><code class="name">var <span class="ident">authorization_token</span> : str</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def authorization_token(self) -&gt; str:
    return self[&#34;authorizationToken&#34;]</code></pre>
</details>
</dd>
<dt id="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerRequestEvent.get_type"><code class="name">var <span class="ident">get_type</span> : str</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def get_type(self) -&gt; str:
    return self[&#34;type&#34;]</code></pre>
</details>
</dd>
<dt id="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerRequestEvent.headers"><code class="name">var <span class="ident">headers</span> : Dict[str, str]</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def headers(self) -&gt; Dict[str, str]:
    return self[&#34;headers&#34;]</code></pre>
</details>
</dd>
<dt id="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerRequestEvent.http_method"><code class="name">var <span class="ident">http_method</span> : str</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def http_method(self) -&gt; str:
    return self[&#34;httpMethod&#34;]</code></pre>
</details>
</dd>
<dt id="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerRequestEvent.identity_source"><code class="name">var <span class="ident">identity_source</span> : str</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def identity_source(self) -&gt; str:
    return self[&#34;identitySource&#34;]</code></pre>
</details>
</dd>
<dt id="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerRequestEvent.method_arn"><code class="name">var <span class="ident">method_arn</span> : str</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def method_arn(self) -&gt; str:
    return self[&#34;methodArn&#34;]</code></pre>
</details>
</dd>
<dt id="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerRequestEvent.parsed_arn"><code class="name">var <span class="ident">parsed_arn</span> : <a title="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayRouteArn" href="#aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayRouteArn">APIGatewayRouteArn</a></code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def parsed_arn(self) -&gt; APIGatewayRouteArn:
    return parse_api_gateway_arn(self.method_arn)</code></pre>
</details>
</dd>
<dt id="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerRequestEvent.path"><code class="name">var <span class="ident">path</span> : str</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def path(self) -&gt; str:
    return self[&#34;path&#34;]</code></pre>
</details>
</dd>
<dt id="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerRequestEvent.path_parameters"><code class="name">var <span class="ident">path_parameters</span> : Dict[str, str]</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def path_parameters(self) -&gt; Dict[str, str]:
    return self[&#34;pathParameters&#34;]</code></pre>
</details>
</dd>
<dt id="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerRequestEvent.query_string_parameters"><code class="name">var <span class="ident">query_string_parameters</span> : Dict[str, str]</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def query_string_parameters(self) -&gt; Dict[str, str]:
    return self[&#34;queryStringParameters&#34;]</code></pre>
</details>
</dd>
<dt id="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerRequestEvent.request_context"><code class="name">var <span class="ident">request_context</span> : <a title="aws_lambda_powertools.utilities.data_classes.common.BaseRequestContext" href="common.html#aws_lambda_powertools.utilities.data_classes.common.BaseRequestContext">BaseRequestContext</a></code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def request_context(self) -&gt; BaseRequestContext:
    return BaseRequestContext(self._data)</code></pre>
</details>
</dd>
<dt id="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerRequestEvent.resource"><code class="name">var <span class="ident">resource</span> : str</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def resource(self) -&gt; str:
    return self[&#34;resource&#34;]</code></pre>
</details>
</dd>
<dt id="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerRequestEvent.stage_variables"><code class="name">var <span class="ident">stage_variables</span> : Dict[str, str]</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def stage_variables(self) -&gt; Dict[str, str]:
    return self[&#34;stageVariables&#34;]</code></pre>
</details>
</dd>
<dt id="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerRequestEvent.version"><code class="name">var <span class="ident">version</span> : str</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def version(self) -&gt; str:
    return self[&#34;version&#34;]</code></pre>
</details>
</dd>
</dl>
<h3>Methods</h3>
<dl>
<dt id="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerRequestEvent.get_header_value"><code class="name flex">
<span>def <span class="ident">get_header_value</span></span>(<span>self, name: str, default_value: Optional[str] = None, case_sensitive: Optional[bool] = False) ‑> Optional[str]</span>
</code></dt>
<dd>
<div class="desc"><p>Get header value by name</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>name</code></strong> :&ensp;<code>str</code></dt>
<dd>Header name</dd>
<dt><strong><code>default_value</code></strong> :&ensp;<code>str</code>, optional</dt>
<dd>Default value if no value was found by name</dd>
<dt><strong><code>case_sensitive</code></strong> :&ensp;<code>bool</code></dt>
<dd>Whether to use a case-sensitive look up</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>str</code>, optional</dt>
<dd>Header value</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def get_header_value(
    self, name: str, default_value: Optional[str] = None, case_sensitive: Optional[bool] = False
) -&gt; Optional[str]:
    &#34;&#34;&#34;Get header value by name

    Parameters
    ----------
    name: str
        Header name
    default_value: str, optional
        Default value if no value was found by name
    case_sensitive: bool
        Whether to use a case-sensitive look up
    Returns
    -------
    str, optional
        Header value
    &#34;&#34;&#34;
    return get_header_value(self.headers, name, default_value, case_sensitive)</code></pre>
</details>
</dd>
</dl>
<h3>Inherited members</h3>
<ul class="hlist">
<li><code><b><a title="aws_lambda_powertools.utilities.data_classes.common.DictWrapper" href="common.html#aws_lambda_powertools.utilities.data_classes.common.DictWrapper">DictWrapper</a></b></code>:
<ul class="hlist">
<li><code><a title="aws_lambda_powertools.utilities.data_classes.common.DictWrapper.get" href="common.html#aws_lambda_powertools.utilities.data_classes.common.DictWrapper.get">get</a></code></li>
<li><code><a title="aws_lambda_powertools.utilities.data_classes.common.DictWrapper.raw_event" href="common.html#aws_lambda_powertools.utilities.data_classes.common.DictWrapper.raw_event">raw_event</a></code></li>
</ul>
</li>
</ul>
</dd>
<dt id="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerResponse"><code class="flex name class">
<span>class <span class="ident">APIGatewayAuthorizerResponse</span></span>
<span>(</span><span>principal_id: str, region: str, aws_account_id: str, api_id: str, stage: str, context: Optional[Dict] = None, usage_identifier_key: Optional[str] = None, partition: str = 'aws')</span>
</code></dt>
<dd>
<div class="desc"><p>The IAM Policy Response required for API Gateway REST APIs and HTTP APIs.</p>
<p>Based on: - <a href="https://github.com/awslabs/aws-apigateway-lambda-authorizer-blueprints/blob/">https://github.com/awslabs/aws-apigateway-lambda-authorizer-blueprints/blob/</a>
master/blueprints/python/api-gateway-authorizer-python.py</p>
<h2 id="documentation">Documentation:</h2>
<ul>
<li><a href="https://docs.aws.amazon.com/apigateway/latest/developerguide/http-api-lambda-authorizer.html">https://docs.aws.amazon.com/apigateway/latest/developerguide/http-api-lambda-authorizer.html</a></li>
<li><a href="https://docs.aws.amazon.com/apigateway/latest/developerguide/api-gateway-lambda-authorizer-output.html">https://docs.aws.amazon.com/apigateway/latest/developerguide/api-gateway-lambda-authorizer-output.html</a></li>
</ul>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>principal_id</code></strong> :&ensp;<code>str</code></dt>
<dd>The principal used for the policy, this should be a unique identifier for the end user</dd>
<dt><strong><code>region</code></strong> :&ensp;<code>str</code></dt>
<dd>AWS Regions. Beware of using '*' since it will not simply mean any region, because stars will greedily
expand over '/' or other separators.
See <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_elements_resource.html">https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_elements_resource.html</a> for more
details.</dd>
<dt><strong><code>aws_account_id</code></strong> :&ensp;<code>str</code></dt>
<dd>The AWS account id the policy will be generated for. This is used to create the method ARNs.</dd>
<dt><strong><code>api_id</code></strong> :&ensp;<code>str</code></dt>
<dd>The API Gateway API id to be used in the policy.
Beware of using '*' since it will not simply mean any API Gateway API id, because stars will greedily
expand over '/' or other separators.
See <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_elements_resource.html">https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_elements_resource.html</a> for more
details.</dd>
<dt><strong><code>stage</code></strong> :&ensp;<code>str</code></dt>
<dd>The default stage to be used in the policy.
Beware of using '*' since it will not simply mean any stage, because stars will
greedily expand over '/' or other separators.
See <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_elements_resource.html">https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_elements_resource.html</a> for more
details.</dd>
<dt><strong><code>context</code></strong> :&ensp;<code>Dict</code>, optional</dt>
<dd>Optional, context.
Note: only names of type string and values of type int, string or boolean are supported</dd>
<dt><strong><code>usage_identifier_key</code></strong> :&ensp;<code>str</code>, optional</dt>
<dd>If the API uses a usage plan (the apiKeySource is set to <code>AUTHORIZER</code>), the Lambda authorizer function
must return one of the usage plan's API keys as the usageIdentifierKey property value.<blockquote>
<p><strong>Note:</strong> This only applies for REST APIs.</p>
</blockquote>
</dd>
<dt><strong><code>partition</code></strong> :&ensp;<code>str</code>, optional</dt>
<dd>Optional, arn partition.
See <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/reference-arns.html">https://docs.aws.amazon.com/IAM/latest/UserGuide/reference-arns.html</a></dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class APIGatewayAuthorizerResponse:
    &#34;&#34;&#34;The IAM Policy Response required for API Gateway REST APIs and HTTP APIs.

    Based on: - https://github.com/awslabs/aws-apigateway-lambda-authorizer-blueprints/blob/\
    master/blueprints/python/api-gateway-authorizer-python.py

    Documentation:
    -------------
    - https://docs.aws.amazon.com/apigateway/latest/developerguide/http-api-lambda-authorizer.html
    - https://docs.aws.amazon.com/apigateway/latest/developerguide/api-gateway-lambda-authorizer-output.html
    &#34;&#34;&#34;

    path_regex = r&#34;^[/.a-zA-Z0-9-_\*]+$&#34;
    &#34;&#34;&#34;The regular expression used to validate resource paths for the policy&#34;&#34;&#34;

    def __init__(
        self,
        principal_id: str,
        region: str,
        aws_account_id: str,
        api_id: str,
        stage: str,
        context: Optional[Dict] = None,
        usage_identifier_key: Optional[str] = None,
        partition: str = &#34;aws&#34;,
    ):
        &#34;&#34;&#34;
        Parameters
        ----------
        principal_id : str
            The principal used for the policy, this should be a unique identifier for the end user
        region : str
            AWS Regions. Beware of using &#39;*&#39; since it will not simply mean any region, because stars will greedily
            expand over &#39;/&#39; or other separators.
            See https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_elements_resource.html for more
            details.
        aws_account_id : str
            The AWS account id the policy will be generated for. This is used to create the method ARNs.
        api_id : str
            The API Gateway API id to be used in the policy.
            Beware of using &#39;*&#39; since it will not simply mean any API Gateway API id, because stars will greedily
            expand over &#39;/&#39; or other separators.
            See https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_elements_resource.html for more
            details.
        stage : str
            The default stage to be used in the policy.
            Beware of using &#39;*&#39; since it will not simply mean any stage, because stars will
            greedily expand over &#39;/&#39; or other separators.
            See https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_elements_resource.html for more
            details.
        context : Dict, optional
            Optional, context.
            Note: only names of type string and values of type int, string or boolean are supported
        usage_identifier_key: str, optional
            If the API uses a usage plan (the apiKeySource is set to `AUTHORIZER`), the Lambda authorizer function
            must return one of the usage plan&#39;s API keys as the usageIdentifierKey property value.
            &gt; **Note:** This only applies for REST APIs.
        partition: str, optional
            Optional, arn partition.
            See https://docs.aws.amazon.com/IAM/latest/UserGuide/reference-arns.html
        &#34;&#34;&#34;
        self.principal_id = principal_id
        self.region = region
        self.aws_account_id = aws_account_id
        self.api_id = api_id
        self.stage = stage
        self.context = context
        self.usage_identifier_key = usage_identifier_key
        self._allow_routes: List[Dict] = []
        self._deny_routes: List[Dict] = []
        self._resource_pattern = re.compile(self.path_regex)
        self.partition = partition

    @staticmethod
    def from_route_arn(
        arn: str,
        principal_id: str,
        context: Optional[Dict] = None,
        usage_identifier_key: Optional[str] = None,
    ) -&gt; &#34;APIGatewayAuthorizerResponse&#34;:
        parsed_arn = parse_api_gateway_arn(arn)
        return APIGatewayAuthorizerResponse(
            principal_id,
            parsed_arn.region,
            parsed_arn.aws_account_id,
            parsed_arn.api_id,
            parsed_arn.stage,
            context,
            usage_identifier_key,
        )

    def _add_route(self, effect: str, http_method: str, resource: str, conditions: Optional[List[Dict]] = None):
        &#34;&#34;&#34;Adds a route to the internal lists of allowed or denied routes. Each object in
        the internal list contains a resource ARN and a condition statement. The condition
        statement can be null.&#34;&#34;&#34;
        if http_method != &#34;*&#34; and http_method not in HttpVerb.__members__:
            allowed_values = [verb.value for verb in HttpVerb]
            raise ValueError(f&#34;Invalid HTTP verb: &#39;{http_method}&#39;. Use either &#39;{allowed_values}&#39;&#34;)

        if not self._resource_pattern.match(resource):
            raise ValueError(f&#34;Invalid resource path: {resource}. Path should match {self.path_regex}&#34;)

        resource_arn = APIGatewayRouteArn(
            self.region, self.aws_account_id, self.api_id, self.stage, http_method, resource, self.partition
        ).arn

        route = {&#34;resourceArn&#34;: resource_arn, &#34;conditions&#34;: conditions}

        if effect.lower() == &#34;allow&#34;:
            self._allow_routes.append(route)
        else:  # deny
            self._deny_routes.append(route)

    @staticmethod
    def _get_empty_statement(effect: str) -&gt; Dict[str, Any]:
        &#34;&#34;&#34;Returns an empty statement object prepopulated with the correct action and the desired effect.&#34;&#34;&#34;
        return {&#34;Action&#34;: &#34;execute-api:Invoke&#34;, &#34;Effect&#34;: effect.capitalize(), &#34;Resource&#34;: []}

    def _get_statement_for_effect(self, effect: str, routes: List[Dict]) -&gt; List[Dict]:
        &#34;&#34;&#34;This function loops over an array of objects containing a `resourceArn` and
        `conditions` statement and generates the array of statements for the policy.&#34;&#34;&#34;
        if not routes:
            return []

        statements: List[Dict] = []
        statement = self._get_empty_statement(effect)

        for route in routes:
            resource_arn = route[&#34;resourceArn&#34;]
            conditions = route.get(&#34;conditions&#34;)
            if conditions is not None and len(conditions) &gt; 0:
                conditional_statement = self._get_empty_statement(effect)
                conditional_statement[&#34;Resource&#34;].append(resource_arn)
                conditional_statement[&#34;Condition&#34;] = conditions
                statements.append(conditional_statement)

            else:
                statement[&#34;Resource&#34;].append(resource_arn)

        if len(statement[&#34;Resource&#34;]) &gt; 0:
            statements.append(statement)

        return statements

    def allow_all_routes(self, http_method: str = HttpVerb.ALL.value):
        &#34;&#34;&#34;Adds a &#39;*&#39; allow to the policy to authorize access to all methods of an API

        Parameters
        ----------
        http_method: str
        &#34;&#34;&#34;
        self._add_route(effect=&#34;Allow&#34;, http_method=http_method, resource=&#34;*&#34;)

    def deny_all_routes(self, http_method: str = HttpVerb.ALL.value):
        &#34;&#34;&#34;Adds a &#39;*&#39; allow to the policy to deny access to all methods of an API

        Parameters
        ----------
        http_method: str
        &#34;&#34;&#34;

        self._add_route(effect=&#34;Deny&#34;, http_method=http_method, resource=&#34;*&#34;)

    def allow_route(self, http_method: str, resource: str, conditions: Optional[List[Dict]] = None):
        &#34;&#34;&#34;Adds an API Gateway method (Http verb + Resource path) to the list of allowed
        methods for the policy.

        Optionally includes a condition for the policy statement. More on AWS policy
        conditions here: https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_elements.html#Condition&#34;&#34;&#34;
        self._add_route(effect=&#34;Allow&#34;, http_method=http_method, resource=resource, conditions=conditions)

    def deny_route(self, http_method: str, resource: str, conditions: Optional[List[Dict]] = None):
        &#34;&#34;&#34;Adds an API Gateway method (Http verb + Resource path) to the list of denied
        methods for the policy.

        Optionally includes a condition for the policy statement. More on AWS policy
        conditions here: https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_elements.html#Condition&#34;&#34;&#34;
        self._add_route(effect=&#34;Deny&#34;, http_method=http_method, resource=resource, conditions=conditions)

    def asdict(self) -&gt; Dict[str, Any]:
        &#34;&#34;&#34;Generates the policy document based on the internal lists of allowed and denied
        conditions. This will generate a policy with two main statements for the effect:
        one statement for Allow and one statement for Deny.
        Methods that includes conditions will have their own statement in the policy.&#34;&#34;&#34;
        if len(self._allow_routes) == 0 and len(self._deny_routes) == 0:
            raise ValueError(&#34;No statements defined for the policy&#34;)

        response: Dict[str, Any] = {
            &#34;principalId&#34;: self.principal_id,
            &#34;policyDocument&#34;: {&#34;Version&#34;: &#34;2012-10-17&#34;, &#34;Statement&#34;: []},
        }

        response[&#34;policyDocument&#34;][&#34;Statement&#34;].extend(self._get_statement_for_effect(&#34;Allow&#34;, self._allow_routes))
        response[&#34;policyDocument&#34;][&#34;Statement&#34;].extend(self._get_statement_for_effect(&#34;Deny&#34;, self._deny_routes))

        if self.usage_identifier_key:
            response[&#34;usageIdentifierKey&#34;] = self.usage_identifier_key

        if self.context:
            response[&#34;context&#34;] = self.context

        return response</code></pre>
</details>
<h3>Class variables</h3>
<dl>
<dt id="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerResponse.path_regex"><code class="name">var <span class="ident">path_regex</span></code></dt>
<dd>
<div class="desc"><p>The regular expression used to validate resource paths for the policy</p></div>
</dd>
</dl>
<h3>Static methods</h3>
<dl>
<dt id="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerResponse.from_route_arn"><code class="name flex">
<span>def <span class="ident">from_route_arn</span></span>(<span>arn: str, principal_id: str, context: Optional[Dict] = None, usage_identifier_key: Optional[str] = None) ‑> <a title="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerResponse" href="#aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerResponse">APIGatewayAuthorizerResponse</a></span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@staticmethod
def from_route_arn(
    arn: str,
    principal_id: str,
    context: Optional[Dict] = None,
    usage_identifier_key: Optional[str] = None,
) -&gt; &#34;APIGatewayAuthorizerResponse&#34;:
    parsed_arn = parse_api_gateway_arn(arn)
    return APIGatewayAuthorizerResponse(
        principal_id,
        parsed_arn.region,
        parsed_arn.aws_account_id,
        parsed_arn.api_id,
        parsed_arn.stage,
        context,
        usage_identifier_key,
    )</code></pre>
</details>
</dd>
</dl>
<h3>Methods</h3>
<dl>
<dt id="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerResponse.allow_all_routes"><code class="name flex">
<span>def <span class="ident">allow_all_routes</span></span>(<span>self, http_method: str = '*')</span>
</code></dt>
<dd>
<div class="desc"><p>Adds a '*' allow to the policy to authorize access to all methods of an API</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>http_method</code></strong> :&ensp;<code>str</code></dt>
<dd>&nbsp;</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def allow_all_routes(self, http_method: str = HttpVerb.ALL.value):
    &#34;&#34;&#34;Adds a &#39;*&#39; allow to the policy to authorize access to all methods of an API

    Parameters
    ----------
    http_method: str
    &#34;&#34;&#34;
    self._add_route(effect=&#34;Allow&#34;, http_method=http_method, resource=&#34;*&#34;)</code></pre>
</details>
</dd>
<dt id="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerResponse.allow_route"><code class="name flex">
<span>def <span class="ident">allow_route</span></span>(<span>self, http_method: str, resource: str, conditions: Optional[List[Dict]] = None)</span>
</code></dt>
<dd>
<div class="desc"><p>Adds an API Gateway method (Http verb + Resource path) to the list of allowed
methods for the policy.</p>
<p>Optionally includes a condition for the policy statement. More on AWS policy
conditions here: <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_elements.html#Condition">https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_elements.html#Condition</a></p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def allow_route(self, http_method: str, resource: str, conditions: Optional[List[Dict]] = None):
    &#34;&#34;&#34;Adds an API Gateway method (Http verb + Resource path) to the list of allowed
    methods for the policy.

    Optionally includes a condition for the policy statement. More on AWS policy
    conditions here: https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_elements.html#Condition&#34;&#34;&#34;
    self._add_route(effect=&#34;Allow&#34;, http_method=http_method, resource=resource, conditions=conditions)</code></pre>
</details>
</dd>
<dt id="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerResponse.asdict"><code class="name flex">
<span>def <span class="ident">asdict</span></span>(<span>self) ‑> Dict[str, Any]</span>
</code></dt>
<dd>
<div class="desc"><p>Generates the policy document based on the internal lists of allowed and denied
conditions. This will generate a policy with two main statements for the effect:
one statement for Allow and one statement for Deny.
Methods that includes conditions will have their own statement in the policy.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def asdict(self) -&gt; Dict[str, Any]:
    &#34;&#34;&#34;Generates the policy document based on the internal lists of allowed and denied
    conditions. This will generate a policy with two main statements for the effect:
    one statement for Allow and one statement for Deny.
    Methods that includes conditions will have their own statement in the policy.&#34;&#34;&#34;
    if len(self._allow_routes) == 0 and len(self._deny_routes) == 0:
        raise ValueError(&#34;No statements defined for the policy&#34;)

    response: Dict[str, Any] = {
        &#34;principalId&#34;: self.principal_id,
        &#34;policyDocument&#34;: {&#34;Version&#34;: &#34;2012-10-17&#34;, &#34;Statement&#34;: []},
    }

    response[&#34;policyDocument&#34;][&#34;Statement&#34;].extend(self._get_statement_for_effect(&#34;Allow&#34;, self._allow_routes))
    response[&#34;policyDocument&#34;][&#34;Statement&#34;].extend(self._get_statement_for_effect(&#34;Deny&#34;, self._deny_routes))

    if self.usage_identifier_key:
        response[&#34;usageIdentifierKey&#34;] = self.usage_identifier_key

    if self.context:
        response[&#34;context&#34;] = self.context

    return response</code></pre>
</details>
</dd>
<dt id="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerResponse.deny_all_routes"><code class="name flex">
<span>def <span class="ident">deny_all_routes</span></span>(<span>self, http_method: str = '*')</span>
</code></dt>
<dd>
<div class="desc"><p>Adds a '*' allow to the policy to deny access to all methods of an API</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>http_method</code></strong> :&ensp;<code>str</code></dt>
<dd>&nbsp;</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def deny_all_routes(self, http_method: str = HttpVerb.ALL.value):
    &#34;&#34;&#34;Adds a &#39;*&#39; allow to the policy to deny access to all methods of an API

    Parameters
    ----------
    http_method: str
    &#34;&#34;&#34;

    self._add_route(effect=&#34;Deny&#34;, http_method=http_method, resource=&#34;*&#34;)</code></pre>
</details>
</dd>
<dt id="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerResponse.deny_route"><code class="name flex">
<span>def <span class="ident">deny_route</span></span>(<span>self, http_method: str, resource: str, conditions: Optional[List[Dict]] = None)</span>
</code></dt>
<dd>
<div class="desc"><p>Adds an API Gateway method (Http verb + Resource path) to the list of denied
methods for the policy.</p>
<p>Optionally includes a condition for the policy statement. More on AWS policy
conditions here: <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_elements.html#Condition">https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_elements.html#Condition</a></p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def deny_route(self, http_method: str, resource: str, conditions: Optional[List[Dict]] = None):
    &#34;&#34;&#34;Adds an API Gateway method (Http verb + Resource path) to the list of denied
    methods for the policy.

    Optionally includes a condition for the policy statement. More on AWS policy
    conditions here: https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_elements.html#Condition&#34;&#34;&#34;
    self._add_route(effect=&#34;Deny&#34;, http_method=http_method, resource=resource, conditions=conditions)</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerResponseV2"><code class="flex name class">
<span>class <span class="ident">APIGatewayAuthorizerResponseV2</span></span>
<span>(</span><span>authorize: bool = False, context: Optional[Dict[str, Any]] = None)</span>
</code></dt>
<dd>
<div class="desc"><p>Api Gateway HTTP API V2 payload authorizer simple response helper</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>authorize</code></strong> :&ensp;<code>bool</code></dt>
<dd>authorize is a boolean value indicating if the value in authorizationToken
is authorized to make calls to the GraphQL API. If this value is
true, execution of the GraphQL API continues. If this value is false,
an UnauthorizedException is raised</dd>
<dt><strong><code>context</code></strong> :&ensp;<code>Dict[str, Any]</code>, optional</dt>
<dd>
<p>A JSON object visible as <code>event.requestContext.authorizer</code> lambda event</p>
<p>The context object only supports key-value pairs. Nested keys are not supported.</p>
<p>Warning: The total size of this JSON object must not exceed 5MB.</p>
</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class APIGatewayAuthorizerResponseV2:
    &#34;&#34;&#34;Api Gateway HTTP API V2 payload authorizer simple response helper

    Parameters
    ----------
    authorize: bool
        authorize is a boolean value indicating if the value in authorizationToken
        is authorized to make calls to the GraphQL API. If this value is
        true, execution of the GraphQL API continues. If this value is false,
        an UnauthorizedException is raised
    context: Dict[str, Any], optional
        A JSON object visible as `event.requestContext.authorizer` lambda event

        The context object only supports key-value pairs. Nested keys are not supported.

        Warning: The total size of this JSON object must not exceed 5MB.
    &#34;&#34;&#34;

    def __init__(
        self,
        authorize: bool = False,
        context: Optional[Dict[str, Any]] = None,
    ):
        self.authorize = authorize
        self.context = context

    def asdict(self) -&gt; dict:
        &#34;&#34;&#34;Return the response as a dict&#34;&#34;&#34;
        response: Dict = {&#34;isAuthorized&#34;: self.authorize}

        if self.context:
            response[&#34;context&#34;] = self.context

        return response</code></pre>
</details>
<h3>Methods</h3>
<dl>
<dt id="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerResponseV2.asdict"><code class="name flex">
<span>def <span class="ident">asdict</span></span>(<span>self) ‑> dict</span>
</code></dt>
<dd>
<div class="desc"><p>Return the response as a dict</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def asdict(self) -&gt; dict:
    &#34;&#34;&#34;Return the response as a dict&#34;&#34;&#34;
    response: Dict = {&#34;isAuthorized&#34;: self.authorize}

    if self.context:
        response[&#34;context&#34;] = self.context

    return response</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerTokenEvent"><code class="flex name class">
<span>class <span class="ident">APIGatewayAuthorizerTokenEvent</span></span>
<span>(</span><span>data: Dict[str, Any])</span>
</code></dt>
<dd>
<div class="desc"><p>API Gateway Authorizer Token Event Format 1.0</p>
<h2 id="documentation">Documentation:</h2>
<ul>
<li><a href="https://docs.aws.amazon.com/apigateway/latest/developerguide/apigateway-use-lambda-authorizer.html">https://docs.aws.amazon.com/apigateway/latest/developerguide/apigateway-use-lambda-authorizer.html</a></li>
</ul></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class APIGatewayAuthorizerTokenEvent(DictWrapper):
    &#34;&#34;&#34;API Gateway Authorizer Token Event Format 1.0

    Documentation:
    -------------
    - https://docs.aws.amazon.com/apigateway/latest/developerguide/apigateway-use-lambda-authorizer.html
    &#34;&#34;&#34;

    @property
    def get_type(self) -&gt; str:
        return self[&#34;type&#34;]

    @property
    def authorization_token(self) -&gt; str:
        return self[&#34;authorizationToken&#34;]

    @property
    def method_arn(self) -&gt; str:
        &#34;&#34;&#34;ARN of the incoming method request and is populated by API Gateway in accordance with the Lambda authorizer
        configuration&#34;&#34;&#34;
        return self[&#34;methodArn&#34;]

    @property
    def parsed_arn(self) -&gt; APIGatewayRouteArn:
        &#34;&#34;&#34;Convenient property to return a parsed api gateway method arn&#34;&#34;&#34;
        return parse_api_gateway_arn(self.method_arn)</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="aws_lambda_powertools.utilities.data_classes.common.DictWrapper" href="common.html#aws_lambda_powertools.utilities.data_classes.common.DictWrapper">DictWrapper</a></li>
<li>collections.abc.Mapping</li>
<li>collections.abc.Collection</li>
<li>collections.abc.Sized</li>
<li>collections.abc.Iterable</li>
<li>collections.abc.Container</li>
</ul>
<h3>Instance variables</h3>
<dl>
<dt id="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerTokenEvent.authorization_token"><code class="name">var <span class="ident">authorization_token</span> : str</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def authorization_token(self) -&gt; str:
    return self[&#34;authorizationToken&#34;]</code></pre>
</details>
</dd>
<dt id="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerTokenEvent.get_type"><code class="name">var <span class="ident">get_type</span> : str</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def get_type(self) -&gt; str:
    return self[&#34;type&#34;]</code></pre>
</details>
</dd>
<dt id="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerTokenEvent.method_arn"><code class="name">var <span class="ident">method_arn</span> : str</code></dt>
<dd>
<div class="desc"><p>ARN of the incoming method request and is populated by API Gateway in accordance with the Lambda authorizer
configuration</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def method_arn(self) -&gt; str:
    &#34;&#34;&#34;ARN of the incoming method request and is populated by API Gateway in accordance with the Lambda authorizer
    configuration&#34;&#34;&#34;
    return self[&#34;methodArn&#34;]</code></pre>
</details>
</dd>
<dt id="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerTokenEvent.parsed_arn"><code class="name">var <span class="ident">parsed_arn</span> : <a title="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayRouteArn" href="#aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayRouteArn">APIGatewayRouteArn</a></code></dt>
<dd>
<div class="desc"><p>Convenient property to return a parsed api gateway method arn</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def parsed_arn(self) -&gt; APIGatewayRouteArn:
    &#34;&#34;&#34;Convenient property to return a parsed api gateway method arn&#34;&#34;&#34;
    return parse_api_gateway_arn(self.method_arn)</code></pre>
</details>
</dd>
</dl>
<h3>Inherited members</h3>
<ul class="hlist">
<li><code><b><a title="aws_lambda_powertools.utilities.data_classes.common.DictWrapper" href="common.html#aws_lambda_powertools.utilities.data_classes.common.DictWrapper">DictWrapper</a></b></code>:
<ul class="hlist">
<li><code><a title="aws_lambda_powertools.utilities.data_classes.common.DictWrapper.get" href="common.html#aws_lambda_powertools.utilities.data_classes.common.DictWrapper.get">get</a></code></li>
<li><code><a title="aws_lambda_powertools.utilities.data_classes.common.DictWrapper.raw_event" href="common.html#aws_lambda_powertools.utilities.data_classes.common.DictWrapper.raw_event">raw_event</a></code></li>
</ul>
</li>
</ul>
</dd>
<dt id="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayRouteArn"><code class="flex name class">
<span>class <span class="ident">APIGatewayRouteArn</span></span>
<span>(</span><span>region: str, aws_account_id: str, api_id: str, stage: str, http_method: str, resource: str, partition: str = 'aws')</span>
</code></dt>
<dd>
<div class="desc"><p>A parsed route arn</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class APIGatewayRouteArn:
    &#34;&#34;&#34;A parsed route arn&#34;&#34;&#34;

    def __init__(
        self,
        region: str,
        aws_account_id: str,
        api_id: str,
        stage: str,
        http_method: str,
        resource: str,
        partition: str = &#34;aws&#34;,
    ):
        self.partition = partition
        self.region = region
        self.aws_account_id = aws_account_id
        self.api_id = api_id
        self.stage = stage
        self.http_method = http_method
        # Remove matching &#34;/&#34; from `resource`.
        self.resource = resource.lstrip(&#34;/&#34;)

    @property
    def arn(self) -&gt; str:
        &#34;&#34;&#34;Build an arn from its parts
        eg: arn:aws:execute-api:us-east-1:123456789012:abcdef123/test/GET/request&#34;&#34;&#34;
        return (
            f&#34;arn:{self.partition}:execute-api:{self.region}:{self.aws_account_id}:{self.api_id}/{self.stage}/&#34;
            f&#34;{self.http_method}/{self.resource}&#34;
        )</code></pre>
</details>
<h3>Instance variables</h3>
<dl>
<dt id="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayRouteArn.arn"><code class="name">var <span class="ident">arn</span> : str</code></dt>
<dd>
<div class="desc"><p>Build an arn from its parts
eg: arn:aws:execute-api:us-east-1:123456789012:abcdef123/test/GET/request</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def arn(self) -&gt; str:
    &#34;&#34;&#34;Build an arn from its parts
    eg: arn:aws:execute-api:us-east-1:123456789012:abcdef123/test/GET/request&#34;&#34;&#34;
    return (
        f&#34;arn:{self.partition}:execute-api:{self.region}:{self.aws_account_id}:{self.api_id}/{self.stage}/&#34;
        f&#34;{self.http_method}/{self.resource}&#34;
    )</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.HttpVerb"><code class="flex name class">
<span>class <span class="ident">HttpVerb</span></span>
<span>(</span><span>value, names=None, *, module=None, qualname=None, type=None, start=1)</span>
</code></dt>
<dd>
<div class="desc"><p>Enum of http methods / verbs</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class HttpVerb(enum.Enum):
    &#34;&#34;&#34;Enum of http methods / verbs&#34;&#34;&#34;

    GET = &#34;GET&#34;
    POST = &#34;POST&#34;
    PUT = &#34;PUT&#34;
    PATCH = &#34;PATCH&#34;
    HEAD = &#34;HEAD&#34;
    DELETE = &#34;DELETE&#34;
    OPTIONS = &#34;OPTIONS&#34;
    ALL = &#34;*&#34;</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>enum.Enum</li>
</ul>
<h3>Class variables</h3>
<dl>
<dt id="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.HttpVerb.ALL"><code class="name">var <span class="ident">ALL</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.HttpVerb.DELETE"><code class="name">var <span class="ident">DELETE</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.HttpVerb.GET"><code class="name">var <span class="ident">GET</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.HttpVerb.HEAD"><code class="name">var <span class="ident">HEAD</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.HttpVerb.OPTIONS"><code class="name">var <span class="ident">OPTIONS</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.HttpVerb.PATCH"><code class="name">var <span class="ident">PATCH</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.HttpVerb.POST"><code class="name">var <span class="ident">POST</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.HttpVerb.PUT"><code class="name">var <span class="ident">PUT</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
</dd>
</dl>
</section>
</article>
<nav id="sidebar">
<h1>Index</h1>
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="aws_lambda_powertools.utilities.data_classes" href="index.html">aws_lambda_powertools.utilities.data_classes</a></code></li>
</ul>
</li>
<li><h3><a href="#header-functions">Functions</a></h3>
<ul class="">
<li><code><a title="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.parse_api_gateway_arn" href="#aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.parse_api_gateway_arn">parse_api_gateway_arn</a></code></li>
</ul>
</li>
<li><h3><a href="#header-classes">Classes</a></h3>
<ul>
<li>
<h4><code><a title="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerEventV2" href="#aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerEventV2">APIGatewayAuthorizerEventV2</a></code></h4>
<ul class="">
<li><code><a title="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerEventV2.cookies" href="#aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerEventV2.cookies">cookies</a></code></li>
<li><code><a title="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerEventV2.get_header_value" href="#aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerEventV2.get_header_value">get_header_value</a></code></li>
<li><code><a title="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerEventV2.get_type" href="#aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerEventV2.get_type">get_type</a></code></li>
<li><code><a title="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerEventV2.headers" href="#aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerEventV2.headers">headers</a></code></li>
<li><code><a title="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerEventV2.identity_source" href="#aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerEventV2.identity_source">identity_source</a></code></li>
<li><code><a title="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerEventV2.parsed_arn" href="#aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerEventV2.parsed_arn">parsed_arn</a></code></li>
<li><code><a title="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerEventV2.path_parameters" href="#aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerEventV2.path_parameters">path_parameters</a></code></li>
<li><code><a title="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerEventV2.query_string_parameters" href="#aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerEventV2.query_string_parameters">query_string_parameters</a></code></li>
<li><code><a title="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerEventV2.raw_path" href="#aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerEventV2.raw_path">raw_path</a></code></li>
<li><code><a title="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerEventV2.raw_query_string" href="#aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerEventV2.raw_query_string">raw_query_string</a></code></li>
<li><code><a title="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerEventV2.request_context" href="#aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerEventV2.request_context">request_context</a></code></li>
<li><code><a title="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerEventV2.route_arn" href="#aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerEventV2.route_arn">route_arn</a></code></li>
<li><code><a title="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerEventV2.route_key" href="#aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerEventV2.route_key">route_key</a></code></li>
<li><code><a title="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerEventV2.stage_variables" href="#aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerEventV2.stage_variables">stage_variables</a></code></li>
<li><code><a title="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerEventV2.version" href="#aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerEventV2.version">version</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerRequestEvent" href="#aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerRequestEvent">APIGatewayAuthorizerRequestEvent</a></code></h4>
<ul class="">
<li><code><a title="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerRequestEvent.authorization_token" href="#aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerRequestEvent.authorization_token">authorization_token</a></code></li>
<li><code><a title="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerRequestEvent.get_header_value" href="#aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerRequestEvent.get_header_value">get_header_value</a></code></li>
<li><code><a title="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerRequestEvent.get_type" href="#aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerRequestEvent.get_type">get_type</a></code></li>
<li><code><a title="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerRequestEvent.headers" href="#aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerRequestEvent.headers">headers</a></code></li>
<li><code><a title="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerRequestEvent.http_method" href="#aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerRequestEvent.http_method">http_method</a></code></li>
<li><code><a title="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerRequestEvent.identity_source" href="#aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerRequestEvent.identity_source">identity_source</a></code></li>
<li><code><a title="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerRequestEvent.method_arn" href="#aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerRequestEvent.method_arn">method_arn</a></code></li>
<li><code><a title="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerRequestEvent.parsed_arn" href="#aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerRequestEvent.parsed_arn">parsed_arn</a></code></li>
<li><code><a title="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerRequestEvent.path" href="#aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerRequestEvent.path">path</a></code></li>
<li><code><a title="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerRequestEvent.path_parameters" href="#aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerRequestEvent.path_parameters">path_parameters</a></code></li>
<li><code><a title="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerRequestEvent.query_string_parameters" href="#aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerRequestEvent.query_string_parameters">query_string_parameters</a></code></li>
<li><code><a title="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerRequestEvent.request_context" href="#aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerRequestEvent.request_context">request_context</a></code></li>
<li><code><a title="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerRequestEvent.resource" href="#aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerRequestEvent.resource">resource</a></code></li>
<li><code><a title="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerRequestEvent.stage_variables" href="#aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerRequestEvent.stage_variables">stage_variables</a></code></li>
<li><code><a title="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerRequestEvent.version" href="#aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerRequestEvent.version">version</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerResponse" href="#aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerResponse">APIGatewayAuthorizerResponse</a></code></h4>
<ul class="two-column">
<li><code><a title="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerResponse.allow_all_routes" href="#aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerResponse.allow_all_routes">allow_all_routes</a></code></li>
<li><code><a title="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerResponse.allow_route" href="#aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerResponse.allow_route">allow_route</a></code></li>
<li><code><a title="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerResponse.asdict" href="#aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerResponse.asdict">asdict</a></code></li>
<li><code><a title="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerResponse.deny_all_routes" href="#aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerResponse.deny_all_routes">deny_all_routes</a></code></li>
<li><code><a title="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerResponse.deny_route" href="#aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerResponse.deny_route">deny_route</a></code></li>
<li><code><a title="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerResponse.from_route_arn" href="#aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerResponse.from_route_arn">from_route_arn</a></code></li>
<li><code><a title="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerResponse.path_regex" href="#aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerResponse.path_regex">path_regex</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerResponseV2" href="#aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerResponseV2">APIGatewayAuthorizerResponseV2</a></code></h4>
<ul class="">
<li><code><a title="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerResponseV2.asdict" href="#aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerResponseV2.asdict">asdict</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerTokenEvent" href="#aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerTokenEvent">APIGatewayAuthorizerTokenEvent</a></code></h4>
<ul class="">
<li><code><a title="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerTokenEvent.authorization_token" href="#aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerTokenEvent.authorization_token">authorization_token</a></code></li>
<li><code><a title="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerTokenEvent.get_type" href="#aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerTokenEvent.get_type">get_type</a></code></li>
<li><code><a title="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerTokenEvent.method_arn" href="#aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerTokenEvent.method_arn">method_arn</a></code></li>
<li><code><a title="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerTokenEvent.parsed_arn" href="#aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayAuthorizerTokenEvent.parsed_arn">parsed_arn</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayRouteArn" href="#aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayRouteArn">APIGatewayRouteArn</a></code></h4>
<ul class="">
<li><code><a title="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayRouteArn.arn" href="#aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.APIGatewayRouteArn.arn">arn</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.HttpVerb" href="#aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.HttpVerb">HttpVerb</a></code></h4>
<ul class="two-column">
<li><code><a title="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.HttpVerb.ALL" href="#aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.HttpVerb.ALL">ALL</a></code></li>
<li><code><a title="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.HttpVerb.DELETE" href="#aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.HttpVerb.DELETE">DELETE</a></code></li>
<li><code><a title="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.HttpVerb.GET" href="#aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.HttpVerb.GET">GET</a></code></li>
<li><code><a title="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.HttpVerb.HEAD" href="#aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.HttpVerb.HEAD">HEAD</a></code></li>
<li><code><a title="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.HttpVerb.OPTIONS" href="#aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.HttpVerb.OPTIONS">OPTIONS</a></code></li>
<li><code><a title="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.HttpVerb.PATCH" href="#aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.HttpVerb.PATCH">PATCH</a></code></li>
<li><code><a title="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.HttpVerb.POST" href="#aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.HttpVerb.POST">POST</a></code></li>
<li><code><a title="aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.HttpVerb.PUT" href="#aws_lambda_powertools.utilities.data_classes.api_gateway_authorizer_event.HttpVerb.PUT">PUT</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc" title="pdoc: Python API documentation generator"><cite>pdoc</cite> 0.10.0</a>.</p>
</footer>
</body>
</html>