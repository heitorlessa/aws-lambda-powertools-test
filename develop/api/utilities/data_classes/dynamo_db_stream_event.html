<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.10.0" />
<title>aws_lambda_powertools.utilities.data_classes.dynamo_db_stream_event API documentation</title>
<meta name="description" content="" />
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/sanitize.min.css" integrity="sha256-PK9q560IAAa6WVRRh76LtCaI8pjTJ2z11v0miyNNjrs=" crossorigin>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/typography.min.css" integrity="sha256-7l/o7C8jubJiy74VsKTidCy1yBkRtiUGbVkYBylBqUg=" crossorigin>
<link rel="stylesheet preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/github.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js" integrity="sha256-Uv3H6lx7dJmRfRvH8TH6kJD1TSK1aFcwgx+mdg3epi8=" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => hljs.initHighlighting())</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>aws_lambda_powertools.utilities.data_classes.dynamo_db_stream_event</code></h1>
</header>
<section id="section-intro">
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">from decimal import Clamped, Context, Decimal, Inexact, Overflow, Rounded, Underflow
from enum import Enum
from typing import Any, Callable, Dict, Iterator, Optional, Sequence, Set

from aws_lambda_powertools.utilities.data_classes.common import DictWrapper

# NOTE: DynamoDB supports up to 38 digits precision
# Therefore, this ensures our Decimal follows what&#39;s stored in the table
DYNAMODB_CONTEXT = Context(
    Emin=-128,
    Emax=126,
    prec=38,
    traps=[Clamped, Overflow, Inexact, Rounded, Underflow],
)


class TypeDeserializer:
    &#34;&#34;&#34;
    Deserializes DynamoDB types to Python types.

    It&#39;s based on boto3&#39;s [DynamoDB TypeDeserializer](https://boto3.amazonaws.com/v1/documentation/api/latest/_modules/boto3/dynamodb/types.html). # noqa: E501

    The only notable difference is that for Binary (`B`, `BS`) values we return Python Bytes directly,
    since we don&#39;t support Python 2.
    &#34;&#34;&#34;

    def deserialize(self, value: Dict) -&gt; Any:
        &#34;&#34;&#34;Deserialize DynamoDB data types into Python types.

        Parameters
        ----------
        value: Any
            DynamoDB value to be deserialized to a python type


            Here are the various conversions:

            DynamoDB                                Python
            --------                                ------
            {&#39;NULL&#39;: True}                          None
            {&#39;BOOL&#39;: True/False}                    True/False
            {&#39;N&#39;: str(value)}                       str(value)
            {&#39;S&#39;: string}                           string
            {&#39;B&#39;: bytes}                            bytes
            {&#39;NS&#39;: [str(value)]}                    set([str(value)])
            {&#39;SS&#39;: [string]}                        set([string])
            {&#39;BS&#39;: [bytes]}                         set([bytes])
            {&#39;L&#39;: list}                             list
            {&#39;M&#39;: dict}                             dict

        Parameters
        ----------
        value: Any
            DynamoDB value to be deserialized to a python type

        Returns
        --------
        any
            Python native type converted from DynamoDB type
        &#34;&#34;&#34;

        dynamodb_type = list(value.keys())[0]
        deserializer: Optional[Callable] = getattr(self, f&#34;_deserialize_{dynamodb_type}&#34;.lower(), None)
        if deserializer is None:
            raise TypeError(f&#34;Dynamodb type {dynamodb_type} is not supported&#34;)

        return deserializer(value[dynamodb_type])

    def _deserialize_null(self, value: bool) -&gt; None:
        return None

    def _deserialize_bool(self, value: bool) -&gt; bool:
        return value

    def _deserialize_n(self, value: str) -&gt; Decimal:
        return DYNAMODB_CONTEXT.create_decimal(value)

    def _deserialize_s(self, value: str) -&gt; str:
        return value

    def _deserialize_b(self, value: bytes) -&gt; bytes:
        return value

    def _deserialize_ns(self, value: Sequence[str]) -&gt; Set[Decimal]:
        return set(map(self._deserialize_n, value))

    def _deserialize_ss(self, value: Sequence[str]) -&gt; Set[str]:
        return set(map(self._deserialize_s, value))

    def _deserialize_bs(self, value: Sequence[bytes]) -&gt; Set[bytes]:
        return set(map(self._deserialize_b, value))

    def _deserialize_l(self, value: Sequence[Dict]) -&gt; Sequence[Any]:
        return [self.deserialize(v) for v in value]

    def _deserialize_m(self, value: Dict) -&gt; Dict:
        return {k: self.deserialize(v) for k, v in value.items()}


class StreamViewType(Enum):
    &#34;&#34;&#34;The type of data from the modified DynamoDB item that was captured in this stream record&#34;&#34;&#34;

    KEYS_ONLY = 0  # only the key attributes of the modified item
    NEW_IMAGE = 1  # the entire item, as it appeared after it was modified.
    OLD_IMAGE = 2  # the entire item, as it appeared before it was modified.
    NEW_AND_OLD_IMAGES = 3  # both the new and the old item images of the item.


class StreamRecord(DictWrapper):
    _deserializer = TypeDeserializer()

    def __init__(self, data: Dict[str, Any]):
        &#34;&#34;&#34;StreamRecord constructor
        Parameters
        ----------
        data: Dict[str, Any]
            Represents the dynamodb dict inside DynamoDBStreamEvent&#39;s records
        &#34;&#34;&#34;
        super().__init__(data)
        self._deserializer = TypeDeserializer()

    def _deserialize_dynamodb_dict(self, key: str) -&gt; Optional[Dict[str, Any]]:
        &#34;&#34;&#34;Deserialize DynamoDB records available in `Keys`, `NewImage`, and `OldImage`

        Parameters
        ----------
        key : str
            DynamoDB key (e.g., Keys, NewImage, or OldImage)

        Returns
        -------
        Optional[Dict[str, Any]]
            Deserialized records in Python native types
        &#34;&#34;&#34;
        dynamodb_dict = self._data.get(key)
        if dynamodb_dict is None:
            return None

        return {k: self._deserializer.deserialize(v) for k, v in dynamodb_dict.items()}

    @property
    def approximate_creation_date_time(self) -&gt; Optional[int]:
        &#34;&#34;&#34;The approximate date and time when the stream record was created, in UNIX epoch time format.&#34;&#34;&#34;
        item = self.get(&#34;ApproximateCreationDateTime&#34;)
        return None if item is None else int(item)

    @property
    def keys(self) -&gt; Optional[Dict[str, Any]]:  # type: ignore[override]
        &#34;&#34;&#34;The primary key attribute(s) for the DynamoDB item that was modified.&#34;&#34;&#34;
        return self._deserialize_dynamodb_dict(&#34;Keys&#34;)

    @property
    def new_image(self) -&gt; Optional[Dict[str, Any]]:
        &#34;&#34;&#34;The item in the DynamoDB table as it appeared after it was modified.&#34;&#34;&#34;
        return self._deserialize_dynamodb_dict(&#34;NewImage&#34;)

    @property
    def old_image(self) -&gt; Optional[Dict[str, Any]]:
        &#34;&#34;&#34;The item in the DynamoDB table as it appeared before it was modified.&#34;&#34;&#34;
        return self._deserialize_dynamodb_dict(&#34;OldImage&#34;)

    @property
    def sequence_number(self) -&gt; Optional[str]:
        &#34;&#34;&#34;The sequence number of the stream record.&#34;&#34;&#34;
        return self.get(&#34;SequenceNumber&#34;)

    @property
    def size_bytes(self) -&gt; Optional[int]:
        &#34;&#34;&#34;The size of the stream record, in bytes.&#34;&#34;&#34;
        item = self.get(&#34;SizeBytes&#34;)
        return None if item is None else int(item)

    @property
    def stream_view_type(self) -&gt; Optional[StreamViewType]:
        &#34;&#34;&#34;The type of data from the modified DynamoDB item that was captured in this stream record&#34;&#34;&#34;
        item = self.get(&#34;StreamViewType&#34;)
        return None if item is None else StreamViewType[str(item)]


class DynamoDBRecordEventName(Enum):
    INSERT = 0  # a new item was added to the table
    MODIFY = 1  # one or more of an existing item&#39;s attributes were modified
    REMOVE = 2  # the item was deleted from the table


class DynamoDBRecord(DictWrapper):
    &#34;&#34;&#34;A description of a unique event within a stream&#34;&#34;&#34;

    @property
    def aws_region(self) -&gt; Optional[str]:
        &#34;&#34;&#34;The region in which the GetRecords request was received&#34;&#34;&#34;
        return self.get(&#34;awsRegion&#34;)

    @property
    def dynamodb(self) -&gt; Optional[StreamRecord]:
        &#34;&#34;&#34;The main body of the stream record, containing all the DynamoDB-specific dicts.&#34;&#34;&#34;
        stream_record = self.get(&#34;dynamodb&#34;)
        return None if stream_record is None else StreamRecord(stream_record)

    @property
    def event_id(self) -&gt; Optional[str]:
        &#34;&#34;&#34;A globally unique identifier for the event that was recorded in this stream record.&#34;&#34;&#34;
        return self.get(&#34;eventID&#34;)

    @property
    def event_name(self) -&gt; Optional[DynamoDBRecordEventName]:
        &#34;&#34;&#34;The type of data modification that was performed on the DynamoDB table&#34;&#34;&#34;
        item = self.get(&#34;eventName&#34;)
        return None if item is None else DynamoDBRecordEventName[item]

    @property
    def event_source(self) -&gt; Optional[str]:
        &#34;&#34;&#34;The AWS service from which the stream record originated. For DynamoDB Streams, this is aws:dynamodb.&#34;&#34;&#34;
        return self.get(&#34;eventSource&#34;)

    @property
    def event_source_arn(self) -&gt; Optional[str]:
        &#34;&#34;&#34;The Amazon Resource Name (ARN) of the event source&#34;&#34;&#34;
        return self.get(&#34;eventSourceARN&#34;)

    @property
    def event_version(self) -&gt; Optional[str]:
        &#34;&#34;&#34;The version number of the stream record format.&#34;&#34;&#34;
        return self.get(&#34;eventVersion&#34;)

    @property
    def user_identity(self) -&gt; Optional[dict]:
        &#34;&#34;&#34;Contains details about the type of identity that made the request&#34;&#34;&#34;
        return self.get(&#34;userIdentity&#34;)


class DynamoDBStreamEvent(DictWrapper):
    &#34;&#34;&#34;Dynamo DB Stream Event

    Documentation:
    -------------
    - https://docs.aws.amazon.com/lambda/latest/dg/with-ddb.html

    Example
    -------
    **Process dynamodb stream events. DynamoDB types are automatically converted to their equivalent Python values.**

        from aws_lambda_powertools.utilities.data_classes import event_source, DynamoDBStreamEvent
        from aws_lambda_powertools.utilities.typing import LambdaContext


        @event_source(data_class=DynamoDBStreamEvent)
        def lambda_handler(event: DynamoDBStreamEvent, context: LambdaContext):
            for record in event.records:
                # {&#34;N&#34;: &#34;123.45&#34;} =&gt; Decimal(&#34;123.45&#34;)
                key: str = record.dynamodb.keys[&#34;id&#34;]
                print(key)
    &#34;&#34;&#34;

    @property
    def records(self) -&gt; Iterator[DynamoDBRecord]:
        for record in self[&#34;Records&#34;]:
            yield DynamoDBRecord(record)</code></pre>
</details>
</section>
<section>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-classes">Classes</h2>
<dl>
<dt id="aws_lambda_powertools.utilities.data_classes.dynamo_db_stream_event.DynamoDBRecord"><code class="flex name class">
<span>class <span class="ident">DynamoDBRecord</span></span>
<span>(</span><span>data: Dict[str, Any])</span>
</code></dt>
<dd>
<div class="desc"><p>A description of a unique event within a stream</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class DynamoDBRecord(DictWrapper):
    &#34;&#34;&#34;A description of a unique event within a stream&#34;&#34;&#34;

    @property
    def aws_region(self) -&gt; Optional[str]:
        &#34;&#34;&#34;The region in which the GetRecords request was received&#34;&#34;&#34;
        return self.get(&#34;awsRegion&#34;)

    @property
    def dynamodb(self) -&gt; Optional[StreamRecord]:
        &#34;&#34;&#34;The main body of the stream record, containing all the DynamoDB-specific dicts.&#34;&#34;&#34;
        stream_record = self.get(&#34;dynamodb&#34;)
        return None if stream_record is None else StreamRecord(stream_record)

    @property
    def event_id(self) -&gt; Optional[str]:
        &#34;&#34;&#34;A globally unique identifier for the event that was recorded in this stream record.&#34;&#34;&#34;
        return self.get(&#34;eventID&#34;)

    @property
    def event_name(self) -&gt; Optional[DynamoDBRecordEventName]:
        &#34;&#34;&#34;The type of data modification that was performed on the DynamoDB table&#34;&#34;&#34;
        item = self.get(&#34;eventName&#34;)
        return None if item is None else DynamoDBRecordEventName[item]

    @property
    def event_source(self) -&gt; Optional[str]:
        &#34;&#34;&#34;The AWS service from which the stream record originated. For DynamoDB Streams, this is aws:dynamodb.&#34;&#34;&#34;
        return self.get(&#34;eventSource&#34;)

    @property
    def event_source_arn(self) -&gt; Optional[str]:
        &#34;&#34;&#34;The Amazon Resource Name (ARN) of the event source&#34;&#34;&#34;
        return self.get(&#34;eventSourceARN&#34;)

    @property
    def event_version(self) -&gt; Optional[str]:
        &#34;&#34;&#34;The version number of the stream record format.&#34;&#34;&#34;
        return self.get(&#34;eventVersion&#34;)

    @property
    def user_identity(self) -&gt; Optional[dict]:
        &#34;&#34;&#34;Contains details about the type of identity that made the request&#34;&#34;&#34;
        return self.get(&#34;userIdentity&#34;)</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="aws_lambda_powertools.utilities.data_classes.common.DictWrapper" href="common.html#aws_lambda_powertools.utilities.data_classes.common.DictWrapper">DictWrapper</a></li>
<li>collections.abc.Mapping</li>
<li>collections.abc.Collection</li>
<li>collections.abc.Sized</li>
<li>collections.abc.Iterable</li>
<li>collections.abc.Container</li>
</ul>
<h3>Instance variables</h3>
<dl>
<dt id="aws_lambda_powertools.utilities.data_classes.dynamo_db_stream_event.DynamoDBRecord.aws_region"><code class="name">var <span class="ident">aws_region</span> : Optional[str]</code></dt>
<dd>
<div class="desc"><p>The region in which the GetRecords request was received</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def aws_region(self) -&gt; Optional[str]:
    &#34;&#34;&#34;The region in which the GetRecords request was received&#34;&#34;&#34;
    return self.get(&#34;awsRegion&#34;)</code></pre>
</details>
</dd>
<dt id="aws_lambda_powertools.utilities.data_classes.dynamo_db_stream_event.DynamoDBRecord.dynamodb"><code class="name">var <span class="ident">dynamodb</span> : Optional[<a title="aws_lambda_powertools.utilities.data_classes.dynamo_db_stream_event.StreamRecord" href="#aws_lambda_powertools.utilities.data_classes.dynamo_db_stream_event.StreamRecord">StreamRecord</a>]</code></dt>
<dd>
<div class="desc"><p>The main body of the stream record, containing all the DynamoDB-specific dicts.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def dynamodb(self) -&gt; Optional[StreamRecord]:
    &#34;&#34;&#34;The main body of the stream record, containing all the DynamoDB-specific dicts.&#34;&#34;&#34;
    stream_record = self.get(&#34;dynamodb&#34;)
    return None if stream_record is None else StreamRecord(stream_record)</code></pre>
</details>
</dd>
<dt id="aws_lambda_powertools.utilities.data_classes.dynamo_db_stream_event.DynamoDBRecord.event_id"><code class="name">var <span class="ident">event_id</span> : Optional[str]</code></dt>
<dd>
<div class="desc"><p>A globally unique identifier for the event that was recorded in this stream record.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def event_id(self) -&gt; Optional[str]:
    &#34;&#34;&#34;A globally unique identifier for the event that was recorded in this stream record.&#34;&#34;&#34;
    return self.get(&#34;eventID&#34;)</code></pre>
</details>
</dd>
<dt id="aws_lambda_powertools.utilities.data_classes.dynamo_db_stream_event.DynamoDBRecord.event_name"><code class="name">var <span class="ident">event_name</span> : Optional[<a title="aws_lambda_powertools.utilities.data_classes.dynamo_db_stream_event.DynamoDBRecordEventName" href="#aws_lambda_powertools.utilities.data_classes.dynamo_db_stream_event.DynamoDBRecordEventName">DynamoDBRecordEventName</a>]</code></dt>
<dd>
<div class="desc"><p>The type of data modification that was performed on the DynamoDB table</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def event_name(self) -&gt; Optional[DynamoDBRecordEventName]:
    &#34;&#34;&#34;The type of data modification that was performed on the DynamoDB table&#34;&#34;&#34;
    item = self.get(&#34;eventName&#34;)
    return None if item is None else DynamoDBRecordEventName[item]</code></pre>
</details>
</dd>
<dt id="aws_lambda_powertools.utilities.data_classes.dynamo_db_stream_event.DynamoDBRecord.event_source"><code class="name">var <span class="ident">event_source</span> : Optional[str]</code></dt>
<dd>
<div class="desc"><p>The AWS service from which the stream record originated. For DynamoDB Streams, this is aws:dynamodb.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def event_source(self) -&gt; Optional[str]:
    &#34;&#34;&#34;The AWS service from which the stream record originated. For DynamoDB Streams, this is aws:dynamodb.&#34;&#34;&#34;
    return self.get(&#34;eventSource&#34;)</code></pre>
</details>
</dd>
<dt id="aws_lambda_powertools.utilities.data_classes.dynamo_db_stream_event.DynamoDBRecord.event_source_arn"><code class="name">var <span class="ident">event_source_arn</span> : Optional[str]</code></dt>
<dd>
<div class="desc"><p>The Amazon Resource Name (ARN) of the event source</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def event_source_arn(self) -&gt; Optional[str]:
    &#34;&#34;&#34;The Amazon Resource Name (ARN) of the event source&#34;&#34;&#34;
    return self.get(&#34;eventSourceARN&#34;)</code></pre>
</details>
</dd>
<dt id="aws_lambda_powertools.utilities.data_classes.dynamo_db_stream_event.DynamoDBRecord.event_version"><code class="name">var <span class="ident">event_version</span> : Optional[str]</code></dt>
<dd>
<div class="desc"><p>The version number of the stream record format.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def event_version(self) -&gt; Optional[str]:
    &#34;&#34;&#34;The version number of the stream record format.&#34;&#34;&#34;
    return self.get(&#34;eventVersion&#34;)</code></pre>
</details>
</dd>
<dt id="aws_lambda_powertools.utilities.data_classes.dynamo_db_stream_event.DynamoDBRecord.user_identity"><code class="name">var <span class="ident">user_identity</span> : Optional[dict]</code></dt>
<dd>
<div class="desc"><p>Contains details about the type of identity that made the request</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def user_identity(self) -&gt; Optional[dict]:
    &#34;&#34;&#34;Contains details about the type of identity that made the request&#34;&#34;&#34;
    return self.get(&#34;userIdentity&#34;)</code></pre>
</details>
</dd>
</dl>
<h3>Inherited members</h3>
<ul class="hlist">
<li><code><b><a title="aws_lambda_powertools.utilities.data_classes.common.DictWrapper" href="common.html#aws_lambda_powertools.utilities.data_classes.common.DictWrapper">DictWrapper</a></b></code>:
<ul class="hlist">
<li><code><a title="aws_lambda_powertools.utilities.data_classes.common.DictWrapper.get" href="common.html#aws_lambda_powertools.utilities.data_classes.common.DictWrapper.get">get</a></code></li>
<li><code><a title="aws_lambda_powertools.utilities.data_classes.common.DictWrapper.raw_event" href="common.html#aws_lambda_powertools.utilities.data_classes.common.DictWrapper.raw_event">raw_event</a></code></li>
</ul>
</li>
</ul>
</dd>
<dt id="aws_lambda_powertools.utilities.data_classes.dynamo_db_stream_event.DynamoDBRecordEventName"><code class="flex name class">
<span>class <span class="ident">DynamoDBRecordEventName</span></span>
<span>(</span><span>value, names=None, *, module=None, qualname=None, type=None, start=1)</span>
</code></dt>
<dd>
<div class="desc"><p>An enumeration.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class DynamoDBRecordEventName(Enum):
    INSERT = 0  # a new item was added to the table
    MODIFY = 1  # one or more of an existing item&#39;s attributes were modified
    REMOVE = 2  # the item was deleted from the table</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>enum.Enum</li>
</ul>
<h3>Class variables</h3>
<dl>
<dt id="aws_lambda_powertools.utilities.data_classes.dynamo_db_stream_event.DynamoDBRecordEventName.INSERT"><code class="name">var <span class="ident">INSERT</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="aws_lambda_powertools.utilities.data_classes.dynamo_db_stream_event.DynamoDBRecordEventName.MODIFY"><code class="name">var <span class="ident">MODIFY</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="aws_lambda_powertools.utilities.data_classes.dynamo_db_stream_event.DynamoDBRecordEventName.REMOVE"><code class="name">var <span class="ident">REMOVE</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
</dd>
<dt id="aws_lambda_powertools.utilities.data_classes.dynamo_db_stream_event.DynamoDBStreamEvent"><code class="flex name class">
<span>class <span class="ident">DynamoDBStreamEvent</span></span>
<span>(</span><span>data: Dict[str, Any])</span>
</code></dt>
<dd>
<div class="desc"><p>Dynamo DB Stream Event</p>
<h2 id="documentation">Documentation:</h2>
<ul>
<li><a href="https://docs.aws.amazon.com/lambda/latest/dg/with-ddb.html">https://docs.aws.amazon.com/lambda/latest/dg/with-ddb.html</a></li>
</ul>
<h2 id="example">Example</h2>
<p><strong>Process dynamodb stream events. DynamoDB types are automatically converted to their equivalent Python values.</strong></p>
<pre><code>from aws_lambda_powertools.utilities.data_classes import event_source, DynamoDBStreamEvent
from aws_lambda_powertools.utilities.typing import LambdaContext


@event_source(data_class=DynamoDBStreamEvent)
def lambda_handler(event: DynamoDBStreamEvent, context: LambdaContext):
    for record in event.records:
        # {"N": "123.45"} =&gt; Decimal("123.45")
        key: str = record.dynamodb.keys["id"]
        print(key)
</code></pre></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class DynamoDBStreamEvent(DictWrapper):
    &#34;&#34;&#34;Dynamo DB Stream Event

    Documentation:
    -------------
    - https://docs.aws.amazon.com/lambda/latest/dg/with-ddb.html

    Example
    -------
    **Process dynamodb stream events. DynamoDB types are automatically converted to their equivalent Python values.**

        from aws_lambda_powertools.utilities.data_classes import event_source, DynamoDBStreamEvent
        from aws_lambda_powertools.utilities.typing import LambdaContext


        @event_source(data_class=DynamoDBStreamEvent)
        def lambda_handler(event: DynamoDBStreamEvent, context: LambdaContext):
            for record in event.records:
                # {&#34;N&#34;: &#34;123.45&#34;} =&gt; Decimal(&#34;123.45&#34;)
                key: str = record.dynamodb.keys[&#34;id&#34;]
                print(key)
    &#34;&#34;&#34;

    @property
    def records(self) -&gt; Iterator[DynamoDBRecord]:
        for record in self[&#34;Records&#34;]:
            yield DynamoDBRecord(record)</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="aws_lambda_powertools.utilities.data_classes.common.DictWrapper" href="common.html#aws_lambda_powertools.utilities.data_classes.common.DictWrapper">DictWrapper</a></li>
<li>collections.abc.Mapping</li>
<li>collections.abc.Collection</li>
<li>collections.abc.Sized</li>
<li>collections.abc.Iterable</li>
<li>collections.abc.Container</li>
</ul>
<h3>Instance variables</h3>
<dl>
<dt id="aws_lambda_powertools.utilities.data_classes.dynamo_db_stream_event.DynamoDBStreamEvent.records"><code class="name">var <span class="ident">records</span> : Iterator[<a title="aws_lambda_powertools.utilities.data_classes.dynamo_db_stream_event.DynamoDBRecord" href="#aws_lambda_powertools.utilities.data_classes.dynamo_db_stream_event.DynamoDBRecord">DynamoDBRecord</a>]</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def records(self) -&gt; Iterator[DynamoDBRecord]:
    for record in self[&#34;Records&#34;]:
        yield DynamoDBRecord(record)</code></pre>
</details>
</dd>
</dl>
<h3>Inherited members</h3>
<ul class="hlist">
<li><code><b><a title="aws_lambda_powertools.utilities.data_classes.common.DictWrapper" href="common.html#aws_lambda_powertools.utilities.data_classes.common.DictWrapper">DictWrapper</a></b></code>:
<ul class="hlist">
<li><code><a title="aws_lambda_powertools.utilities.data_classes.common.DictWrapper.get" href="common.html#aws_lambda_powertools.utilities.data_classes.common.DictWrapper.get">get</a></code></li>
<li><code><a title="aws_lambda_powertools.utilities.data_classes.common.DictWrapper.raw_event" href="common.html#aws_lambda_powertools.utilities.data_classes.common.DictWrapper.raw_event">raw_event</a></code></li>
</ul>
</li>
</ul>
</dd>
<dt id="aws_lambda_powertools.utilities.data_classes.dynamo_db_stream_event.StreamRecord"><code class="flex name class">
<span>class <span class="ident">StreamRecord</span></span>
<span>(</span><span>data: Dict[str, Any])</span>
</code></dt>
<dd>
<div class="desc"><p>Provides a single read only access to a wrapper dict</p>
<p>StreamRecord constructor
Parameters</p>
<hr>
<dl>
<dt><strong><code>data</code></strong> :&ensp;<code>Dict[str, Any]</code></dt>
<dd>Represents the dynamodb dict inside DynamoDBStreamEvent's records</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class StreamRecord(DictWrapper):
    _deserializer = TypeDeserializer()

    def __init__(self, data: Dict[str, Any]):
        &#34;&#34;&#34;StreamRecord constructor
        Parameters
        ----------
        data: Dict[str, Any]
            Represents the dynamodb dict inside DynamoDBStreamEvent&#39;s records
        &#34;&#34;&#34;
        super().__init__(data)
        self._deserializer = TypeDeserializer()

    def _deserialize_dynamodb_dict(self, key: str) -&gt; Optional[Dict[str, Any]]:
        &#34;&#34;&#34;Deserialize DynamoDB records available in `Keys`, `NewImage`, and `OldImage`

        Parameters
        ----------
        key : str
            DynamoDB key (e.g., Keys, NewImage, or OldImage)

        Returns
        -------
        Optional[Dict[str, Any]]
            Deserialized records in Python native types
        &#34;&#34;&#34;
        dynamodb_dict = self._data.get(key)
        if dynamodb_dict is None:
            return None

        return {k: self._deserializer.deserialize(v) for k, v in dynamodb_dict.items()}

    @property
    def approximate_creation_date_time(self) -&gt; Optional[int]:
        &#34;&#34;&#34;The approximate date and time when the stream record was created, in UNIX epoch time format.&#34;&#34;&#34;
        item = self.get(&#34;ApproximateCreationDateTime&#34;)
        return None if item is None else int(item)

    @property
    def keys(self) -&gt; Optional[Dict[str, Any]]:  # type: ignore[override]
        &#34;&#34;&#34;The primary key attribute(s) for the DynamoDB item that was modified.&#34;&#34;&#34;
        return self._deserialize_dynamodb_dict(&#34;Keys&#34;)

    @property
    def new_image(self) -&gt; Optional[Dict[str, Any]]:
        &#34;&#34;&#34;The item in the DynamoDB table as it appeared after it was modified.&#34;&#34;&#34;
        return self._deserialize_dynamodb_dict(&#34;NewImage&#34;)

    @property
    def old_image(self) -&gt; Optional[Dict[str, Any]]:
        &#34;&#34;&#34;The item in the DynamoDB table as it appeared before it was modified.&#34;&#34;&#34;
        return self._deserialize_dynamodb_dict(&#34;OldImage&#34;)

    @property
    def sequence_number(self) -&gt; Optional[str]:
        &#34;&#34;&#34;The sequence number of the stream record.&#34;&#34;&#34;
        return self.get(&#34;SequenceNumber&#34;)

    @property
    def size_bytes(self) -&gt; Optional[int]:
        &#34;&#34;&#34;The size of the stream record, in bytes.&#34;&#34;&#34;
        item = self.get(&#34;SizeBytes&#34;)
        return None if item is None else int(item)

    @property
    def stream_view_type(self) -&gt; Optional[StreamViewType]:
        &#34;&#34;&#34;The type of data from the modified DynamoDB item that was captured in this stream record&#34;&#34;&#34;
        item = self.get(&#34;StreamViewType&#34;)
        return None if item is None else StreamViewType[str(item)]</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="aws_lambda_powertools.utilities.data_classes.common.DictWrapper" href="common.html#aws_lambda_powertools.utilities.data_classes.common.DictWrapper">DictWrapper</a></li>
<li>collections.abc.Mapping</li>
<li>collections.abc.Collection</li>
<li>collections.abc.Sized</li>
<li>collections.abc.Iterable</li>
<li>collections.abc.Container</li>
</ul>
<h3>Instance variables</h3>
<dl>
<dt id="aws_lambda_powertools.utilities.data_classes.dynamo_db_stream_event.StreamRecord.approximate_creation_date_time"><code class="name">var <span class="ident">approximate_creation_date_time</span> : Optional[int]</code></dt>
<dd>
<div class="desc"><p>The approximate date and time when the stream record was created, in UNIX epoch time format.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def approximate_creation_date_time(self) -&gt; Optional[int]:
    &#34;&#34;&#34;The approximate date and time when the stream record was created, in UNIX epoch time format.&#34;&#34;&#34;
    item = self.get(&#34;ApproximateCreationDateTime&#34;)
    return None if item is None else int(item)</code></pre>
</details>
</dd>
<dt id="aws_lambda_powertools.utilities.data_classes.dynamo_db_stream_event.StreamRecord.keys"><code class="name">var <span class="ident">keys</span> : Optional[Dict[str, Any]]</code></dt>
<dd>
<div class="desc"><p>The primary key attribute(s) for the DynamoDB item that was modified.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def keys(self) -&gt; Optional[Dict[str, Any]]:  # type: ignore[override]
    &#34;&#34;&#34;The primary key attribute(s) for the DynamoDB item that was modified.&#34;&#34;&#34;
    return self._deserialize_dynamodb_dict(&#34;Keys&#34;)</code></pre>
</details>
</dd>
<dt id="aws_lambda_powertools.utilities.data_classes.dynamo_db_stream_event.StreamRecord.new_image"><code class="name">var <span class="ident">new_image</span> : Optional[Dict[str, Any]]</code></dt>
<dd>
<div class="desc"><p>The item in the DynamoDB table as it appeared after it was modified.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def new_image(self) -&gt; Optional[Dict[str, Any]]:
    &#34;&#34;&#34;The item in the DynamoDB table as it appeared after it was modified.&#34;&#34;&#34;
    return self._deserialize_dynamodb_dict(&#34;NewImage&#34;)</code></pre>
</details>
</dd>
<dt id="aws_lambda_powertools.utilities.data_classes.dynamo_db_stream_event.StreamRecord.old_image"><code class="name">var <span class="ident">old_image</span> : Optional[Dict[str, Any]]</code></dt>
<dd>
<div class="desc"><p>The item in the DynamoDB table as it appeared before it was modified.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def old_image(self) -&gt; Optional[Dict[str, Any]]:
    &#34;&#34;&#34;The item in the DynamoDB table as it appeared before it was modified.&#34;&#34;&#34;
    return self._deserialize_dynamodb_dict(&#34;OldImage&#34;)</code></pre>
</details>
</dd>
<dt id="aws_lambda_powertools.utilities.data_classes.dynamo_db_stream_event.StreamRecord.sequence_number"><code class="name">var <span class="ident">sequence_number</span> : Optional[str]</code></dt>
<dd>
<div class="desc"><p>The sequence number of the stream record.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def sequence_number(self) -&gt; Optional[str]:
    &#34;&#34;&#34;The sequence number of the stream record.&#34;&#34;&#34;
    return self.get(&#34;SequenceNumber&#34;)</code></pre>
</details>
</dd>
<dt id="aws_lambda_powertools.utilities.data_classes.dynamo_db_stream_event.StreamRecord.size_bytes"><code class="name">var <span class="ident">size_bytes</span> : Optional[int]</code></dt>
<dd>
<div class="desc"><p>The size of the stream record, in bytes.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def size_bytes(self) -&gt; Optional[int]:
    &#34;&#34;&#34;The size of the stream record, in bytes.&#34;&#34;&#34;
    item = self.get(&#34;SizeBytes&#34;)
    return None if item is None else int(item)</code></pre>
</details>
</dd>
<dt id="aws_lambda_powertools.utilities.data_classes.dynamo_db_stream_event.StreamRecord.stream_view_type"><code class="name">var <span class="ident">stream_view_type</span> : Optional[<a title="aws_lambda_powertools.utilities.data_classes.dynamo_db_stream_event.StreamViewType" href="#aws_lambda_powertools.utilities.data_classes.dynamo_db_stream_event.StreamViewType">StreamViewType</a>]</code></dt>
<dd>
<div class="desc"><p>The type of data from the modified DynamoDB item that was captured in this stream record</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def stream_view_type(self) -&gt; Optional[StreamViewType]:
    &#34;&#34;&#34;The type of data from the modified DynamoDB item that was captured in this stream record&#34;&#34;&#34;
    item = self.get(&#34;StreamViewType&#34;)
    return None if item is None else StreamViewType[str(item)]</code></pre>
</details>
</dd>
</dl>
<h3>Inherited members</h3>
<ul class="hlist">
<li><code><b><a title="aws_lambda_powertools.utilities.data_classes.common.DictWrapper" href="common.html#aws_lambda_powertools.utilities.data_classes.common.DictWrapper">DictWrapper</a></b></code>:
<ul class="hlist">
<li><code><a title="aws_lambda_powertools.utilities.data_classes.common.DictWrapper.get" href="common.html#aws_lambda_powertools.utilities.data_classes.common.DictWrapper.get">get</a></code></li>
<li><code><a title="aws_lambda_powertools.utilities.data_classes.common.DictWrapper.raw_event" href="common.html#aws_lambda_powertools.utilities.data_classes.common.DictWrapper.raw_event">raw_event</a></code></li>
</ul>
</li>
</ul>
</dd>
<dt id="aws_lambda_powertools.utilities.data_classes.dynamo_db_stream_event.StreamViewType"><code class="flex name class">
<span>class <span class="ident">StreamViewType</span></span>
<span>(</span><span>value, names=None, *, module=None, qualname=None, type=None, start=1)</span>
</code></dt>
<dd>
<div class="desc"><p>The type of data from the modified DynamoDB item that was captured in this stream record</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class StreamViewType(Enum):
    &#34;&#34;&#34;The type of data from the modified DynamoDB item that was captured in this stream record&#34;&#34;&#34;

    KEYS_ONLY = 0  # only the key attributes of the modified item
    NEW_IMAGE = 1  # the entire item, as it appeared after it was modified.
    OLD_IMAGE = 2  # the entire item, as it appeared before it was modified.
    NEW_AND_OLD_IMAGES = 3  # both the new and the old item images of the item.</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>enum.Enum</li>
</ul>
<h3>Class variables</h3>
<dl>
<dt id="aws_lambda_powertools.utilities.data_classes.dynamo_db_stream_event.StreamViewType.KEYS_ONLY"><code class="name">var <span class="ident">KEYS_ONLY</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="aws_lambda_powertools.utilities.data_classes.dynamo_db_stream_event.StreamViewType.NEW_AND_OLD_IMAGES"><code class="name">var <span class="ident">NEW_AND_OLD_IMAGES</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="aws_lambda_powertools.utilities.data_classes.dynamo_db_stream_event.StreamViewType.NEW_IMAGE"><code class="name">var <span class="ident">NEW_IMAGE</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="aws_lambda_powertools.utilities.data_classes.dynamo_db_stream_event.StreamViewType.OLD_IMAGE"><code class="name">var <span class="ident">OLD_IMAGE</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
</dd>
<dt id="aws_lambda_powertools.utilities.data_classes.dynamo_db_stream_event.TypeDeserializer"><code class="flex name class">
<span>class <span class="ident">TypeDeserializer</span></span>
</code></dt>
<dd>
<div class="desc"><p>Deserializes DynamoDB types to Python types.</p>
<p>It's based on boto3's <a href="https://boto3.amazonaws.com/v1/documentation/api/latest/_modules/boto3/dynamodb/types.html">DynamoDB TypeDeserializer</a>. # noqa: E501</p>
<p>The only notable difference is that for Binary (<code>B</code>, <code>BS</code>) values we return Python Bytes directly,
since we don't support Python 2.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class TypeDeserializer:
    &#34;&#34;&#34;
    Deserializes DynamoDB types to Python types.

    It&#39;s based on boto3&#39;s [DynamoDB TypeDeserializer](https://boto3.amazonaws.com/v1/documentation/api/latest/_modules/boto3/dynamodb/types.html). # noqa: E501

    The only notable difference is that for Binary (`B`, `BS`) values we return Python Bytes directly,
    since we don&#39;t support Python 2.
    &#34;&#34;&#34;

    def deserialize(self, value: Dict) -&gt; Any:
        &#34;&#34;&#34;Deserialize DynamoDB data types into Python types.

        Parameters
        ----------
        value: Any
            DynamoDB value to be deserialized to a python type


            Here are the various conversions:

            DynamoDB                                Python
            --------                                ------
            {&#39;NULL&#39;: True}                          None
            {&#39;BOOL&#39;: True/False}                    True/False
            {&#39;N&#39;: str(value)}                       str(value)
            {&#39;S&#39;: string}                           string
            {&#39;B&#39;: bytes}                            bytes
            {&#39;NS&#39;: [str(value)]}                    set([str(value)])
            {&#39;SS&#39;: [string]}                        set([string])
            {&#39;BS&#39;: [bytes]}                         set([bytes])
            {&#39;L&#39;: list}                             list
            {&#39;M&#39;: dict}                             dict

        Parameters
        ----------
        value: Any
            DynamoDB value to be deserialized to a python type

        Returns
        --------
        any
            Python native type converted from DynamoDB type
        &#34;&#34;&#34;

        dynamodb_type = list(value.keys())[0]
        deserializer: Optional[Callable] = getattr(self, f&#34;_deserialize_{dynamodb_type}&#34;.lower(), None)
        if deserializer is None:
            raise TypeError(f&#34;Dynamodb type {dynamodb_type} is not supported&#34;)

        return deserializer(value[dynamodb_type])

    def _deserialize_null(self, value: bool) -&gt; None:
        return None

    def _deserialize_bool(self, value: bool) -&gt; bool:
        return value

    def _deserialize_n(self, value: str) -&gt; Decimal:
        return DYNAMODB_CONTEXT.create_decimal(value)

    def _deserialize_s(self, value: str) -&gt; str:
        return value

    def _deserialize_b(self, value: bytes) -&gt; bytes:
        return value

    def _deserialize_ns(self, value: Sequence[str]) -&gt; Set[Decimal]:
        return set(map(self._deserialize_n, value))

    def _deserialize_ss(self, value: Sequence[str]) -&gt; Set[str]:
        return set(map(self._deserialize_s, value))

    def _deserialize_bs(self, value: Sequence[bytes]) -&gt; Set[bytes]:
        return set(map(self._deserialize_b, value))

    def _deserialize_l(self, value: Sequence[Dict]) -&gt; Sequence[Any]:
        return [self.deserialize(v) for v in value]

    def _deserialize_m(self, value: Dict) -&gt; Dict:
        return {k: self.deserialize(v) for k, v in value.items()}</code></pre>
</details>
<h3>Methods</h3>
<dl>
<dt id="aws_lambda_powertools.utilities.data_classes.dynamo_db_stream_event.TypeDeserializer.deserialize"><code class="name flex">
<span>def <span class="ident">deserialize</span></span>(<span>self, value: Dict) ‑> Any</span>
</code></dt>
<dd>
<div class="desc"><p>Deserialize DynamoDB data types into Python types.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>value</code></strong> :&ensp;<code>Any</code></dt>
<dd>
<p>DynamoDB value to be deserialized to a python type</p>
<p>Here are the various conversions:</p>
<p>DynamoDB
Python
--------
------
{'NULL': True}
None
{'BOOL': True/False}
True/False
{'N': str(value)}
str(value)
{'S': string}
string
{'B': bytes}
bytes
{'NS': [str(value)]}
set([str(value)])
{'SS': [string]}
set([string])
{'BS': [bytes]}
set([bytes])
{'L': list}
list
{'M': dict}
dict</p>
</dd>
</dl>
<h2 id="parameters_1">Parameters</h2>
<dl>
<dt><strong><code>value</code></strong> :&ensp;<code>Any</code></dt>
<dd>DynamoDB value to be deserialized to a python type</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>any</code></dt>
<dd>Python native type converted from DynamoDB type</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def deserialize(self, value: Dict) -&gt; Any:
    &#34;&#34;&#34;Deserialize DynamoDB data types into Python types.

    Parameters
    ----------
    value: Any
        DynamoDB value to be deserialized to a python type


        Here are the various conversions:

        DynamoDB                                Python
        --------                                ------
        {&#39;NULL&#39;: True}                          None
        {&#39;BOOL&#39;: True/False}                    True/False
        {&#39;N&#39;: str(value)}                       str(value)
        {&#39;S&#39;: string}                           string
        {&#39;B&#39;: bytes}                            bytes
        {&#39;NS&#39;: [str(value)]}                    set([str(value)])
        {&#39;SS&#39;: [string]}                        set([string])
        {&#39;BS&#39;: [bytes]}                         set([bytes])
        {&#39;L&#39;: list}                             list
        {&#39;M&#39;: dict}                             dict

    Parameters
    ----------
    value: Any
        DynamoDB value to be deserialized to a python type

    Returns
    --------
    any
        Python native type converted from DynamoDB type
    &#34;&#34;&#34;

    dynamodb_type = list(value.keys())[0]
    deserializer: Optional[Callable] = getattr(self, f&#34;_deserialize_{dynamodb_type}&#34;.lower(), None)
    if deserializer is None:
        raise TypeError(f&#34;Dynamodb type {dynamodb_type} is not supported&#34;)

    return deserializer(value[dynamodb_type])</code></pre>
</details>
</dd>
</dl>
</dd>
</dl>
</section>
</article>
<nav id="sidebar">
<h1>Index</h1>
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="aws_lambda_powertools.utilities.data_classes" href="index.html">aws_lambda_powertools.utilities.data_classes</a></code></li>
</ul>
</li>
<li><h3><a href="#header-classes">Classes</a></h3>
<ul>
<li>
<h4><code><a title="aws_lambda_powertools.utilities.data_classes.dynamo_db_stream_event.DynamoDBRecord" href="#aws_lambda_powertools.utilities.data_classes.dynamo_db_stream_event.DynamoDBRecord">DynamoDBRecord</a></code></h4>
<ul class="two-column">
<li><code><a title="aws_lambda_powertools.utilities.data_classes.dynamo_db_stream_event.DynamoDBRecord.aws_region" href="#aws_lambda_powertools.utilities.data_classes.dynamo_db_stream_event.DynamoDBRecord.aws_region">aws_region</a></code></li>
<li><code><a title="aws_lambda_powertools.utilities.data_classes.dynamo_db_stream_event.DynamoDBRecord.dynamodb" href="#aws_lambda_powertools.utilities.data_classes.dynamo_db_stream_event.DynamoDBRecord.dynamodb">dynamodb</a></code></li>
<li><code><a title="aws_lambda_powertools.utilities.data_classes.dynamo_db_stream_event.DynamoDBRecord.event_id" href="#aws_lambda_powertools.utilities.data_classes.dynamo_db_stream_event.DynamoDBRecord.event_id">event_id</a></code></li>
<li><code><a title="aws_lambda_powertools.utilities.data_classes.dynamo_db_stream_event.DynamoDBRecord.event_name" href="#aws_lambda_powertools.utilities.data_classes.dynamo_db_stream_event.DynamoDBRecord.event_name">event_name</a></code></li>
<li><code><a title="aws_lambda_powertools.utilities.data_classes.dynamo_db_stream_event.DynamoDBRecord.event_source" href="#aws_lambda_powertools.utilities.data_classes.dynamo_db_stream_event.DynamoDBRecord.event_source">event_source</a></code></li>
<li><code><a title="aws_lambda_powertools.utilities.data_classes.dynamo_db_stream_event.DynamoDBRecord.event_source_arn" href="#aws_lambda_powertools.utilities.data_classes.dynamo_db_stream_event.DynamoDBRecord.event_source_arn">event_source_arn</a></code></li>
<li><code><a title="aws_lambda_powertools.utilities.data_classes.dynamo_db_stream_event.DynamoDBRecord.event_version" href="#aws_lambda_powertools.utilities.data_classes.dynamo_db_stream_event.DynamoDBRecord.event_version">event_version</a></code></li>
<li><code><a title="aws_lambda_powertools.utilities.data_classes.dynamo_db_stream_event.DynamoDBRecord.user_identity" href="#aws_lambda_powertools.utilities.data_classes.dynamo_db_stream_event.DynamoDBRecord.user_identity">user_identity</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="aws_lambda_powertools.utilities.data_classes.dynamo_db_stream_event.DynamoDBRecordEventName" href="#aws_lambda_powertools.utilities.data_classes.dynamo_db_stream_event.DynamoDBRecordEventName">DynamoDBRecordEventName</a></code></h4>
<ul class="">
<li><code><a title="aws_lambda_powertools.utilities.data_classes.dynamo_db_stream_event.DynamoDBRecordEventName.INSERT" href="#aws_lambda_powertools.utilities.data_classes.dynamo_db_stream_event.DynamoDBRecordEventName.INSERT">INSERT</a></code></li>
<li><code><a title="aws_lambda_powertools.utilities.data_classes.dynamo_db_stream_event.DynamoDBRecordEventName.MODIFY" href="#aws_lambda_powertools.utilities.data_classes.dynamo_db_stream_event.DynamoDBRecordEventName.MODIFY">MODIFY</a></code></li>
<li><code><a title="aws_lambda_powertools.utilities.data_classes.dynamo_db_stream_event.DynamoDBRecordEventName.REMOVE" href="#aws_lambda_powertools.utilities.data_classes.dynamo_db_stream_event.DynamoDBRecordEventName.REMOVE">REMOVE</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="aws_lambda_powertools.utilities.data_classes.dynamo_db_stream_event.DynamoDBStreamEvent" href="#aws_lambda_powertools.utilities.data_classes.dynamo_db_stream_event.DynamoDBStreamEvent">DynamoDBStreamEvent</a></code></h4>
<ul class="">
<li><code><a title="aws_lambda_powertools.utilities.data_classes.dynamo_db_stream_event.DynamoDBStreamEvent.records" href="#aws_lambda_powertools.utilities.data_classes.dynamo_db_stream_event.DynamoDBStreamEvent.records">records</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="aws_lambda_powertools.utilities.data_classes.dynamo_db_stream_event.StreamRecord" href="#aws_lambda_powertools.utilities.data_classes.dynamo_db_stream_event.StreamRecord">StreamRecord</a></code></h4>
<ul class="">
<li><code><a title="aws_lambda_powertools.utilities.data_classes.dynamo_db_stream_event.StreamRecord.approximate_creation_date_time" href="#aws_lambda_powertools.utilities.data_classes.dynamo_db_stream_event.StreamRecord.approximate_creation_date_time">approximate_creation_date_time</a></code></li>
<li><code><a title="aws_lambda_powertools.utilities.data_classes.dynamo_db_stream_event.StreamRecord.keys" href="#aws_lambda_powertools.utilities.data_classes.dynamo_db_stream_event.StreamRecord.keys">keys</a></code></li>
<li><code><a title="aws_lambda_powertools.utilities.data_classes.dynamo_db_stream_event.StreamRecord.new_image" href="#aws_lambda_powertools.utilities.data_classes.dynamo_db_stream_event.StreamRecord.new_image">new_image</a></code></li>
<li><code><a title="aws_lambda_powertools.utilities.data_classes.dynamo_db_stream_event.StreamRecord.old_image" href="#aws_lambda_powertools.utilities.data_classes.dynamo_db_stream_event.StreamRecord.old_image">old_image</a></code></li>
<li><code><a title="aws_lambda_powertools.utilities.data_classes.dynamo_db_stream_event.StreamRecord.sequence_number" href="#aws_lambda_powertools.utilities.data_classes.dynamo_db_stream_event.StreamRecord.sequence_number">sequence_number</a></code></li>
<li><code><a title="aws_lambda_powertools.utilities.data_classes.dynamo_db_stream_event.StreamRecord.size_bytes" href="#aws_lambda_powertools.utilities.data_classes.dynamo_db_stream_event.StreamRecord.size_bytes">size_bytes</a></code></li>
<li><code><a title="aws_lambda_powertools.utilities.data_classes.dynamo_db_stream_event.StreamRecord.stream_view_type" href="#aws_lambda_powertools.utilities.data_classes.dynamo_db_stream_event.StreamRecord.stream_view_type">stream_view_type</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="aws_lambda_powertools.utilities.data_classes.dynamo_db_stream_event.StreamViewType" href="#aws_lambda_powertools.utilities.data_classes.dynamo_db_stream_event.StreamViewType">StreamViewType</a></code></h4>
<ul class="">
<li><code><a title="aws_lambda_powertools.utilities.data_classes.dynamo_db_stream_event.StreamViewType.KEYS_ONLY" href="#aws_lambda_powertools.utilities.data_classes.dynamo_db_stream_event.StreamViewType.KEYS_ONLY">KEYS_ONLY</a></code></li>
<li><code><a title="aws_lambda_powertools.utilities.data_classes.dynamo_db_stream_event.StreamViewType.NEW_AND_OLD_IMAGES" href="#aws_lambda_powertools.utilities.data_classes.dynamo_db_stream_event.StreamViewType.NEW_AND_OLD_IMAGES">NEW_AND_OLD_IMAGES</a></code></li>
<li><code><a title="aws_lambda_powertools.utilities.data_classes.dynamo_db_stream_event.StreamViewType.NEW_IMAGE" href="#aws_lambda_powertools.utilities.data_classes.dynamo_db_stream_event.StreamViewType.NEW_IMAGE">NEW_IMAGE</a></code></li>
<li><code><a title="aws_lambda_powertools.utilities.data_classes.dynamo_db_stream_event.StreamViewType.OLD_IMAGE" href="#aws_lambda_powertools.utilities.data_classes.dynamo_db_stream_event.StreamViewType.OLD_IMAGE">OLD_IMAGE</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="aws_lambda_powertools.utilities.data_classes.dynamo_db_stream_event.TypeDeserializer" href="#aws_lambda_powertools.utilities.data_classes.dynamo_db_stream_event.TypeDeserializer">TypeDeserializer</a></code></h4>
<ul class="">
<li><code><a title="aws_lambda_powertools.utilities.data_classes.dynamo_db_stream_event.TypeDeserializer.deserialize" href="#aws_lambda_powertools.utilities.data_classes.dynamo_db_stream_event.TypeDeserializer.deserialize">deserialize</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc" title="pdoc: Python API documentation generator"><cite>pdoc</cite> 0.10.0</a>.</p>
</footer>
</body>
</html>