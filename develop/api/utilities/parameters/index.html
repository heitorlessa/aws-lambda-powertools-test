<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.10.0" />
<title>aws_lambda_powertools.utilities.parameters API documentation</title>
<meta name="description" content="Parameter retrieval and caching utility" />
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/sanitize.min.css" integrity="sha256-PK9q560IAAa6WVRRh76LtCaI8pjTJ2z11v0miyNNjrs=" crossorigin>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/typography.min.css" integrity="sha256-7l/o7C8jubJiy74VsKTidCy1yBkRtiUGbVkYBylBqUg=" crossorigin>
<link rel="stylesheet preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/github.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js" integrity="sha256-Uv3H6lx7dJmRfRvH8TH6kJD1TSK1aFcwgx+mdg3epi8=" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => hljs.initHighlighting())</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>aws_lambda_powertools.utilities.parameters</code></h1>
</header>
<section id="section-intro">
<p>Parameter retrieval and caching utility</p>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python"># -*- coding: utf-8 -*-

&#34;&#34;&#34;
Parameter retrieval and caching utility
&#34;&#34;&#34;

from .appconfig import AppConfigProvider, get_app_config
from .base import BaseProvider, clear_caches
from .dynamodb import DynamoDBProvider
from .exceptions import GetParameterError, TransformParameterError
from .secrets import SecretsProvider, get_secret
from .ssm import SSMProvider, get_parameter, get_parameters, get_parameters_by_name

__all__ = [
    &#34;AppConfigProvider&#34;,
    &#34;BaseProvider&#34;,
    &#34;GetParameterError&#34;,
    &#34;DynamoDBProvider&#34;,
    &#34;SecretsProvider&#34;,
    &#34;SSMProvider&#34;,
    &#34;TransformParameterError&#34;,
    &#34;get_app_config&#34;,
    &#34;get_parameter&#34;,
    &#34;get_parameters&#34;,
    &#34;get_parameters_by_name&#34;,
    &#34;get_secret&#34;,
    &#34;clear_caches&#34;,
]</code></pre>
</details>
</section>
<section>
<h2 class="section-title" id="header-submodules">Sub-modules</h2>
<dl>
<dt><code class="name"><a title="aws_lambda_powertools.utilities.parameters.appconfig" href="appconfig.html">aws_lambda_powertools.utilities.parameters.appconfig</a></code></dt>
<dd>
<div class="desc"><p>AWS App Config configuration retrieval and caching utility</p></div>
</dd>
<dt><code class="name"><a title="aws_lambda_powertools.utilities.parameters.base" href="base.html">aws_lambda_powertools.utilities.parameters.base</a></code></dt>
<dd>
<div class="desc"><p>Base for Parameter providers</p></div>
</dd>
<dt><code class="name"><a title="aws_lambda_powertools.utilities.parameters.dynamodb" href="dynamodb.html">aws_lambda_powertools.utilities.parameters.dynamodb</a></code></dt>
<dd>
<div class="desc"><p>Amazon DynamoDB parameter retrieval and caching utility</p></div>
</dd>
<dt><code class="name"><a title="aws_lambda_powertools.utilities.parameters.exceptions" href="exceptions.html">aws_lambda_powertools.utilities.parameters.exceptions</a></code></dt>
<dd>
<div class="desc"><p>Parameter retrieval exceptions</p></div>
</dd>
<dt><code class="name"><a title="aws_lambda_powertools.utilities.parameters.secrets" href="secrets.html">aws_lambda_powertools.utilities.parameters.secrets</a></code></dt>
<dd>
<div class="desc"><p>AWS Secrets Manager parameter retrieval and caching utility</p></div>
</dd>
<dt><code class="name"><a title="aws_lambda_powertools.utilities.parameters.ssm" href="ssm.html">aws_lambda_powertools.utilities.parameters.ssm</a></code></dt>
<dd>
<div class="desc"><p>AWS SSM Parameter retrieval and caching utility</p></div>
</dd>
<dt><code class="name"><a title="aws_lambda_powertools.utilities.parameters.types" href="types.html">aws_lambda_powertools.utilities.parameters.types</a></code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-functions">Functions</h2>
<dl>
<dt id="aws_lambda_powertools.utilities.parameters.clear_caches"><code class="name flex">
<span>def <span class="ident">clear_caches</span></span>(<span>)</span>
</code></dt>
<dd>
<div class="desc"><p>Clear cached parameter values from all providers</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def clear_caches():
    &#34;&#34;&#34;Clear cached parameter values from all providers&#34;&#34;&#34;
    DEFAULT_PROVIDERS.clear()</code></pre>
</details>
</dd>
<dt id="aws_lambda_powertools.utilities.parameters.get_app_config"><code class="name flex">
<span>def <span class="ident">get_app_config</span></span>(<span>name: str, environment: str, application: Optional[str] = None, transform: Literal['json', 'binary', 'auto', None] = None, force_fetch: bool = False, max_age: Optional[int] = None, **sdk_options) ‑> Union[str, list, dict, bytes]</span>
</code></dt>
<dd>
<div class="desc"><p>Retrieve a configuration value from AWS App Config.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>name</code></strong> :&ensp;<code>str</code></dt>
<dd>Name of the configuration</dd>
<dt><strong><code>environment</code></strong> :&ensp;<code>str</code></dt>
<dd>Environment of the configuration</dd>
<dt><strong><code>application</code></strong> :&ensp;<code>str</code></dt>
<dd>Application of the configuration</dd>
<dt><strong><code>transform</code></strong> :&ensp;<code>str</code>, optional</dt>
<dd>Transforms the content from a JSON object ('json') or base64 binary string ('binary')</dd>
<dt><strong><code>force_fetch</code></strong> :&ensp;<code>bool</code>, optional</dt>
<dd>Force update even before a cached item has expired, defaults to False</dd>
<dt><strong><code>max_age</code></strong> :&ensp;<code>int</code>, optional</dt>
<dd>Maximum age of the cached value</dd>
<dt><strong><code>sdk_options</code></strong> :&ensp;<code>dict</code>, optional</dt>
<dd>SDK options to propagate to <code>start_configuration_session</code> API call</dd>
</dl>
<h2 id="raises">Raises</h2>
<dl>
<dt><code><a title="aws_lambda_powertools.utilities.parameters.GetParameterError" href="#aws_lambda_powertools.utilities.parameters.GetParameterError">GetParameterError</a></code></dt>
<dd>When the parameter provider fails to retrieve a parameter value for
a given name.</dd>
<dt><code><a title="aws_lambda_powertools.utilities.parameters.TransformParameterError" href="#aws_lambda_powertools.utilities.parameters.TransformParameterError">TransformParameterError</a></code></dt>
<dd>When the parameter provider fails to transform a parameter value.</dd>
</dl>
<h2 id="example">Example</h2>
<p><strong>Retrieves the latest version of configuration value from App Config</strong></p>
<pre><code>&gt;&gt;&gt; from aws_lambda_powertools.utilities.parameters import get_app_config
&gt;&gt;&gt;
&gt;&gt;&gt; value = get_app_config("my_config", environment="my_env", application="my_env")
&gt;&gt;&gt;
&gt;&gt;&gt; print(value)
My configuration value
</code></pre>
<p><strong>Retrieves a configuration value and decodes it using a JSON decoder</strong></p>
<pre><code>&gt;&gt;&gt; from aws_lambda_powertools.utilities.parameters import get_app_config
&gt;&gt;&gt;
&gt;&gt;&gt; value = get_app_config("my_config", environment="my_env", application="my_env", transform='json')
&gt;&gt;&gt;
&gt;&gt;&gt; print(value)
My configuration's JSON value
</code></pre></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def get_app_config(
    name: str,
    environment: str,
    application: Optional[str] = None,
    transform: TransformOptions = None,
    force_fetch: bool = False,
    max_age: Optional[int] = None,
    **sdk_options
) -&gt; Union[str, list, dict, bytes]:
    &#34;&#34;&#34;
    Retrieve a configuration value from AWS App Config.

    Parameters
    ----------
    name: str
        Name of the configuration
    environment: str
        Environment of the configuration
    application: str
        Application of the configuration
    transform: str, optional
        Transforms the content from a JSON object (&#39;json&#39;) or base64 binary string (&#39;binary&#39;)
    force_fetch: bool, optional
        Force update even before a cached item has expired, defaults to False
    max_age: int, optional
        Maximum age of the cached value
    sdk_options: dict, optional
        SDK options to propagate to `start_configuration_session` API call

    Raises
    ------
    GetParameterError
        When the parameter provider fails to retrieve a parameter value for
        a given name.
    TransformParameterError
        When the parameter provider fails to transform a parameter value.

    Example
    -------
    **Retrieves the latest version of configuration value from App Config**

        &gt;&gt;&gt; from aws_lambda_powertools.utilities.parameters import get_app_config
        &gt;&gt;&gt;
        &gt;&gt;&gt; value = get_app_config(&#34;my_config&#34;, environment=&#34;my_env&#34;, application=&#34;my_env&#34;)
        &gt;&gt;&gt;
        &gt;&gt;&gt; print(value)
        My configuration value

    **Retrieves a configuration value and decodes it using a JSON decoder**

        &gt;&gt;&gt; from aws_lambda_powertools.utilities.parameters import get_app_config
        &gt;&gt;&gt;
        &gt;&gt;&gt; value = get_app_config(&#34;my_config&#34;, environment=&#34;my_env&#34;, application=&#34;my_env&#34;, transform=&#39;json&#39;)
        &gt;&gt;&gt;
        &gt;&gt;&gt; print(value)
        My configuration&#39;s JSON value
    &#34;&#34;&#34;
    # If max_age is not set, resolve it from the environment variable, defaulting to DEFAULT_MAX_AGE_SECS
    max_age = resolve_max_age(env=os.getenv(constants.PARAMETERS_MAX_AGE_ENV, DEFAULT_MAX_AGE_SECS), choice=max_age)

    # Only create the provider if this function is called at least once
    if &#34;appconfig&#34; not in DEFAULT_PROVIDERS:
        DEFAULT_PROVIDERS[&#34;appconfig&#34;] = AppConfigProvider(environment=environment, application=application)

    return DEFAULT_PROVIDERS[&#34;appconfig&#34;].get(
        name, max_age=max_age, transform=transform, force_fetch=force_fetch, **sdk_options
    )</code></pre>
</details>
</dd>
<dt id="aws_lambda_powertools.utilities.parameters.get_parameter"><code class="name flex">
<span>def <span class="ident">get_parameter</span></span>(<span>name: str, transform: Optional[str] = None, decrypt: Optional[bool] = None, force_fetch: bool = False, max_age: Optional[int] = None, **sdk_options) ‑> Union[str, dict, bytes]</span>
</code></dt>
<dd>
<div class="desc"><p>Retrieve a parameter value from AWS Systems Manager (SSM) Parameter Store</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>name</code></strong> :&ensp;<code>str</code></dt>
<dd>Name of the parameter</dd>
<dt><strong><code>transform</code></strong> :&ensp;<code>str</code>, optional</dt>
<dd>Transforms the content from a JSON object ('json') or base64 binary string ('binary')</dd>
<dt><strong><code>decrypt</code></strong> :&ensp;<code>bool</code>, optional</dt>
<dd>If the parameter values should be decrypted</dd>
<dt><strong><code>force_fetch</code></strong> :&ensp;<code>bool</code>, optional</dt>
<dd>Force update even before a cached item has expired, defaults to False</dd>
<dt><strong><code>max_age</code></strong> :&ensp;<code>int</code>, optional</dt>
<dd>Maximum age of the cached value</dd>
<dt><strong><code>sdk_options</code></strong> :&ensp;<code>dict</code>, optional</dt>
<dd>Dictionary of options that will be passed to the Parameter Store get_parameter API call</dd>
</dl>
<h2 id="raises">Raises</h2>
<dl>
<dt><code><a title="aws_lambda_powertools.utilities.parameters.GetParameterError" href="#aws_lambda_powertools.utilities.parameters.GetParameterError">GetParameterError</a></code></dt>
<dd>When the parameter provider fails to retrieve a parameter value for
a given name.</dd>
<dt><code><a title="aws_lambda_powertools.utilities.parameters.TransformParameterError" href="#aws_lambda_powertools.utilities.parameters.TransformParameterError">TransformParameterError</a></code></dt>
<dd>When the parameter provider fails to transform a parameter value.</dd>
</dl>
<h2 id="example">Example</h2>
<p><strong>Retrieves a parameter value from Systems Manager Parameter Store</strong></p>
<pre><code>&gt;&gt;&gt; from aws_lambda_powertools.utilities.parameters import get_parameter
&gt;&gt;&gt;
&gt;&gt;&gt; value = get_parameter("/my/parameter")
&gt;&gt;&gt;
&gt;&gt;&gt; print(value)
My parameter value
</code></pre>
<p><strong>Retrieves a parameter value and decodes it using a Base64 decoder</strong></p>
<pre><code>&gt;&gt;&gt; from aws_lambda_powertools.utilities.parameters import get_parameter
&gt;&gt;&gt;
&gt;&gt;&gt; value = get_parameter("/my/parameter", transform='binary')
&gt;&gt;&gt;
&gt;&gt;&gt; print(value)
My parameter value
</code></pre></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def get_parameter(
    name: str,
    transform: Optional[str] = None,
    decrypt: Optional[bool] = None,
    force_fetch: bool = False,
    max_age: Optional[int] = None,
    **sdk_options,
) -&gt; Union[str, dict, bytes]:
    &#34;&#34;&#34;
    Retrieve a parameter value from AWS Systems Manager (SSM) Parameter Store

    Parameters
    ----------
    name: str
        Name of the parameter
    transform: str, optional
        Transforms the content from a JSON object (&#39;json&#39;) or base64 binary string (&#39;binary&#39;)
    decrypt: bool, optional
        If the parameter values should be decrypted
    force_fetch: bool, optional
        Force update even before a cached item has expired, defaults to False
    max_age: int, optional
        Maximum age of the cached value
    sdk_options: dict, optional
        Dictionary of options that will be passed to the Parameter Store get_parameter API call

    Raises
    ------
    GetParameterError
        When the parameter provider fails to retrieve a parameter value for
        a given name.
    TransformParameterError
        When the parameter provider fails to transform a parameter value.

    Example
    -------
    **Retrieves a parameter value from Systems Manager Parameter Store**

        &gt;&gt;&gt; from aws_lambda_powertools.utilities.parameters import get_parameter
        &gt;&gt;&gt;
        &gt;&gt;&gt; value = get_parameter(&#34;/my/parameter&#34;)
        &gt;&gt;&gt;
        &gt;&gt;&gt; print(value)
        My parameter value

    **Retrieves a parameter value and decodes it using a Base64 decoder**

        &gt;&gt;&gt; from aws_lambda_powertools.utilities.parameters import get_parameter
        &gt;&gt;&gt;
        &gt;&gt;&gt; value = get_parameter(&#34;/my/parameter&#34;, transform=&#39;binary&#39;)
        &gt;&gt;&gt;
        &gt;&gt;&gt; print(value)
        My parameter value
    &#34;&#34;&#34;

    # Only create the provider if this function is called at least once
    if &#34;ssm&#34; not in DEFAULT_PROVIDERS:
        DEFAULT_PROVIDERS[&#34;ssm&#34;] = SSMProvider()

    # If max_age is not set, resolve it from the environment variable, defaulting to DEFAULT_MAX_AGE_SECS
    max_age = resolve_max_age(env=os.getenv(constants.PARAMETERS_MAX_AGE_ENV, DEFAULT_MAX_AGE_SECS), choice=max_age)

    # If decrypt is not set, resolve it from the environment variable, defaulting to False
    decrypt = resolve_truthy_env_var_choice(
        env=os.getenv(constants.PARAMETERS_SSM_DECRYPT_ENV, &#34;false&#34;), choice=decrypt
    )

    # Add to `decrypt` sdk_options to we can have an explicit option for this
    sdk_options[&#34;decrypt&#34;] = decrypt

    return DEFAULT_PROVIDERS[&#34;ssm&#34;].get(
        name, max_age=max_age, transform=transform, force_fetch=force_fetch, **sdk_options
    )</code></pre>
</details>
</dd>
<dt id="aws_lambda_powertools.utilities.parameters.get_parameters"><code class="name flex">
<span>def <span class="ident">get_parameters</span></span>(<span>path: str, transform: Optional[str] = None, recursive: bool = True, decrypt: Optional[bool] = None, force_fetch: bool = False, max_age: Optional[int] = None, raise_on_transform_error: bool = False, **sdk_options) ‑> Union[Dict[str, str], Dict[str, dict], Dict[str, bytes]]</span>
</code></dt>
<dd>
<div class="desc"><p>Retrieve multiple parameter values from AWS Systems Manager (SSM) Parameter Store</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>path</code></strong> :&ensp;<code>str</code></dt>
<dd>Path to retrieve the parameters</dd>
<dt><strong><code>transform</code></strong> :&ensp;<code>str</code>, optional</dt>
<dd>Transforms the content from a JSON object ('json') or base64 binary string ('binary')</dd>
<dt><strong><code>recursive</code></strong> :&ensp;<code>bool</code>, optional</dt>
<dd>If this should retrieve the parameter values recursively or not, defaults to True</dd>
<dt><strong><code>decrypt</code></strong> :&ensp;<code>bool</code>, optional</dt>
<dd>If the parameter values should be decrypted</dd>
<dt><strong><code>force_fetch</code></strong> :&ensp;<code>bool</code>, optional</dt>
<dd>Force update even before a cached item has expired, defaults to False</dd>
<dt><strong><code>max_age</code></strong> :&ensp;<code>int</code>, optional</dt>
<dd>Maximum age of the cached value</dd>
<dt><strong><code>raise_on_transform_error</code></strong> :&ensp;<code>bool</code>, optional</dt>
<dd>Raises an exception if any transform fails, otherwise this will
return a None value for each transform that failed</dd>
<dt><strong><code>sdk_options</code></strong> :&ensp;<code>dict</code>, optional</dt>
<dd>Dictionary of options that will be passed to the Parameter Store get_parameters_by_path API call</dd>
</dl>
<h2 id="raises">Raises</h2>
<dl>
<dt><code><a title="aws_lambda_powertools.utilities.parameters.GetParameterError" href="#aws_lambda_powertools.utilities.parameters.GetParameterError">GetParameterError</a></code></dt>
<dd>When the parameter provider fails to retrieve parameter values for
a given path.</dd>
<dt><code><a title="aws_lambda_powertools.utilities.parameters.TransformParameterError" href="#aws_lambda_powertools.utilities.parameters.TransformParameterError">TransformParameterError</a></code></dt>
<dd>When the parameter provider fails to transform a parameter value.</dd>
</dl>
<h2 id="example">Example</h2>
<p><strong>Retrieves parameter values from Systems Manager Parameter Store</strong></p>
<pre><code>&gt;&gt;&gt; from aws_lambda_powertools.utilities.parameters import get_parameter
&gt;&gt;&gt;
&gt;&gt;&gt; values = get_parameters("/my/path/prefix")
&gt;&gt;&gt;
&gt;&gt;&gt; for key, value in values.items():
...     print(key, value)
/my/path/prefix/a   Parameter value a
/my/path/prefix/b   Parameter value b
/my/path/prefix/c   Parameter value c
</code></pre>
<p><strong>Retrieves parameter values and decodes them using a Base64 decoder</strong></p>
<pre><code>&gt;&gt;&gt; from aws_lambda_powertools.utilities.parameters import get_parameter
&gt;&gt;&gt;
&gt;&gt;&gt; values = get_parameters("/my/path/prefix", transform='binary')
</code></pre></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def get_parameters(
    path: str,
    transform: Optional[str] = None,
    recursive: bool = True,
    decrypt: Optional[bool] = None,
    force_fetch: bool = False,
    max_age: Optional[int] = None,
    raise_on_transform_error: bool = False,
    **sdk_options,
) -&gt; Union[Dict[str, str], Dict[str, dict], Dict[str, bytes]]:
    &#34;&#34;&#34;
    Retrieve multiple parameter values from AWS Systems Manager (SSM) Parameter Store

    Parameters
    ----------
    path: str
        Path to retrieve the parameters
    transform: str, optional
        Transforms the content from a JSON object (&#39;json&#39;) or base64 binary string (&#39;binary&#39;)
    recursive: bool, optional
        If this should retrieve the parameter values recursively or not, defaults to True
    decrypt: bool, optional
        If the parameter values should be decrypted
    force_fetch: bool, optional
        Force update even before a cached item has expired, defaults to False
    max_age: int, optional
        Maximum age of the cached value
    raise_on_transform_error: bool, optional
        Raises an exception if any transform fails, otherwise this will
        return a None value for each transform that failed
    sdk_options: dict, optional
        Dictionary of options that will be passed to the Parameter Store get_parameters_by_path API call

    Raises
    ------
    GetParameterError
        When the parameter provider fails to retrieve parameter values for
        a given path.
    TransformParameterError
        When the parameter provider fails to transform a parameter value.

    Example
    -------
    **Retrieves parameter values from Systems Manager Parameter Store**

        &gt;&gt;&gt; from aws_lambda_powertools.utilities.parameters import get_parameter
        &gt;&gt;&gt;
        &gt;&gt;&gt; values = get_parameters(&#34;/my/path/prefix&#34;)
        &gt;&gt;&gt;
        &gt;&gt;&gt; for key, value in values.items():
        ...     print(key, value)
        /my/path/prefix/a   Parameter value a
        /my/path/prefix/b   Parameter value b
        /my/path/prefix/c   Parameter value c

    **Retrieves parameter values and decodes them using a Base64 decoder**

        &gt;&gt;&gt; from aws_lambda_powertools.utilities.parameters import get_parameter
        &gt;&gt;&gt;
        &gt;&gt;&gt; values = get_parameters(&#34;/my/path/prefix&#34;, transform=&#39;binary&#39;)
    &#34;&#34;&#34;

    # Only create the provider if this function is called at least once
    if &#34;ssm&#34; not in DEFAULT_PROVIDERS:
        DEFAULT_PROVIDERS[&#34;ssm&#34;] = SSMProvider()

    # If max_age is not set, resolve it from the environment variable, defaulting to DEFAULT_MAX_AGE_SECS
    max_age = resolve_max_age(env=os.getenv(constants.PARAMETERS_MAX_AGE_ENV, DEFAULT_MAX_AGE_SECS), choice=max_age)

    # If decrypt is not set, resolve it from the environment variable, defaulting to False
    decrypt = resolve_truthy_env_var_choice(
        env=os.getenv(constants.PARAMETERS_SSM_DECRYPT_ENV, &#34;false&#34;), choice=decrypt
    )

    sdk_options[&#34;recursive&#34;] = recursive
    sdk_options[&#34;decrypt&#34;] = decrypt

    return DEFAULT_PROVIDERS[&#34;ssm&#34;].get_multiple(
        path,
        max_age=max_age,
        transform=transform,
        raise_on_transform_error=raise_on_transform_error,
        force_fetch=force_fetch,
        **sdk_options,
    )</code></pre>
</details>
</dd>
<dt id="aws_lambda_powertools.utilities.parameters.get_parameters_by_name"><code class="name flex">
<span>def <span class="ident">get_parameters_by_name</span></span>(<span>parameters: Dict[str, Any], transform: TransformOptions = None, decrypt: Optional[bool] = None, max_age: Optional[int] = None, raise_on_error: bool = True) ‑> Union[Dict[str, str], Dict[str, dict], Dict[str, bytes]]</span>
</code></dt>
<dd>
<div class="desc"><p>Retrieve multiple parameter values by name from AWS Systems Manager (SSM) Parameter Store</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>parameters</code></strong> :&ensp;<code>List[Dict[str, Dict]]</code></dt>
<dd>List of parameter names, and any optional overrides</dd>
<dt><strong><code>transform</code></strong> :&ensp;<code>str</code>, optional</dt>
<dd>Transforms the content from a JSON object ('json') or base64 binary string ('binary')</dd>
<dt><strong><code>decrypt</code></strong> :&ensp;<code>bool</code>, optional</dt>
<dd>If the parameter values should be decrypted</dd>
<dt><strong><code>max_age</code></strong> :&ensp;<code>int</code>, optional</dt>
<dd>Maximum age of the cached value</dd>
<dt><strong><code>raise_on_error</code></strong> :&ensp;<code>bool</code>, optional</dt>
<dd>Whether to fail-fast or fail gracefully by including "_errors" key in the response, by default True</dd>
</dl>
<h2 id="example">Example</h2>
<p><strong>Retrieves multiple parameters from distinct paths from Systems Manager Parameter Store</strong></p>
<pre><code>from aws_lambda_powertools.utilities.parameters import get_parameters_by_name

params = {
    "/param": {},
    "/json": {"transform": "json"},
    "/binary": {"transform": "binary"},
    "/no_cache": {"max_age": 0},
    "/api_key": {"decrypt": True},
}

values = get_parameters_by_name(parameters=params)
for param_name, value in values.items():
    print(f"{param_name}: {value}")

# "/param": value
# "/json": value
# "/binary": value
# "/no_cache": value
# "/api_key": value
</code></pre>
<h2 id="raises">Raises</h2>
<dl>
<dt><code><a title="aws_lambda_powertools.utilities.parameters.GetParameterError" href="#aws_lambda_powertools.utilities.parameters.GetParameterError">GetParameterError</a></code></dt>
<dd>When the parameter provider fails to retrieve a parameter value for
a given name.</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def get_parameters_by_name(
    parameters: Dict[str, Any],
    transform: TransformOptions = None,
    decrypt: Optional[bool] = None,
    max_age: Optional[int] = None,
    raise_on_error: bool = True,
) -&gt; Union[Dict[str, str], Dict[str, bytes], Dict[str, dict]]:
    &#34;&#34;&#34;
    Retrieve multiple parameter values by name from AWS Systems Manager (SSM) Parameter Store

    Parameters
    ----------
    parameters: List[Dict[str, Dict]]
        List of parameter names, and any optional overrides
    transform: str, optional
        Transforms the content from a JSON object (&#39;json&#39;) or base64 binary string (&#39;binary&#39;)
    decrypt: bool, optional
        If the parameter values should be decrypted
    max_age: int, optional
        Maximum age of the cached value
    raise_on_error: bool, optional
        Whether to fail-fast or fail gracefully by including &#34;_errors&#34; key in the response, by default True

    Example
    -------

    **Retrieves multiple parameters from distinct paths from Systems Manager Parameter Store**

        from aws_lambda_powertools.utilities.parameters import get_parameters_by_name

        params = {
            &#34;/param&#34;: {},
            &#34;/json&#34;: {&#34;transform&#34;: &#34;json&#34;},
            &#34;/binary&#34;: {&#34;transform&#34;: &#34;binary&#34;},
            &#34;/no_cache&#34;: {&#34;max_age&#34;: 0},
            &#34;/api_key&#34;: {&#34;decrypt&#34;: True},
        }

        values = get_parameters_by_name(parameters=params)
        for param_name, value in values.items():
            print(f&#34;{param_name}: {value}&#34;)

        # &#34;/param&#34;: value
        # &#34;/json&#34;: value
        # &#34;/binary&#34;: value
        # &#34;/no_cache&#34;: value
        # &#34;/api_key&#34;: value

    Raises
    ------
    GetParameterError
        When the parameter provider fails to retrieve a parameter value for
        a given name.
    &#34;&#34;&#34;

    # NOTE: Decided against using multi-thread due to single-thread outperforming in 128M and 1G + timeout risk
    # see: https://github.com/awslabs/aws-lambda-powertools-python/issues/1040#issuecomment-1299954613

    # If max_age is not set, resolve it from the environment variable, defaulting to DEFAULT_MAX_AGE_SECS
    max_age = resolve_max_age(env=os.getenv(constants.PARAMETERS_MAX_AGE_ENV, DEFAULT_MAX_AGE_SECS), choice=max_age)

    # If decrypt is not set, resolve it from the environment variable, defaulting to False
    decrypt = resolve_truthy_env_var_choice(
        env=os.getenv(constants.PARAMETERS_SSM_DECRYPT_ENV, &#34;false&#34;), choice=decrypt
    )

    # Only create the provider if this function is called at least once
    if &#34;ssm&#34; not in DEFAULT_PROVIDERS:
        DEFAULT_PROVIDERS[&#34;ssm&#34;] = SSMProvider()

    return DEFAULT_PROVIDERS[&#34;ssm&#34;].get_parameters_by_name(
        parameters=parameters, max_age=max_age, transform=transform, decrypt=decrypt, raise_on_error=raise_on_error
    )</code></pre>
</details>
</dd>
<dt id="aws_lambda_powertools.utilities.parameters.get_secret"><code class="name flex">
<span>def <span class="ident">get_secret</span></span>(<span>name: str, transform: Optional[str] = None, force_fetch: bool = False, max_age: Optional[int] = None, **sdk_options) ‑> Union[str, dict, bytes]</span>
</code></dt>
<dd>
<div class="desc"><p>Retrieve a parameter value from AWS Secrets Manager</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>name</code></strong> :&ensp;<code>str</code></dt>
<dd>Name of the parameter</dd>
<dt><strong><code>transform</code></strong> :&ensp;<code>str</code>, optional</dt>
<dd>Transforms the content from a JSON object ('json') or base64 binary string ('binary')</dd>
<dt><strong><code>force_fetch</code></strong> :&ensp;<code>bool</code>, optional</dt>
<dd>Force update even before a cached item has expired, defaults to False</dd>
<dt><strong><code>max_age</code></strong> :&ensp;<code>int</code>, optional</dt>
<dd>Maximum age of the cached value</dd>
<dt><strong><code>sdk_options</code></strong> :&ensp;<code>dict</code>, optional</dt>
<dd>Dictionary of options that will be passed to the get_secret_value call</dd>
</dl>
<h2 id="raises">Raises</h2>
<dl>
<dt><code><a title="aws_lambda_powertools.utilities.parameters.GetParameterError" href="#aws_lambda_powertools.utilities.parameters.GetParameterError">GetParameterError</a></code></dt>
<dd>When the parameter provider fails to retrieve a parameter value for
a given name.</dd>
<dt><code><a title="aws_lambda_powertools.utilities.parameters.TransformParameterError" href="#aws_lambda_powertools.utilities.parameters.TransformParameterError">TransformParameterError</a></code></dt>
<dd>When the parameter provider fails to transform a parameter value.</dd>
</dl>
<h2 id="example">Example</h2>
<p><strong>Retrieves a secret</strong>*</p>
<pre><code>&gt;&gt;&gt; from aws_lambda_powertools.utilities.parameters import get_secret
&gt;&gt;&gt;
&gt;&gt;&gt; get_secret("my-secret")
</code></pre>
<p><strong>Retrieves a secret and transforms using a JSON deserializer</strong>*</p>
<pre><code>&gt;&gt;&gt; from aws_lambda_powertools.utilities.parameters import get_secret
&gt;&gt;&gt;
&gt;&gt;&gt; get_secret("my-secret", transform="json")
</code></pre>
<p><strong>Retrieves a secret and passes custom arguments to the SDK</strong></p>
<pre><code>&gt;&gt;&gt; from aws_lambda_powertools.utilities.parameters import get_secret
&gt;&gt;&gt;
&gt;&gt;&gt; get_secret("my-secret", VersionId="f658cac0-98a5-41d9-b993-8a76a7799194")
</code></pre></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def get_secret(
    name: str, transform: Optional[str] = None, force_fetch: bool = False, max_age: Optional[int] = None, **sdk_options
) -&gt; Union[str, dict, bytes]:
    &#34;&#34;&#34;
    Retrieve a parameter value from AWS Secrets Manager

    Parameters
    ----------
    name: str
        Name of the parameter
    transform: str, optional
        Transforms the content from a JSON object (&#39;json&#39;) or base64 binary string (&#39;binary&#39;)
    force_fetch: bool, optional
        Force update even before a cached item has expired, defaults to False
    max_age: int, optional
        Maximum age of the cached value
    sdk_options: dict, optional
        Dictionary of options that will be passed to the get_secret_value call

    Raises
    ------
    GetParameterError
        When the parameter provider fails to retrieve a parameter value for
        a given name.
    TransformParameterError
        When the parameter provider fails to transform a parameter value.

    Example
    -------
    **Retrieves a secret***

        &gt;&gt;&gt; from aws_lambda_powertools.utilities.parameters import get_secret
        &gt;&gt;&gt;
        &gt;&gt;&gt; get_secret(&#34;my-secret&#34;)

    **Retrieves a secret and transforms using a JSON deserializer***

        &gt;&gt;&gt; from aws_lambda_powertools.utilities.parameters import get_secret
        &gt;&gt;&gt;
        &gt;&gt;&gt; get_secret(&#34;my-secret&#34;, transform=&#34;json&#34;)

    **Retrieves a secret and passes custom arguments to the SDK**

        &gt;&gt;&gt; from aws_lambda_powertools.utilities.parameters import get_secret
        &gt;&gt;&gt;
        &gt;&gt;&gt; get_secret(&#34;my-secret&#34;, VersionId=&#34;f658cac0-98a5-41d9-b993-8a76a7799194&#34;)
    &#34;&#34;&#34;

    # If max_age is not set, resolve it from the environment variable, defaulting to DEFAULT_MAX_AGE_SECS
    max_age = resolve_max_age(env=os.getenv(constants.PARAMETERS_MAX_AGE_ENV, DEFAULT_MAX_AGE_SECS), choice=max_age)

    # Only create the provider if this function is called at least once
    if &#34;secrets&#34; not in DEFAULT_PROVIDERS:
        DEFAULT_PROVIDERS[&#34;secrets&#34;] = SecretsProvider()

    return DEFAULT_PROVIDERS[&#34;secrets&#34;].get(
        name, max_age=max_age, transform=transform, force_fetch=force_fetch, **sdk_options
    )</code></pre>
</details>
</dd>
</dl>
</section>
<section>
<h2 class="section-title" id="header-classes">Classes</h2>
<dl>
<dt id="aws_lambda_powertools.utilities.parameters.AppConfigProvider"><code class="flex name class">
<span>class <span class="ident">AppConfigProvider</span></span>
<span>(</span><span>environment: str, application: Optional[str] = None, config: Optional[botocore.config.Config] = None, boto3_session: Optional[boto3.session.Session] = None, boto3_client: Optional[ForwardRef('AppConfigDataClient')] = None)</span>
</code></dt>
<dd>
<div class="desc"><p>AWS App Config Provider</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>environment</code></strong> :&ensp;<code>str</code></dt>
<dd>Environment of the configuration to pass during client initialization</dd>
<dt><strong><code>application</code></strong> :&ensp;<code>str</code>, optional</dt>
<dd>Application of the configuration to pass during client initialization</dd>
<dt><strong><code>config</code></strong> :&ensp;<code>botocore.config.Config</code>, optional</dt>
<dd>Botocore configuration to pass during client initialization</dd>
<dt><strong><code>boto3_session</code></strong> :&ensp;<code>boto3.session.Session</code>, optional</dt>
<dd>Boto3 session to create a boto3_client from</dd>
<dt><strong><code>boto3_client</code></strong> :&ensp;<code>AppConfigDataClient</code>, optional</dt>
<dd>Boto3 AppConfigData Client to use, boto3_session will be ignored if both are provided</dd>
</dl>
<h2 id="example">Example</h2>
<p><strong>Retrieves the latest configuration value from App Config</strong></p>
<pre><code>&gt;&gt;&gt; from aws_lambda_powertools.utilities import parameters
&gt;&gt;&gt;
&gt;&gt;&gt; appconf_provider = parameters.AppConfigProvider(environment="my_env", application="my_app")
&gt;&gt;&gt;
&gt;&gt;&gt; value : bytes = appconf_provider.get("my_conf")
&gt;&gt;&gt;
&gt;&gt;&gt; print(value)
My configuration value
</code></pre>
<p><strong>Retrieves a configuration value from App Config in another AWS region</strong></p>
<pre><code>&gt;&gt;&gt; from botocore.config import Config
&gt;&gt;&gt; from aws_lambda_powertools.utilities import parameters
&gt;&gt;&gt;
&gt;&gt;&gt; config = Config(region_name="us-west-1")
&gt;&gt;&gt; appconf_provider = parameters.AppConfigProvider(environment="my_env", application="my_app", config=config)
&gt;&gt;&gt;
&gt;&gt;&gt; value : bytes = appconf_provider.get("my_conf")
&gt;&gt;&gt;
&gt;&gt;&gt; print(value)
My configuration value
</code></pre>
<p>Initialize the App Config client</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class AppConfigProvider(BaseProvider):
    &#34;&#34;&#34;
    AWS App Config Provider

    Parameters
    ----------
    environment: str
        Environment of the configuration to pass during client initialization
    application: str, optional
        Application of the configuration to pass during client initialization
    config: botocore.config.Config, optional
        Botocore configuration to pass during client initialization
    boto3_session : boto3.session.Session, optional
            Boto3 session to create a boto3_client from
    boto3_client: AppConfigDataClient, optional
            Boto3 AppConfigData Client to use, boto3_session will be ignored if both are provided

    Example
    -------
    **Retrieves the latest configuration value from App Config**

        &gt;&gt;&gt; from aws_lambda_powertools.utilities import parameters
        &gt;&gt;&gt;
        &gt;&gt;&gt; appconf_provider = parameters.AppConfigProvider(environment=&#34;my_env&#34;, application=&#34;my_app&#34;)
        &gt;&gt;&gt;
        &gt;&gt;&gt; value : bytes = appconf_provider.get(&#34;my_conf&#34;)
        &gt;&gt;&gt;
        &gt;&gt;&gt; print(value)
        My configuration value

    **Retrieves a configuration value from App Config in another AWS region**

        &gt;&gt;&gt; from botocore.config import Config
        &gt;&gt;&gt; from aws_lambda_powertools.utilities import parameters
        &gt;&gt;&gt;
        &gt;&gt;&gt; config = Config(region_name=&#34;us-west-1&#34;)
        &gt;&gt;&gt; appconf_provider = parameters.AppConfigProvider(environment=&#34;my_env&#34;, application=&#34;my_app&#34;, config=config)
        &gt;&gt;&gt;
        &gt;&gt;&gt; value : bytes = appconf_provider.get(&#34;my_conf&#34;)
        &gt;&gt;&gt;
        &gt;&gt;&gt; print(value)
        My configuration value

    &#34;&#34;&#34;

    client: Any = None

    def __init__(
        self,
        environment: str,
        application: Optional[str] = None,
        config: Optional[Config] = None,
        boto3_session: Optional[boto3.session.Session] = None,
        boto3_client: Optional[&#34;AppConfigDataClient&#34;] = None,
    ):
        &#34;&#34;&#34;
        Initialize the App Config client
        &#34;&#34;&#34;

        super().__init__()

        self.client: &#34;AppConfigDataClient&#34; = self._build_boto3_client(
            service_name=&#34;appconfigdata&#34;, client=boto3_client, session=boto3_session, config=config
        )

        self.application = resolve_env_var_choice(
            choice=application, env=os.getenv(constants.SERVICE_NAME_ENV, &#34;service_undefined&#34;)
        )
        self.environment = environment
        self.current_version = &#34;&#34;

        self._next_token = &#34;&#34;  # nosec - token for get_latest_configuration executions
        self.last_returned_value = &#34;&#34;

    def _get(self, name: str, **sdk_options) -&gt; str:
        &#34;&#34;&#34;
        Retrieve a parameter value from AWS App config.

        Parameters
        ----------
        name: str
            Name of the configuration
        sdk_options: dict, optional
            SDK options to propagate to `start_configuration_session` API call
        &#34;&#34;&#34;
        if not self._next_token:
            sdk_options[&#34;ConfigurationProfileIdentifier&#34;] = name
            sdk_options[&#34;ApplicationIdentifier&#34;] = self.application
            sdk_options[&#34;EnvironmentIdentifier&#34;] = self.environment
            response_configuration = self.client.start_configuration_session(**sdk_options)
            self._next_token = response_configuration[&#34;InitialConfigurationToken&#34;]

        # The new AppConfig APIs require two API calls to return the configuration
        # First we start the session and after that we retrieve the configuration
        # We need to store the token to use in the next execution
        response = self.client.get_latest_configuration(ConfigurationToken=self._next_token)
        return_value = response[&#34;Configuration&#34;].read()
        self._next_token = response[&#34;NextPollConfigurationToken&#34;]

        if return_value:
            self.last_returned_value = return_value

        return self.last_returned_value

    def _get_multiple(self, path: str, **sdk_options) -&gt; Dict[str, str]:
        &#34;&#34;&#34;
        Retrieving multiple parameter values is not supported with AWS App Config Provider
        &#34;&#34;&#34;
        raise NotImplementedError()</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="aws_lambda_powertools.utilities.parameters.base.BaseProvider" href="base.html#aws_lambda_powertools.utilities.parameters.base.BaseProvider">BaseProvider</a></li>
<li>abc.ABC</li>
</ul>
<h3>Class variables</h3>
<dl>
<dt id="aws_lambda_powertools.utilities.parameters.AppConfigProvider.client"><code class="name">var <span class="ident">client</span> : Any</code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
<h3>Inherited members</h3>
<ul class="hlist">
<li><code><b><a title="aws_lambda_powertools.utilities.parameters.base.BaseProvider" href="base.html#aws_lambda_powertools.utilities.parameters.base.BaseProvider">BaseProvider</a></b></code>:
<ul class="hlist">
<li><code><a title="aws_lambda_powertools.utilities.parameters.base.BaseProvider.get" href="base.html#aws_lambda_powertools.utilities.parameters.base.BaseProvider.get">get</a></code></li>
<li><code><a title="aws_lambda_powertools.utilities.parameters.base.BaseProvider.get_multiple" href="base.html#aws_lambda_powertools.utilities.parameters.base.BaseProvider.get_multiple">get_multiple</a></code></li>
</ul>
</li>
</ul>
</dd>
<dt id="aws_lambda_powertools.utilities.parameters.BaseProvider"><code class="flex name class">
<span>class <span class="ident">BaseProvider</span></span>
</code></dt>
<dd>
<div class="desc"><p>Abstract Base Class for Parameter providers</p>
<p>Initialize the base provider</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class BaseProvider(ABC):
    &#34;&#34;&#34;
    Abstract Base Class for Parameter providers
    &#34;&#34;&#34;

    store: Dict[Tuple[str, TransformOptions], ExpirableValue]

    def __init__(self):
        &#34;&#34;&#34;
        Initialize the base provider
        &#34;&#34;&#34;

        self.store: Dict[Tuple[str, TransformOptions], ExpirableValue] = {}

    def has_not_expired_in_cache(self, key: Tuple[str, TransformOptions]) -&gt; bool:
        return key in self.store and self.store[key].ttl &gt;= datetime.now()

    def get(
        self,
        name: str,
        max_age: Optional[int] = None,
        transform: TransformOptions = None,
        force_fetch: bool = False,
        **sdk_options,
    ) -&gt; Optional[Union[str, dict, bytes]]:
        &#34;&#34;&#34;
        Retrieve a parameter value or return the cached value

        Parameters
        ----------
        name: str
            Parameter name
        max_age: int
            Maximum age of the cached value
        transform: str
            Optional transformation of the parameter value. Supported values
            are &#34;json&#34; for JSON strings and &#34;binary&#34; for base 64 encoded
            values.
        force_fetch: bool, optional
            Force update even before a cached item has expired, defaults to False
        sdk_options: dict, optional
            Arguments that will be passed directly to the underlying API call

        Raises
        ------
        GetParameterError
            When the parameter provider fails to retrieve a parameter value for
            a given name.
        TransformParameterError
            When the parameter provider fails to transform a parameter value.
        &#34;&#34;&#34;

        # If there are multiple calls to the same parameter but in a different
        # transform, they will be stored multiple times. This allows us to
        # optimize by transforming the data only once per retrieval, thus there
        # is no need to transform cached values multiple times. However, this
        # means that we need to make multiple calls to the underlying parameter
        # store if we need to return it in different transforms. Since the number
        # of supported transform is small and the probability that a given
        # parameter will always be used in a specific transform, this should be
        # an acceptable tradeoff.
        value: Optional[Union[str, bytes, dict]] = None
        key = (name, transform)

        # If max_age is not set, resolve it from the environment variable, defaulting to DEFAULT_MAX_AGE_SECS
        max_age = resolve_max_age(env=os.getenv(constants.PARAMETERS_MAX_AGE_ENV, DEFAULT_MAX_AGE_SECS), choice=max_age)

        if not force_fetch and self.has_not_expired_in_cache(key):
            return self.store[key].value

        try:
            value = self._get(name, **sdk_options)
        # Encapsulate all errors into a generic GetParameterError
        except Exception as exc:
            raise GetParameterError(str(exc))

        if transform:
            value = transform_value(key=name, value=value, transform=transform, raise_on_transform_error=True)

        # NOTE: don&#39;t cache None, as they might&#39;ve been failed transforms and may be corrected
        if value is not None:
            self.store[key] = ExpirableValue(value, datetime.now() + timedelta(seconds=max_age))

        return value

    @abstractmethod
    def _get(self, name: str, **sdk_options) -&gt; Union[str, bytes]:
        &#34;&#34;&#34;
        Retrieve parameter value from the underlying parameter store
        &#34;&#34;&#34;
        raise NotImplementedError()

    def get_multiple(
        self,
        path: str,
        max_age: Optional[int] = None,
        transform: TransformOptions = None,
        raise_on_transform_error: bool = False,
        force_fetch: bool = False,
        **sdk_options,
    ) -&gt; Union[Dict[str, str], Dict[str, dict], Dict[str, bytes]]:
        &#34;&#34;&#34;
        Retrieve multiple parameters based on a path prefix

        Parameters
        ----------
        path: str
            Parameter path used to retrieve multiple parameters
        max_age: int, optional
            Maximum age of the cached value
        transform: str, optional
            Optional transformation of the parameter value. Supported values
            are &#34;json&#34; for JSON strings, &#34;binary&#34; for base 64 encoded
            values or &#34;auto&#34; which looks at the attribute key to determine the type.
        raise_on_transform_error: bool, optional
            Raises an exception if any transform fails, otherwise this will
            return a None value for each transform that failed
        force_fetch: bool, optional
            Force update even before a cached item has expired, defaults to False
        sdk_options: dict, optional
            Arguments that will be passed directly to the underlying API call

        Raises
        ------
        GetParameterError
            When the parameter provider fails to retrieve parameter values for
            a given path.
        TransformParameterError
            When the parameter provider fails to transform a parameter value.
        &#34;&#34;&#34;
        key = (path, transform)

        # If max_age is not set, resolve it from the environment variable, defaulting to DEFAULT_MAX_AGE_SECS
        max_age = resolve_max_age(env=os.getenv(constants.PARAMETERS_MAX_AGE_ENV, DEFAULT_MAX_AGE_SECS), choice=max_age)

        if not force_fetch and self.has_not_expired_in_cache(key):
            return self.store[key].value  # type: ignore # need to revisit entire typing here

        try:
            values = self._get_multiple(path, **sdk_options)
        # Encapsulate all errors into a generic GetParameterError
        except Exception as exc:
            raise GetParameterError(str(exc))

        if transform:
            values.update(transform_value(values, transform, raise_on_transform_error))

        self.store[key] = ExpirableValue(values, datetime.now() + timedelta(seconds=max_age))

        return values

    @abstractmethod
    def _get_multiple(self, path: str, **sdk_options) -&gt; Dict[str, str]:
        &#34;&#34;&#34;
        Retrieve multiple parameter values from the underlying parameter store
        &#34;&#34;&#34;
        raise NotImplementedError()

    def clear_cache(self):
        self.store.clear()

    def add_to_cache(self, key: Tuple[str, TransformOptions], value: Any, max_age: int):
        if max_age &lt;= 0:
            return

        self.store[key] = ExpirableValue(value, datetime.now() + timedelta(seconds=max_age))

    @staticmethod
    def _build_boto3_client(
        service_name: str,
        client: Optional[ParameterClients] = None,
        session: Optional[Type[boto3.Session]] = None,
        config: Optional[Type[Config]] = None,
    ) -&gt; Type[ParameterClients]:
        &#34;&#34;&#34;Builds a low level boto3 client with session and config provided

        Parameters
        ----------
        service_name : str
            AWS service name to instantiate a boto3 client, e.g. ssm
        client : Optional[ParameterClients], optional
            boto3 client instance, by default None
        session : Optional[Type[boto3.Session]], optional
            boto3 session instance, by default None
        config : Optional[Type[Config]], optional
            botocore config instance to configure client with, by default None

        Returns
        -------
        Type[ParameterClients]
            Instance of a boto3 client for Parameters feature (e.g., ssm, appconfig, secretsmanager, etc.)
        &#34;&#34;&#34;
        if client is not None:
            return client

        session = session or boto3.Session()
        config = config or Config()
        return session.client(service_name=service_name, config=config)

    # maintenance: change DynamoDBServiceResource type to ParameterResourceClients when we expand
    @staticmethod
    def _build_boto3_resource_client(
        service_name: str,
        client: Optional[&#34;DynamoDBServiceResource&#34;] = None,
        session: Optional[Type[boto3.Session]] = None,
        config: Optional[Type[Config]] = None,
        endpoint_url: Optional[str] = None,
    ) -&gt; &#34;DynamoDBServiceResource&#34;:
        &#34;&#34;&#34;Builds a high level boto3 resource client with session, config and endpoint_url provided

        Parameters
        ----------
        service_name : str
            AWS service name to instantiate a boto3 client, e.g. ssm
        client : Optional[DynamoDBServiceResource], optional
            boto3 client instance, by default None
        session : Optional[Type[boto3.Session]], optional
            boto3 session instance, by default None
        config : Optional[Type[Config]], optional
            botocore config instance to configure client, by default None

        Returns
        -------
        Type[DynamoDBServiceResource]
            Instance of a boto3 resource client for Parameters feature (e.g., dynamodb, etc.)
        &#34;&#34;&#34;
        if client is not None:
            return client

        session = session or boto3.Session()
        config = config or Config()
        return session.resource(service_name=service_name, config=config, endpoint_url=endpoint_url)</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>abc.ABC</li>
</ul>
<h3>Subclasses</h3>
<ul class="hlist">
<li><a title="aws_lambda_powertools.utilities.parameters.appconfig.AppConfigProvider" href="appconfig.html#aws_lambda_powertools.utilities.parameters.appconfig.AppConfigProvider">AppConfigProvider</a></li>
<li><a title="aws_lambda_powertools.utilities.parameters.dynamodb.DynamoDBProvider" href="dynamodb.html#aws_lambda_powertools.utilities.parameters.dynamodb.DynamoDBProvider">DynamoDBProvider</a></li>
<li><a title="aws_lambda_powertools.utilities.parameters.secrets.SecretsProvider" href="secrets.html#aws_lambda_powertools.utilities.parameters.secrets.SecretsProvider">SecretsProvider</a></li>
<li><a title="aws_lambda_powertools.utilities.parameters.ssm.SSMProvider" href="ssm.html#aws_lambda_powertools.utilities.parameters.ssm.SSMProvider">SSMProvider</a></li>
</ul>
<h3>Class variables</h3>
<dl>
<dt id="aws_lambda_powertools.utilities.parameters.BaseProvider.store"><code class="name">var <span class="ident">store</span> : Dict[Tuple[str, Literal['json', 'binary', 'auto', None]], <a title="aws_lambda_powertools.utilities.parameters.base.ExpirableValue" href="base.html#aws_lambda_powertools.utilities.parameters.base.ExpirableValue">ExpirableValue</a>]</code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
<h3>Methods</h3>
<dl>
<dt id="aws_lambda_powertools.utilities.parameters.BaseProvider.add_to_cache"><code class="name flex">
<span>def <span class="ident">add_to_cache</span></span>(<span>self, key: Tuple[str, TransformOptions], value: Any, max_age: int)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def add_to_cache(self, key: Tuple[str, TransformOptions], value: Any, max_age: int):
    if max_age &lt;= 0:
        return

    self.store[key] = ExpirableValue(value, datetime.now() + timedelta(seconds=max_age))</code></pre>
</details>
</dd>
<dt id="aws_lambda_powertools.utilities.parameters.BaseProvider.clear_cache"><code class="name flex">
<span>def <span class="ident">clear_cache</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def clear_cache(self):
    self.store.clear()</code></pre>
</details>
</dd>
<dt id="aws_lambda_powertools.utilities.parameters.BaseProvider.get"><code class="name flex">
<span>def <span class="ident">get</span></span>(<span>self, name: str, max_age: Optional[int] = None, transform: TransformOptions = None, force_fetch: bool = False, **sdk_options) ‑> Union[str, dict, bytes, ForwardRef(None)]</span>
</code></dt>
<dd>
<div class="desc"><p>Retrieve a parameter value or return the cached value</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>name</code></strong> :&ensp;<code>str</code></dt>
<dd>Parameter name</dd>
<dt><strong><code>max_age</code></strong> :&ensp;<code>int</code></dt>
<dd>Maximum age of the cached value</dd>
<dt><strong><code>transform</code></strong> :&ensp;<code>str</code></dt>
<dd>Optional transformation of the parameter value. Supported values
are "json" for JSON strings and "binary" for base 64 encoded
values.</dd>
<dt><strong><code>force_fetch</code></strong> :&ensp;<code>bool</code>, optional</dt>
<dd>Force update even before a cached item has expired, defaults to False</dd>
<dt><strong><code>sdk_options</code></strong> :&ensp;<code>dict</code>, optional</dt>
<dd>Arguments that will be passed directly to the underlying API call</dd>
</dl>
<h2 id="raises">Raises</h2>
<dl>
<dt><code><a title="aws_lambda_powertools.utilities.parameters.GetParameterError" href="#aws_lambda_powertools.utilities.parameters.GetParameterError">GetParameterError</a></code></dt>
<dd>When the parameter provider fails to retrieve a parameter value for
a given name.</dd>
<dt><code><a title="aws_lambda_powertools.utilities.parameters.TransformParameterError" href="#aws_lambda_powertools.utilities.parameters.TransformParameterError">TransformParameterError</a></code></dt>
<dd>When the parameter provider fails to transform a parameter value.</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def get(
    self,
    name: str,
    max_age: Optional[int] = None,
    transform: TransformOptions = None,
    force_fetch: bool = False,
    **sdk_options,
) -&gt; Optional[Union[str, dict, bytes]]:
    &#34;&#34;&#34;
    Retrieve a parameter value or return the cached value

    Parameters
    ----------
    name: str
        Parameter name
    max_age: int
        Maximum age of the cached value
    transform: str
        Optional transformation of the parameter value. Supported values
        are &#34;json&#34; for JSON strings and &#34;binary&#34; for base 64 encoded
        values.
    force_fetch: bool, optional
        Force update even before a cached item has expired, defaults to False
    sdk_options: dict, optional
        Arguments that will be passed directly to the underlying API call

    Raises
    ------
    GetParameterError
        When the parameter provider fails to retrieve a parameter value for
        a given name.
    TransformParameterError
        When the parameter provider fails to transform a parameter value.
    &#34;&#34;&#34;

    # If there are multiple calls to the same parameter but in a different
    # transform, they will be stored multiple times. This allows us to
    # optimize by transforming the data only once per retrieval, thus there
    # is no need to transform cached values multiple times. However, this
    # means that we need to make multiple calls to the underlying parameter
    # store if we need to return it in different transforms. Since the number
    # of supported transform is small and the probability that a given
    # parameter will always be used in a specific transform, this should be
    # an acceptable tradeoff.
    value: Optional[Union[str, bytes, dict]] = None
    key = (name, transform)

    # If max_age is not set, resolve it from the environment variable, defaulting to DEFAULT_MAX_AGE_SECS
    max_age = resolve_max_age(env=os.getenv(constants.PARAMETERS_MAX_AGE_ENV, DEFAULT_MAX_AGE_SECS), choice=max_age)

    if not force_fetch and self.has_not_expired_in_cache(key):
        return self.store[key].value

    try:
        value = self._get(name, **sdk_options)
    # Encapsulate all errors into a generic GetParameterError
    except Exception as exc:
        raise GetParameterError(str(exc))

    if transform:
        value = transform_value(key=name, value=value, transform=transform, raise_on_transform_error=True)

    # NOTE: don&#39;t cache None, as they might&#39;ve been failed transforms and may be corrected
    if value is not None:
        self.store[key] = ExpirableValue(value, datetime.now() + timedelta(seconds=max_age))

    return value</code></pre>
</details>
</dd>
<dt id="aws_lambda_powertools.utilities.parameters.BaseProvider.get_multiple"><code class="name flex">
<span>def <span class="ident">get_multiple</span></span>(<span>self, path: str, max_age: Optional[int] = None, transform: TransformOptions = None, raise_on_transform_error: bool = False, force_fetch: bool = False, **sdk_options) ‑> Union[Dict[str, str], Dict[str, dict], Dict[str, bytes]]</span>
</code></dt>
<dd>
<div class="desc"><p>Retrieve multiple parameters based on a path prefix</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>path</code></strong> :&ensp;<code>str</code></dt>
<dd>Parameter path used to retrieve multiple parameters</dd>
<dt><strong><code>max_age</code></strong> :&ensp;<code>int</code>, optional</dt>
<dd>Maximum age of the cached value</dd>
<dt><strong><code>transform</code></strong> :&ensp;<code>str</code>, optional</dt>
<dd>Optional transformation of the parameter value. Supported values
are "json" for JSON strings, "binary" for base 64 encoded
values or "auto" which looks at the attribute key to determine the type.</dd>
<dt><strong><code>raise_on_transform_error</code></strong> :&ensp;<code>bool</code>, optional</dt>
<dd>Raises an exception if any transform fails, otherwise this will
return a None value for each transform that failed</dd>
<dt><strong><code>force_fetch</code></strong> :&ensp;<code>bool</code>, optional</dt>
<dd>Force update even before a cached item has expired, defaults to False</dd>
<dt><strong><code>sdk_options</code></strong> :&ensp;<code>dict</code>, optional</dt>
<dd>Arguments that will be passed directly to the underlying API call</dd>
</dl>
<h2 id="raises">Raises</h2>
<dl>
<dt><code><a title="aws_lambda_powertools.utilities.parameters.GetParameterError" href="#aws_lambda_powertools.utilities.parameters.GetParameterError">GetParameterError</a></code></dt>
<dd>When the parameter provider fails to retrieve parameter values for
a given path.</dd>
<dt><code><a title="aws_lambda_powertools.utilities.parameters.TransformParameterError" href="#aws_lambda_powertools.utilities.parameters.TransformParameterError">TransformParameterError</a></code></dt>
<dd>When the parameter provider fails to transform a parameter value.</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def get_multiple(
    self,
    path: str,
    max_age: Optional[int] = None,
    transform: TransformOptions = None,
    raise_on_transform_error: bool = False,
    force_fetch: bool = False,
    **sdk_options,
) -&gt; Union[Dict[str, str], Dict[str, dict], Dict[str, bytes]]:
    &#34;&#34;&#34;
    Retrieve multiple parameters based on a path prefix

    Parameters
    ----------
    path: str
        Parameter path used to retrieve multiple parameters
    max_age: int, optional
        Maximum age of the cached value
    transform: str, optional
        Optional transformation of the parameter value. Supported values
        are &#34;json&#34; for JSON strings, &#34;binary&#34; for base 64 encoded
        values or &#34;auto&#34; which looks at the attribute key to determine the type.
    raise_on_transform_error: bool, optional
        Raises an exception if any transform fails, otherwise this will
        return a None value for each transform that failed
    force_fetch: bool, optional
        Force update even before a cached item has expired, defaults to False
    sdk_options: dict, optional
        Arguments that will be passed directly to the underlying API call

    Raises
    ------
    GetParameterError
        When the parameter provider fails to retrieve parameter values for
        a given path.
    TransformParameterError
        When the parameter provider fails to transform a parameter value.
    &#34;&#34;&#34;
    key = (path, transform)

    # If max_age is not set, resolve it from the environment variable, defaulting to DEFAULT_MAX_AGE_SECS
    max_age = resolve_max_age(env=os.getenv(constants.PARAMETERS_MAX_AGE_ENV, DEFAULT_MAX_AGE_SECS), choice=max_age)

    if not force_fetch and self.has_not_expired_in_cache(key):
        return self.store[key].value  # type: ignore # need to revisit entire typing here

    try:
        values = self._get_multiple(path, **sdk_options)
    # Encapsulate all errors into a generic GetParameterError
    except Exception as exc:
        raise GetParameterError(str(exc))

    if transform:
        values.update(transform_value(values, transform, raise_on_transform_error))

    self.store[key] = ExpirableValue(values, datetime.now() + timedelta(seconds=max_age))

    return values</code></pre>
</details>
</dd>
<dt id="aws_lambda_powertools.utilities.parameters.BaseProvider.has_not_expired_in_cache"><code class="name flex">
<span>def <span class="ident">has_not_expired_in_cache</span></span>(<span>self, key: Tuple[str, TransformOptions]) ‑> bool</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def has_not_expired_in_cache(self, key: Tuple[str, TransformOptions]) -&gt; bool:
    return key in self.store and self.store[key].ttl &gt;= datetime.now()</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="aws_lambda_powertools.utilities.parameters.DynamoDBProvider"><code class="flex name class">
<span>class <span class="ident">DynamoDBProvider</span></span>
<span>(</span><span>table_name: str, key_attr: str = 'id', sort_attr: str = 'sk', value_attr: str = 'value', endpoint_url: Optional[str] = None, config: Optional[botocore.config.Config] = None, boto3_session: Optional[boto3.session.Session] = None, boto3_client: Optional[ForwardRef('DynamoDBServiceResource')] = None)</span>
</code></dt>
<dd>
<div class="desc"><p>Amazon DynamoDB Parameter Provider</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>table_name</code></strong> :&ensp;<code>str</code></dt>
<dd>Name of the DynamoDB table that stores parameters</dd>
<dt><strong><code>key_attr</code></strong> :&ensp;<code>str</code>, optional</dt>
<dd>Hash key for the DynamoDB table (default to 'id')</dd>
<dt><strong><code>sort_attr</code></strong> :&ensp;<code>str</code>, optional</dt>
<dd>Name of the DynamoDB table sort key (defaults to 'sk'), used only for get_multiple</dd>
<dt><strong><code>value_attr</code></strong> :&ensp;<code>str</code>, optional</dt>
<dd>Attribute that contains the values in the DynamoDB table (defaults to 'value')</dd>
<dt><strong><code>endpoint_url</code></strong> :&ensp;<code>str</code>, optional</dt>
<dd>Complete url to reference local DynamoDB instance, e.g. <a href="http://localhost:8080">http://localhost:8080</a></dd>
<dt><strong><code>config</code></strong> :&ensp;<code>botocore.config.Config</code>, optional</dt>
<dd>Botocore configuration to pass during client initialization</dd>
<dt><strong><code>boto3_session</code></strong> :&ensp;<code>boto3.session.Session</code>, optional</dt>
<dd>Boto3 session to create a boto3_client from</dd>
<dt><strong><code>boto3_client</code></strong> :&ensp;<code>DynamoDBServiceResource</code>, optional</dt>
<dd>Boto3 DynamoDB Resource Client to use; boto3_session will be ignored if both are provided</dd>
</dl>
<h2 id="example">Example</h2>
<p><strong>Retrieves a parameter value from a DynamoDB table</strong></p>
<p>In this example, the DynamoDB table uses <code>id</code> as hash key and stores the value in the <code>value</code>
attribute. The parameter item looks like this:</p>
<pre><code>{ "id": "my-parameters", "value": "Parameter value a" }

&gt;&gt;&gt; from aws_lambda_powertools.utilities.parameters import DynamoDBProvider
&gt;&gt;&gt; ddb_provider = DynamoDBProvider("ParametersTable")
&gt;&gt;&gt;
&gt;&gt;&gt; value = ddb_provider.get("my-parameter")
&gt;&gt;&gt;
&gt;&gt;&gt; print(value)
My parameter value
</code></pre>
<p><strong>Retrieves a parameter value from a DynamoDB table that has custom attribute names</strong></p>
<pre><code>&gt;&gt;&gt; from aws_lambda_powertools.utilities.parameters import DynamoDBProvider
&gt;&gt;&gt; ddb_provider = DynamoDBProvider(
...     "ParametersTable",
...     key_attr="my-id",
...     value_attr="my-value"
... )
&gt;&gt;&gt;
&gt;&gt;&gt; value = ddb_provider.get("my-parameter")
&gt;&gt;&gt;
&gt;&gt;&gt; print(value)
My parameter value
</code></pre>
<p><strong>Retrieves a parameter value from a DynamoDB table in another AWS region</strong></p>
<pre><code>&gt;&gt;&gt; from botocore.config import Config
&gt;&gt;&gt; from aws_lambda_powertools.utilities.parameters import DynamoDBProvider
&gt;&gt;&gt;
&gt;&gt;&gt; config = Config(region_name="us-west-1")
&gt;&gt;&gt; ddb_provider = DynamoDBProvider("ParametersTable", config=config)
&gt;&gt;&gt;
&gt;&gt;&gt; value = ddb_provider.get("my-parameter")
&gt;&gt;&gt;
&gt;&gt;&gt; print(value)
My parameter value
</code></pre>
<p><strong>Retrieves a parameter value from a DynamoDB table passing options to the SDK call</strong></p>
<pre><code>&gt;&gt;&gt; from aws_lambda_powertools.utilities.parameters import DynamoDBProvider
&gt;&gt;&gt; ddb_provider = DynamoDBProvider("ParametersTable")
&gt;&gt;&gt;
&gt;&gt;&gt; value = ddb_provider.get("my-parameter", ConsistentRead=True)
&gt;&gt;&gt;
&gt;&gt;&gt; print(value)
My parameter value
</code></pre>
<p><strong>Retrieves multiple values from a DynamoDB table</strong></p>
<p>In this case, the provider will use a sort key to retrieve multiple values using a query under
the hood. This expects that the sort key is named <code>sk</code>. The DynamoDB table contains three items
looking like this:</p>
<pre><code>{ "id": "my-parameters", "sk": "a", "value": "Parameter value a" }
{ "id": "my-parameters", "sk": "b", "value": "Parameter value b" }
{ "id": "my-parameters", "sk": "c", "value": "Parameter value c" }

&gt;&gt;&gt; from aws_lambda_powertools.utilities.parameters import DynamoDBProvider
&gt;&gt;&gt; ddb_provider = DynamoDBProvider("ParametersTable")
&gt;&gt;&gt;
&gt;&gt;&gt; values = ddb_provider.get_multiple("my-parameters")
&gt;&gt;&gt;
&gt;&gt;&gt; for key, value in values.items():
...     print(key, value)
a   Parameter value a
b   Parameter value b
c   Parameter value c
</code></pre>
<p><strong>Retrieves multiple values from a DynamoDB table that has custom attribute names</strong></p>
<p>In this case, the provider will use a sort key to retrieve multiple values using a query under
the hood.</p>
<pre><code>&gt;&gt;&gt; from aws_lambda_powertools.utilities.parameters import DynamoDBProvider
&gt;&gt;&gt; ddb_provider = DynamoDBProvider(
...     "ParametersTable",
...     key_attr="my-id",
...     sort_attr="my-sort-key",
...     value_attr="my-value"
... )
&gt;&gt;&gt;
&gt;&gt;&gt; values = ddb_provider.get_multiple("my-parameters")
&gt;&gt;&gt;
&gt;&gt;&gt; for key, value in values.items():
...     print(key, value)
a   Parameter value a
b   Parameter value b
c   Parameter value c
</code></pre>
<p><strong>Retrieves multiple values from a DynamoDB table passing options to the SDK calls</strong></p>
<pre><code>&gt;&gt;&gt; from aws_lambda_powertools.utilities.parameters import DynamoDBProvider
&gt;&gt;&gt; ddb_provider = DynamoDBProvider("ParametersTable")
&gt;&gt;&gt;
&gt;&gt;&gt; values = ddb_provider.get_multiple("my-parameters", ConsistentRead=True)
&gt;&gt;&gt;
&gt;&gt;&gt; for key, value in values.items():
...     print(key, value)
a   Parameter value a
b   Parameter value b
c   Parameter value c
</code></pre>
<p>Initialize the DynamoDB client</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class DynamoDBProvider(BaseProvider):
    &#34;&#34;&#34;
    Amazon DynamoDB Parameter Provider

    Parameters
    ----------
    table_name: str
        Name of the DynamoDB table that stores parameters
    key_attr: str, optional
        Hash key for the DynamoDB table (default to &#39;id&#39;)
    sort_attr: str, optional
        Name of the DynamoDB table sort key (defaults to &#39;sk&#39;), used only for get_multiple
    value_attr: str, optional
        Attribute that contains the values in the DynamoDB table (defaults to &#39;value&#39;)
    endpoint_url: str, optional
        Complete url to reference local DynamoDB instance, e.g. http://localhost:8080
    config: botocore.config.Config, optional
        Botocore configuration to pass during client initialization
    boto3_session : boto3.session.Session, optional
            Boto3 session to create a boto3_client from
    boto3_client: DynamoDBServiceResource, optional
            Boto3 DynamoDB Resource Client to use; boto3_session will be ignored if both are provided

    Example
    -------
    **Retrieves a parameter value from a DynamoDB table**

    In this example, the DynamoDB table uses `id` as hash key and stores the value in the `value`
    attribute. The parameter item looks like this:

        { &#34;id&#34;: &#34;my-parameters&#34;, &#34;value&#34;: &#34;Parameter value a&#34; }

        &gt;&gt;&gt; from aws_lambda_powertools.utilities.parameters import DynamoDBProvider
        &gt;&gt;&gt; ddb_provider = DynamoDBProvider(&#34;ParametersTable&#34;)
        &gt;&gt;&gt;
        &gt;&gt;&gt; value = ddb_provider.get(&#34;my-parameter&#34;)
        &gt;&gt;&gt;
        &gt;&gt;&gt; print(value)
        My parameter value

    **Retrieves a parameter value from a DynamoDB table that has custom attribute names**

        &gt;&gt;&gt; from aws_lambda_powertools.utilities.parameters import DynamoDBProvider
        &gt;&gt;&gt; ddb_provider = DynamoDBProvider(
        ...     &#34;ParametersTable&#34;,
        ...     key_attr=&#34;my-id&#34;,
        ...     value_attr=&#34;my-value&#34;
        ... )
        &gt;&gt;&gt;
        &gt;&gt;&gt; value = ddb_provider.get(&#34;my-parameter&#34;)
        &gt;&gt;&gt;
        &gt;&gt;&gt; print(value)
        My parameter value

    **Retrieves a parameter value from a DynamoDB table in another AWS region**

        &gt;&gt;&gt; from botocore.config import Config
        &gt;&gt;&gt; from aws_lambda_powertools.utilities.parameters import DynamoDBProvider
        &gt;&gt;&gt;
        &gt;&gt;&gt; config = Config(region_name=&#34;us-west-1&#34;)
        &gt;&gt;&gt; ddb_provider = DynamoDBProvider(&#34;ParametersTable&#34;, config=config)
        &gt;&gt;&gt;
        &gt;&gt;&gt; value = ddb_provider.get(&#34;my-parameter&#34;)
        &gt;&gt;&gt;
        &gt;&gt;&gt; print(value)
        My parameter value

    **Retrieves a parameter value from a DynamoDB table passing options to the SDK call**

        &gt;&gt;&gt; from aws_lambda_powertools.utilities.parameters import DynamoDBProvider
        &gt;&gt;&gt; ddb_provider = DynamoDBProvider(&#34;ParametersTable&#34;)
        &gt;&gt;&gt;
        &gt;&gt;&gt; value = ddb_provider.get(&#34;my-parameter&#34;, ConsistentRead=True)
        &gt;&gt;&gt;
        &gt;&gt;&gt; print(value)
        My parameter value

    **Retrieves multiple values from a DynamoDB table**

    In this case, the provider will use a sort key to retrieve multiple values using a query under
    the hood. This expects that the sort key is named `sk`. The DynamoDB table contains three items
    looking like this:

        { &#34;id&#34;: &#34;my-parameters&#34;, &#34;sk&#34;: &#34;a&#34;, &#34;value&#34;: &#34;Parameter value a&#34; }
        { &#34;id&#34;: &#34;my-parameters&#34;, &#34;sk&#34;: &#34;b&#34;, &#34;value&#34;: &#34;Parameter value b&#34; }
        { &#34;id&#34;: &#34;my-parameters&#34;, &#34;sk&#34;: &#34;c&#34;, &#34;value&#34;: &#34;Parameter value c&#34; }

        &gt;&gt;&gt; from aws_lambda_powertools.utilities.parameters import DynamoDBProvider
        &gt;&gt;&gt; ddb_provider = DynamoDBProvider(&#34;ParametersTable&#34;)
        &gt;&gt;&gt;
        &gt;&gt;&gt; values = ddb_provider.get_multiple(&#34;my-parameters&#34;)
        &gt;&gt;&gt;
        &gt;&gt;&gt; for key, value in values.items():
        ...     print(key, value)
        a   Parameter value a
        b   Parameter value b
        c   Parameter value c

    **Retrieves multiple values from a DynamoDB table that has custom attribute names**

    In this case, the provider will use a sort key to retrieve multiple values using a query under
    the hood.

        &gt;&gt;&gt; from aws_lambda_powertools.utilities.parameters import DynamoDBProvider
        &gt;&gt;&gt; ddb_provider = DynamoDBProvider(
        ...     &#34;ParametersTable&#34;,
        ...     key_attr=&#34;my-id&#34;,
        ...     sort_attr=&#34;my-sort-key&#34;,
        ...     value_attr=&#34;my-value&#34;
        ... )
        &gt;&gt;&gt;
        &gt;&gt;&gt; values = ddb_provider.get_multiple(&#34;my-parameters&#34;)
        &gt;&gt;&gt;
        &gt;&gt;&gt; for key, value in values.items():
        ...     print(key, value)
        a   Parameter value a
        b   Parameter value b
        c   Parameter value c

    **Retrieves multiple values from a DynamoDB table passing options to the SDK calls**

        &gt;&gt;&gt; from aws_lambda_powertools.utilities.parameters import DynamoDBProvider
        &gt;&gt;&gt; ddb_provider = DynamoDBProvider(&#34;ParametersTable&#34;)
        &gt;&gt;&gt;
        &gt;&gt;&gt; values = ddb_provider.get_multiple(&#34;my-parameters&#34;, ConsistentRead=True)
        &gt;&gt;&gt;
        &gt;&gt;&gt; for key, value in values.items():
        ...     print(key, value)
        a   Parameter value a
        b   Parameter value b
        c   Parameter value c
    &#34;&#34;&#34;

    def __init__(
        self,
        table_name: str,
        key_attr: str = &#34;id&#34;,
        sort_attr: str = &#34;sk&#34;,
        value_attr: str = &#34;value&#34;,
        endpoint_url: Optional[str] = None,
        config: Optional[Config] = None,
        boto3_session: Optional[boto3.session.Session] = None,
        boto3_client: Optional[&#34;DynamoDBServiceResource&#34;] = None,
    ):
        &#34;&#34;&#34;
        Initialize the DynamoDB client
        &#34;&#34;&#34;
        self.table: &#34;Table&#34; = self._build_boto3_resource_client(
            service_name=&#34;dynamodb&#34;,
            client=boto3_client,
            session=boto3_session,
            config=config,
            endpoint_url=endpoint_url,
        ).Table(table_name)

        self.key_attr = key_attr
        self.sort_attr = sort_attr
        self.value_attr = value_attr

        super().__init__()

    def _get(self, name: str, **sdk_options) -&gt; str:
        &#34;&#34;&#34;
        Retrieve a parameter value from Amazon DynamoDB

        Parameters
        ----------
        name: str
            Name of the parameter
        sdk_options: dict, optional
            Dictionary of options that will be passed to the DynamoDB get_item API call
        &#34;&#34;&#34;

        # Explicit arguments will take precedence over keyword arguments
        sdk_options[&#34;Key&#34;] = {self.key_attr: name}

        # maintenance: look for better ways to correctly type DynamoDB multiple return types
        # without a breaking change within ABC return type
        return self.table.get_item(**sdk_options)[&#34;Item&#34;][self.value_attr]  # type: ignore[return-value]

    def _get_multiple(self, path: str, **sdk_options) -&gt; Dict[str, str]:
        &#34;&#34;&#34;
        Retrieve multiple parameter values from Amazon DynamoDB

        Parameters
        ----------
        path: str
            Path to retrieve the parameters
        sdk_options: dict, optional
            Dictionary of options that will be passed to the DynamoDB query API call
        &#34;&#34;&#34;

        # Explicit arguments will take precedence over keyword arguments
        sdk_options[&#34;KeyConditionExpression&#34;] = Key(self.key_attr).eq(path)

        response = self.table.query(**sdk_options)
        items = response.get(&#34;Items&#34;, [])

        # Keep querying while there are more items matching the partition key
        while &#34;LastEvaluatedKey&#34; in response:
            sdk_options[&#34;ExclusiveStartKey&#34;] = response[&#34;LastEvaluatedKey&#34;]
            response = self.table.query(**sdk_options)
            items.extend(response.get(&#34;Items&#34;, []))

        # maintenance: look for better ways to correctly type DynamoDB multiple return types
        # without a breaking change within ABC return type
        return {item[self.sort_attr]: item[self.value_attr] for item in items}</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="aws_lambda_powertools.utilities.parameters.base.BaseProvider" href="base.html#aws_lambda_powertools.utilities.parameters.base.BaseProvider">BaseProvider</a></li>
<li>abc.ABC</li>
</ul>
<h3>Inherited members</h3>
<ul class="hlist">
<li><code><b><a title="aws_lambda_powertools.utilities.parameters.base.BaseProvider" href="base.html#aws_lambda_powertools.utilities.parameters.base.BaseProvider">BaseProvider</a></b></code>:
<ul class="hlist">
<li><code><a title="aws_lambda_powertools.utilities.parameters.base.BaseProvider.get" href="base.html#aws_lambda_powertools.utilities.parameters.base.BaseProvider.get">get</a></code></li>
<li><code><a title="aws_lambda_powertools.utilities.parameters.base.BaseProvider.get_multiple" href="base.html#aws_lambda_powertools.utilities.parameters.base.BaseProvider.get_multiple">get_multiple</a></code></li>
</ul>
</li>
</ul>
</dd>
<dt id="aws_lambda_powertools.utilities.parameters.GetParameterError"><code class="flex name class">
<span>class <span class="ident">GetParameterError</span></span>
<span>(</span><span>*args, **kwargs)</span>
</code></dt>
<dd>
<div class="desc"><p>When a provider raises an exception on parameter retrieval</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class GetParameterError(Exception):
    &#34;&#34;&#34;When a provider raises an exception on parameter retrieval&#34;&#34;&#34;</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>builtins.Exception</li>
<li>builtins.BaseException</li>
</ul>
</dd>
<dt id="aws_lambda_powertools.utilities.parameters.SSMProvider"><code class="flex name class">
<span>class <span class="ident">SSMProvider</span></span>
<span>(</span><span>config: Optional[Config] = None, boto3_session: Optional[boto3.session.Session] = None, boto3_client: "Optional['SSMClient']" = None)</span>
</code></dt>
<dd>
<div class="desc"><p>AWS Systems Manager Parameter Store Provider</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>config</code></strong> :&ensp;<code>botocore.config.Config</code>, optional</dt>
<dd>Botocore configuration to pass during client initialization</dd>
<dt><strong><code>boto3_session</code></strong> :&ensp;<code>boto3.session.Session</code>, optional</dt>
<dd>Boto3 session to create a boto3_client from</dd>
<dt><strong><code>boto3_client</code></strong> :&ensp;<code>SSMClient</code>, optional</dt>
<dd>Boto3 SSM Client to use, boto3_session will be ignored if both are provided</dd>
</dl>
<h2 id="example">Example</h2>
<p><strong>Retrieves a parameter value from Systems Manager Parameter Store</strong></p>
<pre><code>&gt;&gt;&gt; from aws_lambda_powertools.utilities.parameters import SSMProvider
&gt;&gt;&gt; ssm_provider = SSMProvider()
&gt;&gt;&gt;
&gt;&gt;&gt; value = ssm_provider.get("/my/parameter")
&gt;&gt;&gt;
&gt;&gt;&gt; print(value)
My parameter value
</code></pre>
<p><strong>Retrieves a parameter value from Systems Manager Parameter Store in another AWS region</strong></p>
<pre><code>&gt;&gt;&gt; from botocore.config import Config
&gt;&gt;&gt; from aws_lambda_powertools.utilities.parameters import SSMProvider
&gt;&gt;&gt;
&gt;&gt;&gt; config = Config(region_name="us-west-1")
&gt;&gt;&gt; ssm_provider = SSMProvider(config=config)
&gt;&gt;&gt;
&gt;&gt;&gt; value = ssm_provider.get("/my/parameter")
&gt;&gt;&gt;
&gt;&gt;&gt; print(value)
My parameter value
</code></pre>
<p><strong>Retrieves multiple parameter values from Systems Manager Parameter Store using a path prefix</strong></p>
<pre><code>&gt;&gt;&gt; from aws_lambda_powertools.utilities.parameters import SSMProvider
&gt;&gt;&gt; ssm_provider = SSMProvider()
&gt;&gt;&gt;
&gt;&gt;&gt; values = ssm_provider.get_multiple("/my/path/prefix")
&gt;&gt;&gt;
&gt;&gt;&gt; for key, value in values.items():
...     print(key, value)
/my/path/prefix/a   Parameter value a
/my/path/prefix/b   Parameter value b
/my/path/prefix/c   Parameter value c
</code></pre>
<p><strong>Retrieves multiple parameter values from Systems Manager Parameter Store passing options to the SDK call</strong></p>
<pre><code>&gt;&gt;&gt; from aws_lambda_powertools.utilities.parameters import SSMProvider
&gt;&gt;&gt; ssm_provider = SSMProvider()
&gt;&gt;&gt;
&gt;&gt;&gt; values = ssm_provider.get_multiple("/my/path/prefix", MaxResults=10)
&gt;&gt;&gt;
&gt;&gt;&gt; for key, value in values.items():
...     print(key, value)
/my/path/prefix/a   Parameter value a
/my/path/prefix/b   Parameter value b
/my/path/prefix/c   Parameter value c
</code></pre>
<p>Initialize the SSM Parameter Store client</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class SSMProvider(BaseProvider):
    &#34;&#34;&#34;
    AWS Systems Manager Parameter Store Provider

    Parameters
    ----------
    config: botocore.config.Config, optional
        Botocore configuration to pass during client initialization
    boto3_session : boto3.session.Session, optional
            Boto3 session to create a boto3_client from
    boto3_client: SSMClient, optional
            Boto3 SSM Client to use, boto3_session will be ignored if both are provided

    Example
    -------
    **Retrieves a parameter value from Systems Manager Parameter Store**

        &gt;&gt;&gt; from aws_lambda_powertools.utilities.parameters import SSMProvider
        &gt;&gt;&gt; ssm_provider = SSMProvider()
        &gt;&gt;&gt;
        &gt;&gt;&gt; value = ssm_provider.get(&#34;/my/parameter&#34;)
        &gt;&gt;&gt;
        &gt;&gt;&gt; print(value)
        My parameter value

    **Retrieves a parameter value from Systems Manager Parameter Store in another AWS region**

        &gt;&gt;&gt; from botocore.config import Config
        &gt;&gt;&gt; from aws_lambda_powertools.utilities.parameters import SSMProvider
        &gt;&gt;&gt;
        &gt;&gt;&gt; config = Config(region_name=&#34;us-west-1&#34;)
        &gt;&gt;&gt; ssm_provider = SSMProvider(config=config)
        &gt;&gt;&gt;
        &gt;&gt;&gt; value = ssm_provider.get(&#34;/my/parameter&#34;)
        &gt;&gt;&gt;
        &gt;&gt;&gt; print(value)
        My parameter value

    **Retrieves multiple parameter values from Systems Manager Parameter Store using a path prefix**

        &gt;&gt;&gt; from aws_lambda_powertools.utilities.parameters import SSMProvider
        &gt;&gt;&gt; ssm_provider = SSMProvider()
        &gt;&gt;&gt;
        &gt;&gt;&gt; values = ssm_provider.get_multiple(&#34;/my/path/prefix&#34;)
        &gt;&gt;&gt;
        &gt;&gt;&gt; for key, value in values.items():
        ...     print(key, value)
        /my/path/prefix/a   Parameter value a
        /my/path/prefix/b   Parameter value b
        /my/path/prefix/c   Parameter value c

    **Retrieves multiple parameter values from Systems Manager Parameter Store passing options to the SDK call**

        &gt;&gt;&gt; from aws_lambda_powertools.utilities.parameters import SSMProvider
        &gt;&gt;&gt; ssm_provider = SSMProvider()
        &gt;&gt;&gt;
        &gt;&gt;&gt; values = ssm_provider.get_multiple(&#34;/my/path/prefix&#34;, MaxResults=10)
        &gt;&gt;&gt;
        &gt;&gt;&gt; for key, value in values.items():
        ...     print(key, value)
        /my/path/prefix/a   Parameter value a
        /my/path/prefix/b   Parameter value b
        /my/path/prefix/c   Parameter value c
    &#34;&#34;&#34;

    client: Any = None
    _MAX_GET_PARAMETERS_ITEM = 10
    _ERRORS_KEY = &#34;_errors&#34;

    def __init__(
        self,
        config: Optional[Config] = None,
        boto3_session: Optional[boto3.session.Session] = None,
        boto3_client: Optional[&#34;SSMClient&#34;] = None,
    ):
        &#34;&#34;&#34;
        Initialize the SSM Parameter Store client
        &#34;&#34;&#34;

        super().__init__()

        self.client: &#34;SSMClient&#34; = self._build_boto3_client(
            service_name=&#34;ssm&#34;, client=boto3_client, session=boto3_session, config=config
        )

    # We break Liskov substitution principle due to differences in signatures of this method and superclass get method
    # We ignore mypy error, as changes to the signature here or in a superclass is a breaking change to users
    def get(  # type: ignore[override]
        self,
        name: str,
        max_age: Optional[int] = None,
        transform: TransformOptions = None,
        decrypt: Optional[bool] = None,
        force_fetch: bool = False,
        **sdk_options,
    ) -&gt; Optional[Union[str, dict, bytes]]:
        &#34;&#34;&#34;
        Retrieve a parameter value or return the cached value

        Parameters
        ----------
        name: str
            Parameter name
        max_age: int, optional
            Maximum age of the cached value
        transform: str
            Optional transformation of the parameter value. Supported values
            are &#34;json&#34; for JSON strings and &#34;binary&#34; for base 64 encoded
            values.
        decrypt: bool, optional
            If the parameter value should be decrypted
        force_fetch: bool, optional
            Force update even before a cached item has expired, defaults to False
        sdk_options: dict, optional
            Arguments that will be passed directly to the underlying API call

        Raises
        ------
        GetParameterError
            When the parameter provider fails to retrieve a parameter value for
            a given name.
        TransformParameterError
            When the parameter provider fails to transform a parameter value.
        &#34;&#34;&#34;

        # If max_age is not set, resolve it from the environment variable, defaulting to DEFAULT_MAX_AGE_SECS
        max_age = resolve_max_age(env=os.getenv(constants.PARAMETERS_MAX_AGE_ENV, DEFAULT_MAX_AGE_SECS), choice=max_age)

        # If decrypt is not set, resolve it from the environment variable, defaulting to False
        decrypt = resolve_truthy_env_var_choice(
            env=os.getenv(constants.PARAMETERS_SSM_DECRYPT_ENV, &#34;false&#34;), choice=decrypt
        )

        # Add to `decrypt` sdk_options to we can have an explicit option for this
        sdk_options[&#34;decrypt&#34;] = decrypt

        return super().get(name, max_age, transform, force_fetch, **sdk_options)

    def _get(self, name: str, decrypt: bool = False, **sdk_options) -&gt; str:
        &#34;&#34;&#34;
        Retrieve a parameter value from AWS Systems Manager Parameter Store

        Parameters
        ----------
        name: str
            Parameter name
        decrypt: bool, optional
            If the parameter value should be decrypted
        sdk_options: dict, optional
            Dictionary of options that will be passed to the Parameter Store get_parameter API call
        &#34;&#34;&#34;

        # Explicit arguments will take precedence over keyword arguments
        sdk_options[&#34;Name&#34;] = name
        sdk_options[&#34;WithDecryption&#34;] = decrypt

        return self.client.get_parameter(**sdk_options)[&#34;Parameter&#34;][&#34;Value&#34;]

    def _get_multiple(self, path: str, decrypt: bool = False, recursive: bool = False, **sdk_options) -&gt; Dict[str, str]:
        &#34;&#34;&#34;
        Retrieve multiple parameter values from AWS Systems Manager Parameter Store

        Parameters
        ----------
        path: str
            Path to retrieve the parameters
        decrypt: bool, optional
            If the parameter values should be decrypted
        recursive: bool, optional
            If this should retrieve the parameter values recursively or not
        sdk_options: dict, optional
            Dictionary of options that will be passed to the Parameter Store get_parameters_by_path API call
        &#34;&#34;&#34;

        # Explicit arguments will take precedence over keyword arguments
        sdk_options[&#34;Path&#34;] = path
        sdk_options[&#34;WithDecryption&#34;] = decrypt
        sdk_options[&#34;Recursive&#34;] = recursive

        parameters = {}
        for page in self.client.get_paginator(&#34;get_parameters_by_path&#34;).paginate(**sdk_options):
            for parameter in page.get(&#34;Parameters&#34;, []):
                # Standardize the parameter name
                # The parameter name returned by SSM will contain the full path.
                # However, for readability, we should return only the part after
                # the path.
                name = parameter[&#34;Name&#34;]
                if name.startswith(path):
                    name = name[len(path) :]
                name = name.lstrip(&#34;/&#34;)

                parameters[name] = parameter[&#34;Value&#34;]

        return parameters

    # NOTE: When bandwidth permits, allocate a week to refactor to lower cognitive load
    def get_parameters_by_name(
        self,
        parameters: Dict[str, Dict],
        transform: TransformOptions = None,
        decrypt: Optional[bool] = None,
        max_age: Optional[int] = None,
        raise_on_error: bool = True,
    ) -&gt; Dict[str, str] | Dict[str, bytes] | Dict[str, dict]:
        &#34;&#34;&#34;
        Retrieve multiple parameter values by name from SSM or cache.

        Raise_on_error decides on error handling strategy:

        - A) Default to fail-fast. Raises GetParameterError upon any error
        - B) Gracefully aggregate all parameters that failed under &#34;_errors&#34; key

        It transparently uses GetParameter and/or GetParameters depending on decryption requirements.

                                    ┌────────────────────────┐
                                ┌───▶  Decrypt entire batch  │─────┐
                                │   └────────────────────────┘     │     ┌────────────────────┐
                                │                                  ├─────▶ GetParameters API  │
        ┌──────────────────┐    │   ┌────────────────────────┐     │     └────────────────────┘
        │   Split batch    │─── ┼──▶│ No decryption required │─────┘
        └──────────────────┘    │   └────────────────────────┘
                                │                                        ┌────────────────────┐
                                │   ┌────────────────────────┐           │  GetParameter API  │
                                └──▶│Decrypt some but not all│───────────▶────────────────────┤
                                    └────────────────────────┘           │ GetParameters API  │
                                                                         └────────────────────┘

        Parameters
        ----------
        parameters: List[Dict[str, Dict]]
            List of parameter names, and any optional overrides
        transform: str, optional
            Transforms the content from a JSON object (&#39;json&#39;) or base64 binary string (&#39;binary&#39;)
        decrypt: bool, optional
            If the parameter values should be decrypted
        max_age: int, optional
            Maximum age of the cached value
        raise_on_error: bool
            Whether to fail-fast or fail gracefully by including &#34;_errors&#34; key in the response, by default True

        Raises
        ------
        GetParameterError
            When the parameter provider fails to retrieve a parameter value for a given name.

            When &#34;_errors&#34; reserved key is in parameters to be fetched from SSM.
        &#34;&#34;&#34;

        # If max_age is not set, resolve it from the environment variable, defaulting to DEFAULT_MAX_AGE_SECS
        max_age = resolve_max_age(env=os.getenv(constants.PARAMETERS_MAX_AGE_ENV, DEFAULT_MAX_AGE_SECS), choice=max_age)

        # If decrypt is not set, resolve it from the environment variable, defaulting to False
        decrypt = resolve_truthy_env_var_choice(
            env=os.getenv(constants.PARAMETERS_SSM_DECRYPT_ENV, &#34;false&#34;), choice=decrypt
        )

        # Init potential batch/decrypt batch responses and errors
        batch_ret: Dict[str, Any] = {}
        decrypt_ret: Dict[str, Any] = {}
        batch_err: List[str] = []
        decrypt_err: List[str] = []
        response: Dict[str, Any] = {}

        # NOTE: We fail early to avoid unintended graceful errors being replaced with their &#39;_errors&#39; param values
        self._raise_if_errors_key_is_present(parameters, self._ERRORS_KEY, raise_on_error)

        batch_params, decrypt_params = self._split_batch_and_decrypt_parameters(parameters, transform, max_age, decrypt)

        # NOTE: We need to find out whether all parameters must be decrypted or not to know which API to use
        ## Logic:
        ##
        ## GetParameters API -&gt; When decrypt is used for all parameters in the the batch
        ## GetParameter  API -&gt; When decrypt is used for one or more in the batch

        if len(decrypt_params) != len(parameters):
            decrypt_ret, decrypt_err = self._get_parameters_by_name_with_decrypt_option(decrypt_params, raise_on_error)
            batch_ret, batch_err = self._get_parameters_batch_by_name(batch_params, raise_on_error, decrypt=False)
        else:
            batch_ret, batch_err = self._get_parameters_batch_by_name(decrypt_params, raise_on_error, decrypt=True)

        # Fail-fast disabled, let&#39;s aggregate errors under &#34;_errors&#34; key so they can handle gracefully
        if not raise_on_error:
            response[self._ERRORS_KEY] = [*decrypt_err, *batch_err]

        return {**response, **batch_ret, **decrypt_ret}

    def _get_parameters_by_name_with_decrypt_option(
        self, batch: Dict[str, Dict], raise_on_error: bool
    ) -&gt; Tuple[Dict, List]:
        response: Dict[str, Any] = {}
        errors: List[str] = []

        # Decided for single-thread as it outperforms in 128M and 1G + reduce timeout risk
        # see: https://github.com/awslabs/aws-lambda-powertools-python/issues/1040#issuecomment-1299954613
        for parameter, options in batch.items():
            try:
                response[parameter] = self.get(parameter, options[&#34;max_age&#34;], options[&#34;transform&#34;], options[&#34;decrypt&#34;])
            except GetParameterError:
                if raise_on_error:
                    raise
                errors.append(parameter)
                continue

        return response, errors

    def _get_parameters_batch_by_name(
        self, batch: Dict[str, Dict], raise_on_error: bool = True, decrypt: bool = False
    ) -&gt; Tuple[Dict, List]:
        &#34;&#34;&#34;Slice batch and fetch parameters using GetParameters by max permitted&#34;&#34;&#34;
        errors: List[str] = []

        # Fetch each possible batch param from cache and return if entire batch is cached
        cached_params = self._get_parameters_by_name_from_cache(batch)
        if len(cached_params) == len(batch):
            return cached_params, errors

        # Slice batch by max permitted GetParameters call
        batch_ret, errors = self._get_parameters_by_name_in_chunks(batch, cached_params, raise_on_error, decrypt)

        return {**cached_params, **batch_ret}, errors

    def _get_parameters_by_name_from_cache(self, batch: Dict[str, Dict]) -&gt; Dict[str, Any]:
        &#34;&#34;&#34;Fetch each parameter from batch that hasn&#39;t been expired&#34;&#34;&#34;
        cache = {}
        for name, options in batch.items():
            cache_key = (name, options[&#34;transform&#34;])
            if self.has_not_expired_in_cache(cache_key):
                cache[name] = self.store[cache_key].value

        return cache

    def _get_parameters_by_name_in_chunks(
        self, batch: Dict[str, Dict], cache: Dict[str, Any], raise_on_error: bool, decrypt: bool = False
    ) -&gt; Tuple[Dict, List]:
        &#34;&#34;&#34;Take out differences from cache and batch, slice it and fetch from SSM&#34;&#34;&#34;
        response: Dict[str, Any] = {}
        errors: List[str] = []

        diff = {key: value for key, value in batch.items() if key not in cache}

        for chunk in slice_dictionary(data=diff, chunk_size=self._MAX_GET_PARAMETERS_ITEM):
            response, possible_errors = self._get_parameters_by_name(
                parameters=chunk, raise_on_error=raise_on_error, decrypt=decrypt
            )
            response.update(response)
            errors.extend(possible_errors)

        return response, errors

    def _get_parameters_by_name(
        self, parameters: Dict[str, Dict], raise_on_error: bool = True, decrypt: bool = False
    ) -&gt; Tuple[Dict[str, Any], List[str]]:
        &#34;&#34;&#34;Use SSM GetParameters to fetch parameters, hydrate cache, and handle partial failure

        Parameters
        ----------
        parameters : Dict[str, Dict]
            Parameters to fetch
        raise_on_error : bool, optional
            Whether to fail-fast or fail gracefully by including &#34;_errors&#34; key in the response, by default True

        Returns
        -------
        Dict[str, Any]
            Retrieved parameters as key names and their values

        Raises
        ------
        GetParameterError
            When one or more parameters failed on fetching, and raise_on_error is enabled
        &#34;&#34;&#34;
        ret: Dict[str, Any] = {}
        batch_errors: List[str] = []
        parameter_names = list(parameters.keys())

        # All params in the batch must be decrypted
        # we return early if we hit an unrecoverable exception like InvalidKeyId/InternalServerError
        # everything else should technically be recoverable as GetParameters is non-atomic
        try:
            if decrypt:
                response = self.client.get_parameters(Names=parameter_names, WithDecryption=True)
            else:
                response = self.client.get_parameters(Names=parameter_names)
        except (self.client.exceptions.InvalidKeyId, self.client.exceptions.InternalServerError):
            return ret, parameter_names

        batch_errors = self._handle_any_invalid_get_parameter_errors(response, raise_on_error)
        transformed_params = self._transform_and_cache_get_parameters_response(response, parameters, raise_on_error)

        return transformed_params, batch_errors

    def _transform_and_cache_get_parameters_response(
        self, api_response: GetParametersResultTypeDef, parameters: Dict[str, Any], raise_on_error: bool = True
    ) -&gt; Dict[str, Any]:
        response: Dict[str, Any] = {}

        for parameter in api_response[&#34;Parameters&#34;]:
            name = parameter[&#34;Name&#34;]
            value = parameter[&#34;Value&#34;]
            options = parameters[name]
            transform = options.get(&#34;transform&#34;)

            # NOTE: If transform is set, we do it before caching to reduce number of operations
            if transform:
                value = transform_value(name, value, transform, raise_on_error)  # type: ignore

            _cache_key = (name, options[&#34;transform&#34;])
            self.add_to_cache(key=_cache_key, value=value, max_age=options[&#34;max_age&#34;])

            response[name] = value

        return response

    @staticmethod
    def _handle_any_invalid_get_parameter_errors(
        api_response: GetParametersResultTypeDef, raise_on_error: bool = True
    ) -&gt; List[str]:
        &#34;&#34;&#34;GetParameters is non-atomic. Failures don&#39;t always reflect in exceptions so we need to collect.&#34;&#34;&#34;
        failed_parameters = api_response[&#34;InvalidParameters&#34;]
        if failed_parameters:
            if raise_on_error:
                raise GetParameterError(f&#34;Failed to fetch parameters: {failed_parameters}&#34;)

            return failed_parameters

        return []

    @staticmethod
    def _split_batch_and_decrypt_parameters(
        parameters: Dict[str, Dict], transform: TransformOptions, max_age: int, decrypt: bool
    ) -&gt; Tuple[Dict[str, Dict], Dict[str, Dict]]:
        &#34;&#34;&#34;Split parameters that can be fetched by GetParameters vs GetParameter

        Parameters
        ----------
        parameters : Dict[str, Dict]
            Parameters containing names as key and optional config override as value
        transform : TransformOptions
            Transform configuration
        max_age : int
            How long to cache a parameter for
        decrypt : bool
            Whether to use KMS to decrypt a parameter

        Returns
        -------
        Tuple[Dict[str, Dict], Dict[str, Dict]]
            GetParameters and GetParameter parameters dict along with their overrides/globals merged
        &#34;&#34;&#34;
        batch_parameters: Dict[str, Dict] = {}
        decrypt_parameters: Dict[str, Any] = {}

        for parameter, options in parameters.items():
            # NOTE: TypeDict later
            _overrides = options or {}
            _overrides[&#34;transform&#34;] = _overrides.get(&#34;transform&#34;) or transform

            # These values can be falsy (False, 0)
            if &#34;decrypt&#34; not in _overrides:
                _overrides[&#34;decrypt&#34;] = decrypt

            if &#34;max_age&#34; not in _overrides:
                _overrides[&#34;max_age&#34;] = max_age

            # NOTE: Split parameters who have decrypt OR have it global
            if _overrides[&#34;decrypt&#34;]:
                decrypt_parameters[parameter] = _overrides
            else:
                batch_parameters[parameter] = _overrides

        return batch_parameters, decrypt_parameters

    @staticmethod
    def _raise_if_errors_key_is_present(parameters: Dict, reserved_parameter: str, raise_on_error: bool):
        &#34;&#34;&#34;Raise GetParameterError if fail-fast is disabled and &#39;_errors&#39; key is in parameters batch&#34;&#34;&#34;
        if not raise_on_error and reserved_parameter in parameters:
            raise GetParameterError(
                f&#34;You cannot fetch a parameter named &#39;{reserved_parameter}&#39; in graceful error mode.&#34;
            )</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="aws_lambda_powertools.utilities.parameters.base.BaseProvider" href="base.html#aws_lambda_powertools.utilities.parameters.base.BaseProvider">BaseProvider</a></li>
<li>abc.ABC</li>
</ul>
<h3>Class variables</h3>
<dl>
<dt id="aws_lambda_powertools.utilities.parameters.SSMProvider.client"><code class="name">var <span class="ident">client</span> : Any</code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
<h3>Methods</h3>
<dl>
<dt id="aws_lambda_powertools.utilities.parameters.SSMProvider.get"><code class="name flex">
<span>def <span class="ident">get</span></span>(<span>self, name: str, max_age: Optional[int] = None, transform: TransformOptions = None, decrypt: Optional[bool] = None, force_fetch: bool = False, **sdk_options) ‑> Union[str, dict, bytes, ForwardRef(None)]</span>
</code></dt>
<dd>
<div class="desc"><p>Retrieve a parameter value or return the cached value</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>name</code></strong> :&ensp;<code>str</code></dt>
<dd>Parameter name</dd>
<dt><strong><code>max_age</code></strong> :&ensp;<code>int</code>, optional</dt>
<dd>Maximum age of the cached value</dd>
<dt><strong><code>transform</code></strong> :&ensp;<code>str</code></dt>
<dd>Optional transformation of the parameter value. Supported values
are "json" for JSON strings and "binary" for base 64 encoded
values.</dd>
<dt><strong><code>decrypt</code></strong> :&ensp;<code>bool</code>, optional</dt>
<dd>If the parameter value should be decrypted</dd>
<dt><strong><code>force_fetch</code></strong> :&ensp;<code>bool</code>, optional</dt>
<dd>Force update even before a cached item has expired, defaults to False</dd>
<dt><strong><code>sdk_options</code></strong> :&ensp;<code>dict</code>, optional</dt>
<dd>Arguments that will be passed directly to the underlying API call</dd>
</dl>
<h2 id="raises">Raises</h2>
<dl>
<dt><code><a title="aws_lambda_powertools.utilities.parameters.GetParameterError" href="#aws_lambda_powertools.utilities.parameters.GetParameterError">GetParameterError</a></code></dt>
<dd>When the parameter provider fails to retrieve a parameter value for
a given name.</dd>
<dt><code><a title="aws_lambda_powertools.utilities.parameters.TransformParameterError" href="#aws_lambda_powertools.utilities.parameters.TransformParameterError">TransformParameterError</a></code></dt>
<dd>When the parameter provider fails to transform a parameter value.</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def get(  # type: ignore[override]
    self,
    name: str,
    max_age: Optional[int] = None,
    transform: TransformOptions = None,
    decrypt: Optional[bool] = None,
    force_fetch: bool = False,
    **sdk_options,
) -&gt; Optional[Union[str, dict, bytes]]:
    &#34;&#34;&#34;
    Retrieve a parameter value or return the cached value

    Parameters
    ----------
    name: str
        Parameter name
    max_age: int, optional
        Maximum age of the cached value
    transform: str
        Optional transformation of the parameter value. Supported values
        are &#34;json&#34; for JSON strings and &#34;binary&#34; for base 64 encoded
        values.
    decrypt: bool, optional
        If the parameter value should be decrypted
    force_fetch: bool, optional
        Force update even before a cached item has expired, defaults to False
    sdk_options: dict, optional
        Arguments that will be passed directly to the underlying API call

    Raises
    ------
    GetParameterError
        When the parameter provider fails to retrieve a parameter value for
        a given name.
    TransformParameterError
        When the parameter provider fails to transform a parameter value.
    &#34;&#34;&#34;

    # If max_age is not set, resolve it from the environment variable, defaulting to DEFAULT_MAX_AGE_SECS
    max_age = resolve_max_age(env=os.getenv(constants.PARAMETERS_MAX_AGE_ENV, DEFAULT_MAX_AGE_SECS), choice=max_age)

    # If decrypt is not set, resolve it from the environment variable, defaulting to False
    decrypt = resolve_truthy_env_var_choice(
        env=os.getenv(constants.PARAMETERS_SSM_DECRYPT_ENV, &#34;false&#34;), choice=decrypt
    )

    # Add to `decrypt` sdk_options to we can have an explicit option for this
    sdk_options[&#34;decrypt&#34;] = decrypt

    return super().get(name, max_age, transform, force_fetch, **sdk_options)</code></pre>
</details>
</dd>
<dt id="aws_lambda_powertools.utilities.parameters.SSMProvider.get_parameters_by_name"><code class="name flex">
<span>def <span class="ident">get_parameters_by_name</span></span>(<span>self, parameters: Dict[str, Dict], transform: TransformOptions = None, decrypt: Optional[bool] = None, max_age: Optional[int] = None, raise_on_error: bool = True) ‑> Union[Dict[str, str], Dict[str, dict], Dict[str, bytes]]</span>
</code></dt>
<dd>
<div class="desc"><p>Retrieve multiple parameter values by name from SSM or cache.</p>
<p>Raise_on_error decides on error handling strategy:</p>
<ul>
<li>A) Default to fail-fast. Raises GetParameterError upon any error</li>
<li>B) Gracefully aggregate all parameters that failed under "_errors" key</li>
</ul>
<p>It transparently uses GetParameter and/or GetParameters depending on decryption requirements.</p>
<pre><code>                        ┌────────────────────────┐
                    ┌───▶  Decrypt entire batch  │─────┐
                    │   └────────────────────────┘     │     ┌────────────────────┐
                    │                                  ├─────▶ GetParameters API  │
</code></pre>
<p>┌──────────────────┐
│
┌────────────────────────┐
│
└────────────────────┘
│
Split batch
│─── ┼──▶│ No decryption required │─────┘
└──────────────────┘
│
└────────────────────────┘
│
┌────────────────────┐
│
┌────────────────────────┐
│
GetParameter API
│
└──▶│Decrypt some but not all│───────────▶────────────────────┤
└────────────────────────┘
│ GetParameters API
│
└────────────────────┘</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>parameters</code></strong> :&ensp;<code>List[Dict[str, Dict]]</code></dt>
<dd>List of parameter names, and any optional overrides</dd>
<dt><strong><code>transform</code></strong> :&ensp;<code>str</code>, optional</dt>
<dd>Transforms the content from a JSON object ('json') or base64 binary string ('binary')</dd>
<dt><strong><code>decrypt</code></strong> :&ensp;<code>bool</code>, optional</dt>
<dd>If the parameter values should be decrypted</dd>
<dt><strong><code>max_age</code></strong> :&ensp;<code>int</code>, optional</dt>
<dd>Maximum age of the cached value</dd>
<dt><strong><code>raise_on_error</code></strong> :&ensp;<code>bool</code></dt>
<dd>Whether to fail-fast or fail gracefully by including "_errors" key in the response, by default True</dd>
</dl>
<h2 id="raises">Raises</h2>
<dl>
<dt><code><a title="aws_lambda_powertools.utilities.parameters.GetParameterError" href="#aws_lambda_powertools.utilities.parameters.GetParameterError">GetParameterError</a></code></dt>
<dd>
<p>When the parameter provider fails to retrieve a parameter value for a given name.</p>
<p>When "_errors" reserved key is in parameters to be fetched from SSM.</p>
</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def get_parameters_by_name(
    self,
    parameters: Dict[str, Dict],
    transform: TransformOptions = None,
    decrypt: Optional[bool] = None,
    max_age: Optional[int] = None,
    raise_on_error: bool = True,
) -&gt; Dict[str, str] | Dict[str, bytes] | Dict[str, dict]:
    &#34;&#34;&#34;
    Retrieve multiple parameter values by name from SSM or cache.

    Raise_on_error decides on error handling strategy:

    - A) Default to fail-fast. Raises GetParameterError upon any error
    - B) Gracefully aggregate all parameters that failed under &#34;_errors&#34; key

    It transparently uses GetParameter and/or GetParameters depending on decryption requirements.

                                ┌────────────────────────┐
                            ┌───▶  Decrypt entire batch  │─────┐
                            │   └────────────────────────┘     │     ┌────────────────────┐
                            │                                  ├─────▶ GetParameters API  │
    ┌──────────────────┐    │   ┌────────────────────────┐     │     └────────────────────┘
    │   Split batch    │─── ┼──▶│ No decryption required │─────┘
    └──────────────────┘    │   └────────────────────────┘
                            │                                        ┌────────────────────┐
                            │   ┌────────────────────────┐           │  GetParameter API  │
                            └──▶│Decrypt some but not all│───────────▶────────────────────┤
                                └────────────────────────┘           │ GetParameters API  │
                                                                     └────────────────────┘

    Parameters
    ----------
    parameters: List[Dict[str, Dict]]
        List of parameter names, and any optional overrides
    transform: str, optional
        Transforms the content from a JSON object (&#39;json&#39;) or base64 binary string (&#39;binary&#39;)
    decrypt: bool, optional
        If the parameter values should be decrypted
    max_age: int, optional
        Maximum age of the cached value
    raise_on_error: bool
        Whether to fail-fast or fail gracefully by including &#34;_errors&#34; key in the response, by default True

    Raises
    ------
    GetParameterError
        When the parameter provider fails to retrieve a parameter value for a given name.

        When &#34;_errors&#34; reserved key is in parameters to be fetched from SSM.
    &#34;&#34;&#34;

    # If max_age is not set, resolve it from the environment variable, defaulting to DEFAULT_MAX_AGE_SECS
    max_age = resolve_max_age(env=os.getenv(constants.PARAMETERS_MAX_AGE_ENV, DEFAULT_MAX_AGE_SECS), choice=max_age)

    # If decrypt is not set, resolve it from the environment variable, defaulting to False
    decrypt = resolve_truthy_env_var_choice(
        env=os.getenv(constants.PARAMETERS_SSM_DECRYPT_ENV, &#34;false&#34;), choice=decrypt
    )

    # Init potential batch/decrypt batch responses and errors
    batch_ret: Dict[str, Any] = {}
    decrypt_ret: Dict[str, Any] = {}
    batch_err: List[str] = []
    decrypt_err: List[str] = []
    response: Dict[str, Any] = {}

    # NOTE: We fail early to avoid unintended graceful errors being replaced with their &#39;_errors&#39; param values
    self._raise_if_errors_key_is_present(parameters, self._ERRORS_KEY, raise_on_error)

    batch_params, decrypt_params = self._split_batch_and_decrypt_parameters(parameters, transform, max_age, decrypt)

    # NOTE: We need to find out whether all parameters must be decrypted or not to know which API to use
    ## Logic:
    ##
    ## GetParameters API -&gt; When decrypt is used for all parameters in the the batch
    ## GetParameter  API -&gt; When decrypt is used for one or more in the batch

    if len(decrypt_params) != len(parameters):
        decrypt_ret, decrypt_err = self._get_parameters_by_name_with_decrypt_option(decrypt_params, raise_on_error)
        batch_ret, batch_err = self._get_parameters_batch_by_name(batch_params, raise_on_error, decrypt=False)
    else:
        batch_ret, batch_err = self._get_parameters_batch_by_name(decrypt_params, raise_on_error, decrypt=True)

    # Fail-fast disabled, let&#39;s aggregate errors under &#34;_errors&#34; key so they can handle gracefully
    if not raise_on_error:
        response[self._ERRORS_KEY] = [*decrypt_err, *batch_err]

    return {**response, **batch_ret, **decrypt_ret}</code></pre>
</details>
</dd>
</dl>
<h3>Inherited members</h3>
<ul class="hlist">
<li><code><b><a title="aws_lambda_powertools.utilities.parameters.base.BaseProvider" href="base.html#aws_lambda_powertools.utilities.parameters.base.BaseProvider">BaseProvider</a></b></code>:
<ul class="hlist">
<li><code><a title="aws_lambda_powertools.utilities.parameters.base.BaseProvider.get_multiple" href="base.html#aws_lambda_powertools.utilities.parameters.base.BaseProvider.get_multiple">get_multiple</a></code></li>
</ul>
</li>
</ul>
</dd>
<dt id="aws_lambda_powertools.utilities.parameters.SecretsProvider"><code class="flex name class">
<span>class <span class="ident">SecretsProvider</span></span>
<span>(</span><span>config: Optional[botocore.config.Config] = None, boto3_session: Optional[boto3.session.Session] = None, boto3_client: Optional[ForwardRef('SecretsManagerClient')] = None)</span>
</code></dt>
<dd>
<div class="desc"><p>AWS Secrets Manager Parameter Provider</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>config</code></strong> :&ensp;<code>botocore.config.Config</code>, optional</dt>
<dd>Botocore configuration to pass during client initialization</dd>
<dt><strong><code>boto3_session</code></strong> :&ensp;<code>boto3.session.Session</code>, optional</dt>
<dd>Boto3 session to create a boto3_client from</dd>
<dt><strong><code>boto3_client</code></strong> :&ensp;<code>SecretsManagerClient</code>, optional</dt>
<dd>Boto3 SecretsManager Client to use, boto3_session will be ignored if both are provided</dd>
</dl>
<h2 id="example">Example</h2>
<p><strong>Retrieves a parameter value from Secrets Manager</strong></p>
<pre><code>&gt;&gt;&gt; from aws_lambda_powertools.utilities.parameters import SecretsProvider
&gt;&gt;&gt; secrets_provider = SecretsProvider()
&gt;&gt;&gt;
&gt;&gt;&gt; value = secrets_provider.get("my-parameter")
&gt;&gt;&gt;
&gt;&gt;&gt; print(value)
My parameter value
</code></pre>
<p><strong>Retrieves a parameter value from Secrets Manager in another AWS region</strong></p>
<pre><code>&gt;&gt;&gt; from botocore.config import Config
&gt;&gt;&gt; from aws_lambda_powertools.utilities.parameters import SecretsProvider
&gt;&gt;&gt;
&gt;&gt;&gt; config = Config(region_name="us-west-1")
&gt;&gt;&gt; secrets_provider = SecretsProvider(config=config)
&gt;&gt;&gt;
&gt;&gt;&gt; value = secrets_provider.get("my-parameter")
&gt;&gt;&gt;
&gt;&gt;&gt; print(value)
My parameter value
</code></pre>
<p><strong>Retrieves a parameter value from Secrets Manager passing options to the SDK call</strong></p>
<pre><code>&gt;&gt;&gt; from aws_lambda_powertools.utilities.parameters import SecretsProvider
&gt;&gt;&gt; secrets_provider = SecretsProvider()
&gt;&gt;&gt;
&gt;&gt;&gt; value = secrets_provider.get("my-parameter", VersionId="f658cac0-98a5-41d9-b993-8a76a7799194")
&gt;&gt;&gt;
&gt;&gt;&gt; print(value)
My parameter value
</code></pre>
<p>Initialize the Secrets Manager client</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class SecretsProvider(BaseProvider):
    &#34;&#34;&#34;
    AWS Secrets Manager Parameter Provider

    Parameters
    ----------
    config: botocore.config.Config, optional
        Botocore configuration to pass during client initialization
    boto3_session : boto3.session.Session, optional
            Boto3 session to create a boto3_client from
    boto3_client: SecretsManagerClient, optional
            Boto3 SecretsManager Client to use, boto3_session will be ignored if both are provided

    Example
    -------
    **Retrieves a parameter value from Secrets Manager**

        &gt;&gt;&gt; from aws_lambda_powertools.utilities.parameters import SecretsProvider
        &gt;&gt;&gt; secrets_provider = SecretsProvider()
        &gt;&gt;&gt;
        &gt;&gt;&gt; value = secrets_provider.get(&#34;my-parameter&#34;)
        &gt;&gt;&gt;
        &gt;&gt;&gt; print(value)
        My parameter value

    **Retrieves a parameter value from Secrets Manager in another AWS region**

        &gt;&gt;&gt; from botocore.config import Config
        &gt;&gt;&gt; from aws_lambda_powertools.utilities.parameters import SecretsProvider
        &gt;&gt;&gt;
        &gt;&gt;&gt; config = Config(region_name=&#34;us-west-1&#34;)
        &gt;&gt;&gt; secrets_provider = SecretsProvider(config=config)
        &gt;&gt;&gt;
        &gt;&gt;&gt; value = secrets_provider.get(&#34;my-parameter&#34;)
        &gt;&gt;&gt;
        &gt;&gt;&gt; print(value)
        My parameter value

    **Retrieves a parameter value from Secrets Manager passing options to the SDK call**

        &gt;&gt;&gt; from aws_lambda_powertools.utilities.parameters import SecretsProvider
        &gt;&gt;&gt; secrets_provider = SecretsProvider()
        &gt;&gt;&gt;
        &gt;&gt;&gt; value = secrets_provider.get(&#34;my-parameter&#34;, VersionId=&#34;f658cac0-98a5-41d9-b993-8a76a7799194&#34;)
        &gt;&gt;&gt;
        &gt;&gt;&gt; print(value)
        My parameter value
    &#34;&#34;&#34;

    client: Any = None

    def __init__(
        self,
        config: Optional[Config] = None,
        boto3_session: Optional[boto3.session.Session] = None,
        boto3_client: Optional[&#34;SecretsManagerClient&#34;] = None,
    ):
        &#34;&#34;&#34;
        Initialize the Secrets Manager client
        &#34;&#34;&#34;

        super().__init__()

        self.client: &#34;SecretsManagerClient&#34; = self._build_boto3_client(
            service_name=&#34;secretsmanager&#34;, client=boto3_client, session=boto3_session, config=config
        )

    def _get(self, name: str, **sdk_options) -&gt; str:
        &#34;&#34;&#34;
        Retrieve a parameter value from AWS Systems Manager Parameter Store

        Parameters
        ----------
        name: str
            Name of the parameter
        sdk_options: dict, optional
            Dictionary of options that will be passed to the Secrets Manager get_secret_value API call
        &#34;&#34;&#34;

        # Explicit arguments will take precedence over keyword arguments
        sdk_options[&#34;SecretId&#34;] = name

        secret_value = self.client.get_secret_value(**sdk_options)

        if &#34;SecretString&#34; in secret_value:
            return secret_value[&#34;SecretString&#34;]

        return secret_value[&#34;SecretBinary&#34;]

    def _get_multiple(self, path: str, **sdk_options) -&gt; Dict[str, str]:
        &#34;&#34;&#34;
        Retrieving multiple parameter values is not supported with AWS Secrets Manager
        &#34;&#34;&#34;
        raise NotImplementedError()</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="aws_lambda_powertools.utilities.parameters.base.BaseProvider" href="base.html#aws_lambda_powertools.utilities.parameters.base.BaseProvider">BaseProvider</a></li>
<li>abc.ABC</li>
</ul>
<h3>Class variables</h3>
<dl>
<dt id="aws_lambda_powertools.utilities.parameters.SecretsProvider.client"><code class="name">var <span class="ident">client</span> : Any</code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
<h3>Inherited members</h3>
<ul class="hlist">
<li><code><b><a title="aws_lambda_powertools.utilities.parameters.base.BaseProvider" href="base.html#aws_lambda_powertools.utilities.parameters.base.BaseProvider">BaseProvider</a></b></code>:
<ul class="hlist">
<li><code><a title="aws_lambda_powertools.utilities.parameters.base.BaseProvider.get" href="base.html#aws_lambda_powertools.utilities.parameters.base.BaseProvider.get">get</a></code></li>
<li><code><a title="aws_lambda_powertools.utilities.parameters.base.BaseProvider.get_multiple" href="base.html#aws_lambda_powertools.utilities.parameters.base.BaseProvider.get_multiple">get_multiple</a></code></li>
</ul>
</li>
</ul>
</dd>
<dt id="aws_lambda_powertools.utilities.parameters.TransformParameterError"><code class="flex name class">
<span>class <span class="ident">TransformParameterError</span></span>
<span>(</span><span>*args, **kwargs)</span>
</code></dt>
<dd>
<div class="desc"><p>When a provider fails to transform a parameter value</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class TransformParameterError(Exception):
    &#34;&#34;&#34;When a provider fails to transform a parameter value&#34;&#34;&#34;</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>builtins.Exception</li>
<li>builtins.BaseException</li>
</ul>
</dd>
</dl>
</section>
</article>
<nav id="sidebar">
<h1>Index</h1>
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="aws_lambda_powertools.utilities" href="../index.html">aws_lambda_powertools.utilities</a></code></li>
</ul>
</li>
<li><h3><a href="#header-submodules">Sub-modules</a></h3>
<ul>
<li><code><a title="aws_lambda_powertools.utilities.parameters.appconfig" href="appconfig.html">aws_lambda_powertools.utilities.parameters.appconfig</a></code></li>
<li><code><a title="aws_lambda_powertools.utilities.parameters.base" href="base.html">aws_lambda_powertools.utilities.parameters.base</a></code></li>
<li><code><a title="aws_lambda_powertools.utilities.parameters.dynamodb" href="dynamodb.html">aws_lambda_powertools.utilities.parameters.dynamodb</a></code></li>
<li><code><a title="aws_lambda_powertools.utilities.parameters.exceptions" href="exceptions.html">aws_lambda_powertools.utilities.parameters.exceptions</a></code></li>
<li><code><a title="aws_lambda_powertools.utilities.parameters.secrets" href="secrets.html">aws_lambda_powertools.utilities.parameters.secrets</a></code></li>
<li><code><a title="aws_lambda_powertools.utilities.parameters.ssm" href="ssm.html">aws_lambda_powertools.utilities.parameters.ssm</a></code></li>
<li><code><a title="aws_lambda_powertools.utilities.parameters.types" href="types.html">aws_lambda_powertools.utilities.parameters.types</a></code></li>
</ul>
</li>
<li><h3><a href="#header-functions">Functions</a></h3>
<ul class="">
<li><code><a title="aws_lambda_powertools.utilities.parameters.clear_caches" href="#aws_lambda_powertools.utilities.parameters.clear_caches">clear_caches</a></code></li>
<li><code><a title="aws_lambda_powertools.utilities.parameters.get_app_config" href="#aws_lambda_powertools.utilities.parameters.get_app_config">get_app_config</a></code></li>
<li><code><a title="aws_lambda_powertools.utilities.parameters.get_parameter" href="#aws_lambda_powertools.utilities.parameters.get_parameter">get_parameter</a></code></li>
<li><code><a title="aws_lambda_powertools.utilities.parameters.get_parameters" href="#aws_lambda_powertools.utilities.parameters.get_parameters">get_parameters</a></code></li>
<li><code><a title="aws_lambda_powertools.utilities.parameters.get_parameters_by_name" href="#aws_lambda_powertools.utilities.parameters.get_parameters_by_name">get_parameters_by_name</a></code></li>
<li><code><a title="aws_lambda_powertools.utilities.parameters.get_secret" href="#aws_lambda_powertools.utilities.parameters.get_secret">get_secret</a></code></li>
</ul>
</li>
<li><h3><a href="#header-classes">Classes</a></h3>
<ul>
<li>
<h4><code><a title="aws_lambda_powertools.utilities.parameters.AppConfigProvider" href="#aws_lambda_powertools.utilities.parameters.AppConfigProvider">AppConfigProvider</a></code></h4>
<ul class="">
<li><code><a title="aws_lambda_powertools.utilities.parameters.AppConfigProvider.client" href="#aws_lambda_powertools.utilities.parameters.AppConfigProvider.client">client</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="aws_lambda_powertools.utilities.parameters.BaseProvider" href="#aws_lambda_powertools.utilities.parameters.BaseProvider">BaseProvider</a></code></h4>
<ul class="">
<li><code><a title="aws_lambda_powertools.utilities.parameters.BaseProvider.add_to_cache" href="#aws_lambda_powertools.utilities.parameters.BaseProvider.add_to_cache">add_to_cache</a></code></li>
<li><code><a title="aws_lambda_powertools.utilities.parameters.BaseProvider.clear_cache" href="#aws_lambda_powertools.utilities.parameters.BaseProvider.clear_cache">clear_cache</a></code></li>
<li><code><a title="aws_lambda_powertools.utilities.parameters.BaseProvider.get" href="#aws_lambda_powertools.utilities.parameters.BaseProvider.get">get</a></code></li>
<li><code><a title="aws_lambda_powertools.utilities.parameters.BaseProvider.get_multiple" href="#aws_lambda_powertools.utilities.parameters.BaseProvider.get_multiple">get_multiple</a></code></li>
<li><code><a title="aws_lambda_powertools.utilities.parameters.BaseProvider.has_not_expired_in_cache" href="#aws_lambda_powertools.utilities.parameters.BaseProvider.has_not_expired_in_cache">has_not_expired_in_cache</a></code></li>
<li><code><a title="aws_lambda_powertools.utilities.parameters.BaseProvider.store" href="#aws_lambda_powertools.utilities.parameters.BaseProvider.store">store</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="aws_lambda_powertools.utilities.parameters.DynamoDBProvider" href="#aws_lambda_powertools.utilities.parameters.DynamoDBProvider">DynamoDBProvider</a></code></h4>
</li>
<li>
<h4><code><a title="aws_lambda_powertools.utilities.parameters.GetParameterError" href="#aws_lambda_powertools.utilities.parameters.GetParameterError">GetParameterError</a></code></h4>
</li>
<li>
<h4><code><a title="aws_lambda_powertools.utilities.parameters.SSMProvider" href="#aws_lambda_powertools.utilities.parameters.SSMProvider">SSMProvider</a></code></h4>
<ul class="">
<li><code><a title="aws_lambda_powertools.utilities.parameters.SSMProvider.client" href="#aws_lambda_powertools.utilities.parameters.SSMProvider.client">client</a></code></li>
<li><code><a title="aws_lambda_powertools.utilities.parameters.SSMProvider.get" href="#aws_lambda_powertools.utilities.parameters.SSMProvider.get">get</a></code></li>
<li><code><a title="aws_lambda_powertools.utilities.parameters.SSMProvider.get_parameters_by_name" href="#aws_lambda_powertools.utilities.parameters.SSMProvider.get_parameters_by_name">get_parameters_by_name</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="aws_lambda_powertools.utilities.parameters.SecretsProvider" href="#aws_lambda_powertools.utilities.parameters.SecretsProvider">SecretsProvider</a></code></h4>
<ul class="">
<li><code><a title="aws_lambda_powertools.utilities.parameters.SecretsProvider.client" href="#aws_lambda_powertools.utilities.parameters.SecretsProvider.client">client</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="aws_lambda_powertools.utilities.parameters.TransformParameterError" href="#aws_lambda_powertools.utilities.parameters.TransformParameterError">TransformParameterError</a></code></h4>
</li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc" title="pdoc: Python API documentation generator"><cite>pdoc</cite> 0.10.0</a>.</p>
</footer>
</body>
</html>